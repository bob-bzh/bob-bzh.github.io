<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>èµå£é¥­åƒâ”­â”®ï¹â”­â”® | BoBOvOã®å°å±‹</title><meta name="author" content="BoBOvO"><meta name="copyright" content="BoBOvO"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="é¢ç»js">
<meta property="og:type" content="article">
<meta property="og:title" content="èµå£é¥­åƒâ”­â”®ï¹â”­â”®">
<meta property="og:url" content="https://demo.bobovo.cc/posts/056.html">
<meta property="og:site_name" content="BoBOvOã®å°å±‹">
<meta property="og:description" content="é¢ç»js">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/%E5%89%8D%E7%AB%AF.jpg">
<meta property="article:published_time" content="2023-03-15T00:00:00.000Z">
<meta property="article:modified_time" content="2023-03-15T14:00:00.000Z">
<meta property="article:author" content="BoBOvO">
<meta property="article:tag" content="ğŸ–¥ï¸ä»£ç ">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/%E5%89%8D%E7%AB%AF.jpg"><link rel="shortcut icon" href="/image/cat.jpg"><link rel="canonical" href="https://demo.bobovo.cc/posts/056.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€"},
  noticeOutdate: {"limitDay":180,"position":"top","messagePrev":"è¿™ç¯‡æ–‡ç« å·²ç»æœ‰","messageNext":"å¤©æ²¡æ›´æ–°äº†,å†…å®¹å¯èƒ½å·²ç»è¿‡æ—¶"},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":230},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"top-right"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'èµå£é¥­åƒâ”­â”®ï¹â”­â”®',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-03-15 14:00:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/css/nav_menu.css"><link rel="stylesheet" href="/css/readPercent.css"><link rel="stylesheet" href="/css/progress_bar.css"><link rel="stylesheet" href="/css/article.css"><link rel="stylesheet" href="/css/card_auther.css"><link rel="stylesheet" href="/css/timeline.css"><link rel="stylesheet" href="/css/footer.css"><link rel="stylesheet" href="/css/essay_page.css"><link rel="stylesheet" href="/css/music.css"><link rel="stylesheet" href="/css/talks.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10/dist/APlayer.min.css"><!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Zfour/Butterfly-double-row-display@1.00/cardlistpost.min.css"/>
<style>#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags:before {content:"\A";
  white-space: pre;}#recent-posts > .recent-post-item >.recent-post-info > .article-meta-wrap > .tags > .article-meta__separator{display:none}</style>
<link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/font-awesome-animation.min.css" media="defer" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/tag_plugins.css" media="defer" onload="this.media='all'"><script src="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@latest/lib/assets/carousel-touch.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><div class="loading-img"></div><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="/css/progress_bar.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="web_bg"></div><div id="an_music_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/image/%E5%A4%B4%E5%83%8F.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">10</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">4</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw icon-blogaixinzhijia"></i><svg class="menu_icon fas fa-home" aria-hidden="true"><use xlink:href="#icon-blogaixinzhijia"></use></svg><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover" href="javascript:void(0);"><svg class="menu_icon hide" aria-hidden="true"><use xlink:href="#icon-blogxiewenzhang"></use></svg><span> æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon fas fa-archives" aria-hidden="true"><use xlink:href="#icon-blogguidang">                   </use></svg><span> å…¨éƒ¨</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon fas fa-tags" aria-hidden="true"><use xlink:href="#icon-blogtags1">                   </use></svg><span> æ ‡ç­¾</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon fas fa-folder-open" aria-hidden="true"><use xlink:href="#icon-blogfenlei1">                   </use></svg><span> åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon fas fa-list" aria-hidden="true"><use xlink:href="#icon-blogshouye"></use></svg><span> æˆ‘çš„</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><svg class="menu_icon fas fa-music" aria-hidden="true"><use xlink:href="#icon-blogyinle">                   </use></svg><span> éŸ³ä¹</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/changelog/"><svg class="menu_icon fas fa-changelog" aria-hidden="true"><use xlink:href="#icon-blogguidang">                   </use></svg><span> æ›´æ–°æ—¥å¿—</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><svg class="menu_icon fas fa-about" aria-hidden="true"><use xlink:href="#icon-blogguanyuwomen">                   </use></svg><span> å…³äº</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><svg class="menu_icon fas fa-about" aria-hidden="true"><use xlink:href="#icon-blogmiao">                   </use></svg><span> æ–‡æ¡ˆ</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon fas fa-envelope-open" aria-hidden="true"><use xlink:href="#icon-blogliuyanban">                   </use></svg><span> ç•™è¨€æ¿</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/talks/"><i class="fa-fw icon-blogliuyanban"></i><svg class="menu_icon fas fa-envelope-open" aria-hidden="true"><use xlink:href="#icon-blogliuyanban"></use></svg><span> åŠ¨æ€</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/link/"><i class="fa-fw icon-bloglianjie"></i><svg class="menu_icon fas fa-link" aria-hidden="true"><use xlink:href="#icon-bloglianjie"></use></svg><span> å‹é“¾</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/å‰ç«¯.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="BoBOvOã®å°å±‹"><span class="site-name">BoBOvOã®å°å±‹</span><!--å’Œé£å¤©æ°”ç»„ä»¶      --><!--#he-plugin-simple--><!--#none_space--></a></span><!--å¯¼èˆªæ ä¸­é—´    --><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/"><i class="fa-fw icon-blogaixinzhijia"></i><svg class="menu_icon fas fa-home" aria-hidden="true"><use xlink:href="#icon-blogaixinzhijia"></use></svg><span> é¦–é¡µ</span></a></div><div class="menus_item"><a class="site-page group faa-parent animated-hover" href="javascript:void(0);"><svg class="menu_icon hide" aria-hidden="true"><use xlink:href="#icon-blogxiewenzhang"></use></svg><span> æ–‡ç« </span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><svg class="menu_icon fas fa-archives" aria-hidden="true"><use xlink:href="#icon-blogguidang">                   </use></svg><span> å…¨éƒ¨</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><svg class="menu_icon fas fa-tags" aria-hidden="true"><use xlink:href="#icon-blogtags1">                   </use></svg><span> æ ‡ç­¾</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><svg class="menu_icon fas fa-folder-open" aria-hidden="true"><use xlink:href="#icon-blogfenlei1">                   </use></svg><span> åˆ†ç±»</span></a></li></ul></div><div class="menus_item"><a class="site-page group faa-parent animated-hover hide" href="javascript:void(0);"><svg class="menu_icon fas fa-list" aria-hidden="true"><use xlink:href="#icon-blogshouye"></use></svg><span> æˆ‘çš„</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/"><svg class="menu_icon fas fa-music" aria-hidden="true"><use xlink:href="#icon-blogyinle">                   </use></svg><span> éŸ³ä¹</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/changelog/"><svg class="menu_icon fas fa-changelog" aria-hidden="true"><use xlink:href="#icon-blogguidang">                   </use></svg><span> æ›´æ–°æ—¥å¿—</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/about/"><svg class="menu_icon fas fa-about" aria-hidden="true"><use xlink:href="#icon-blogguanyuwomen">                   </use></svg><span> å…³äº</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><svg class="menu_icon fas fa-about" aria-hidden="true"><use xlink:href="#icon-blogmiao">                   </use></svg><span> æ–‡æ¡ˆ</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><svg class="menu_icon fas fa-envelope-open" aria-hidden="true"><use xlink:href="#icon-blogliuyanban">                   </use></svg><span> ç•™è¨€æ¿</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/talks/"><i class="fa-fw icon-blogliuyanban"></i><svg class="menu_icon fas fa-envelope-open" aria-hidden="true"><use xlink:href="#icon-blogliuyanban"></use></svg><span> åŠ¨æ€</span></a></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="/link/"><i class="fa-fw icon-bloglianjie"></i><svg class="menu_icon fas fa-link" aria-hidden="true"><use xlink:href="#icon-bloglianjie"></use></svg><span> å‹é“¾</span></a></div></div><center id="name-container"><a id="page-name" href="javascript:scrollToTop()">PAGE_NAME</a></center><!--nav-right--></div><div id="toggleButton"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div><!--éšæœºå‰å¾€ä¸€ä¸ªæ–‡ç« --><div id="randomPost"><a class="site-page social-icon search" href="javascript:;" onclick="randomPost()" title="éšæœºè®¿é—®ä¸€ç¯‡æ–‡ç« "><i class="fas fa-circle-notch fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">èµå£é¥­åƒâ”­â”®ï¹â”­â”®</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2023-03-15T00:00:00.000Z" title="å‘è¡¨äº 2023-03-15 00:00:00">2023-03-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2023-03-15T14:00:00.000Z" title="æ›´æ–°äº 2023-03-15 14:00:00">2023-03-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%86%B2%E5%86%B2%E5%86%B2/">å†²å†²å†²</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">8.9k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>32åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="èµå£é¥­åƒâ”­â”®ï¹â”­â”®"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="JavaScript-ç³»åˆ—"><a href="#JavaScript-ç³»åˆ—" class="headerlink" title="JavaScript ç³»åˆ—"></a>JavaScript ç³»åˆ—</h2><h2 id="JavaScript-ä¸­çš„æ•°æ®ç±»å‹-å­˜å‚¨å·®åˆ«"><a href="#JavaScript-ä¸­çš„æ•°æ®ç±»å‹-å­˜å‚¨å·®åˆ«" class="headerlink" title="JavaScript ä¸­çš„æ•°æ®ç±»å‹ å­˜å‚¨å·®åˆ«"></a>JavaScript ä¸­çš„æ•°æ®ç±»å‹ å­˜å‚¨å·®åˆ«</h2><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>åœ¨ JavaScript ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†æˆä¸¤ç§ç±»å‹ï¼š</p>
<li>åŸºæœ¬ç±»å‹</li>
<li>å¤æ‚ç±»å‹</li>

<p>ä¸¤ç§ç±»å‹çš„åŒºåˆ«æ˜¯ï¼šå­˜å‚¨ä½ç½®ä¸åŒ</p>
<h3 id="1-åŸºæœ¬ç±»å‹"><a href="#1-åŸºæœ¬ç±»å‹" class="headerlink" title="1.åŸºæœ¬ç±»å‹"></a>1.åŸºæœ¬ç±»å‹</h3><p>åŸºæœ¬ç±»å‹ä¸»è¦ä¸ºä»¥ä¸‹å…­ç§:</p>
<li>Number</li>
<li>String</li>
<li>Boolean</li>
<li>Undefined</li>
<li>null</li>
<li>symbol</li>

<p><strong>Number</strong></p>
<p>æ•°å€¼æœ€å¸¸è§çš„æ•´æ•°ç±»å‹æ ¼å¼åˆ™ä¸ºåè¿›åˆ¶ï¼Œè¿˜å¯ä»¥è®¾ç½®å…«è¿›åˆ¶ï¼ˆé›¶å¼€å¤´ï¼‰ã€åå…­è¿›åˆ¶ï¼ˆ0x å¼€å¤´ï¼‰</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> intNum = <span class="number">55</span> <span class="comment">// 10è¿›åˆ¶çš„55</span></span><br><span class="line"><span class="keyword">let</span> num1 = <span class="number">070</span> <span class="comment">// 8è¿›åˆ¶çš„56</span></span><br><span class="line"><span class="keyword">let</span> hexNum1 = <span class="number">0xa</span> <span class="comment">//16è¿›åˆ¶çš„10</span></span><br></pre></td></tr></table></figure>
<p>æµ®ç‚¹ç±»å‹åˆ™åœ¨æ•°å€¼æ±‡æ€»å¿…é¡»åŒ…å«å°æ•°ç‚¹ï¼Œè¿˜å¯é€šè¿‡ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤º</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> floatNum1 = <span class="number">1.1</span></span><br><span class="line"><span class="keyword">let</span> floatNum2 = <span class="number">0.1</span></span><br><span class="line"><span class="keyword">let</span> floatNum3 = <span class="number">0.1</span> <span class="comment">// æœ‰æ•ˆï¼Œä½†ä¸æ¨è</span></span><br><span class="line"><span class="keyword">let</span> floatNum = <span class="number">3.125e7</span> <span class="comment">// ç­‰äº 31250000</span></span><br></pre></td></tr></table></figure>
<p>åœ¨æ•°å€¼ç±»å‹ä¸­ï¼Œå­˜åœ¨ä¸€ä¸ªç‰¹æ®Šæ•°å€¼ NaNï¼Œæ„ä¸ºâ€œä¸æ˜¯æ•°å€¼â€ï¼Œç”¨äºè¡¨ç¤ºæœ¬æ¥è¦è¿”å›æ•°å€¼çš„æ“ä½œå¤±è´¥äº†ï¼ˆè€Œä¸æ˜¯æŠ›å‡ºé”™è¯¯ï¼‰</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span> / <span class="number">0</span>) <span class="comment">// NaN</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(-<span class="number">0</span> / +<span class="number">0</span>) <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>
<p><strong>Undefined</strong></p>
<p><code>Undefined</code>ç±»å‹åªæœ‰ä¸€ä¸ªå€¼ï¼Œå°±æ˜¯ç‰¹æ®Šå€¼ <code>undefined</code>ã€‚å½“ä½¿ç”¨ var æˆ– let å£°æ˜äº†å˜é‡ä½†æ²¡æœ‰åˆå§‹åŒ–æ—¶ï¼Œå°±ç›¸å½“äºç»™å˜é‡èµ‹äºˆäº† <code>undefined</code>å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> message</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(message == <span class="literal">undefined</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>åŒ…å«<code>undefined</code> å€¼çš„å˜é‡è·Ÿæœªå®šä¹‰å˜é‡æ˜¯æœ‰åŒºåˆ«çš„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> message <span class="comment">// è¿™ä¸ªå˜é‡è¢«å£°æ˜äº†ï¼Œåªæ˜¯å€¼ä¸º undefined</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(message) <span class="comment">// &quot;undefined&quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(age) <span class="comment">// æ²¡æœ‰å£°æ˜è¿‡è¿™ä¸ªå˜é‡ï¼ŒæŠ¥é”™</span></span><br></pre></td></tr></table></figure>
<p><strong>String</strong></p>
<p>å­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨åŒå¼•å·ï¼ˆâ€ï¼‰ã€å•å¼•å·ï¼ˆâ€™ï¼‰æˆ–åå¼•å·ï¼ˆ`ï¼‰è¡¨ç¤º</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> firstName = <span class="string">&#x27;John&#x27;</span></span><br><span class="line"><span class="keyword">let</span> lastName = <span class="string">&#x27;Jacob&#x27;</span></span><br><span class="line"><span class="keyword">let</span> lastName = <span class="string">`Jingleheimerschmidt`</span></span><br></pre></td></tr></table></figure>
<p>å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œæ„æ€æ˜¯ä¸€æ—¦åˆ›å»ºï¼Œå®ƒä»¬çš„å€¼å°±ä¸èƒ½å˜äº†</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> lang = <span class="string">&#x27;Java&#x27;</span></span><br><span class="line">lang = lang + <span class="string">&#x27;Script&#x27;</span> <span class="comment">// å…ˆé”€æ¯å†åˆ›</span></span><br></pre></td></tr></table></figure>
<p><strong>Null</strong></p>
<p><code>Null</code>ç±»å‹åŒæ ·åªæœ‰ä¸€ä¸ªå€¼ï¼Œå³ç‰¹æ®Šå€¼ <code>null</code><br>é€»è¾‘ä¸Šè®²ï¼Œ <code>null</code> å€¼è¡¨ç¤ºä¸€ä¸ªç©ºå¯¹è±¡æŒ‡é’ˆï¼Œè¿™ä¹Ÿæ˜¯ç»™<code>typeof</code>ä¼ ä¸€ä¸ª <code>null</code> ä¼šè¿”å› <code>&quot;object&quot;</code> çš„åŸå› </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> car = <span class="literal">null</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> car) <span class="comment">// &quot;object&quot;</span></span><br></pre></td></tr></table></figure>
<p><code>undefined</code> å€¼æ˜¯ç”±<code>null</code>å€¼æ´¾ç”Ÿè€Œæ¥</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="literal">null</span> == <span class="literal">undefined</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p>åªè¦å˜é‡è¦ä¿å­˜å¯¹è±¡ï¼Œè€Œå½“æ—¶åˆæ²¡æœ‰é‚£ä¸ªå¯¹è±¡å¯ä¿å­˜ï¼Œå°±å¯ç”¨ null æ¥å¡«å……è¯¥å˜é‡</p>
<p><strong>Boolean</strong></p>
<p><code>Boolean</code>ï¼ˆå¸ƒå°”å€¼ï¼‰ç±»å‹æœ‰ä¸¤ä¸ªå­—é¢å€¼ï¼š <code>true</code> å’Œ<code>false</code><br>é€šè¿‡<code>Boolean</code>å¯ä»¥å°†å…¶ä»–ç±»å‹çš„æ•°æ®è½¬åŒ–æˆå¸ƒå°”å€¼<br>è§„åˆ™å¦‚ä¸‹:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">å¦‚ä¸‹ï¼š</span><br><span class="line">æ•°æ®ç±»å‹      			è½¬æ¢ä¸º <span class="literal">true</span> çš„å€¼      	  è½¬æ¢ä¸º <span class="literal">false</span> çš„å€¼</span><br><span class="line"> <span class="title class_">String</span>        			 éç©ºå­—ç¬¦ä¸²     	            <span class="string">&quot;&quot;</span></span><br><span class="line"> <span class="title class_">Number</span> 			éé›¶æ•°å€¼ï¼ˆåŒ…æ‹¬æ— ç©·å€¼ï¼‰  	      <span class="number">0</span> ã€ <span class="title class_">NaN</span></span><br><span class="line"> <span class="title class_">Object</span> 			    ä»»æ„å¯¹è±¡ 	                 <span class="literal">null</span></span><br><span class="line"><span class="title class_">Undefined</span> 		            N/A ï¼ˆä¸å­˜åœ¨ï¼‰ 	      <span class="literal">undefined</span></span><br></pre></td></tr></table></figure>
<p><strong>Symbol</strong><br>Symbol ï¼ˆç¬¦å·ï¼‰æ˜¯åŸå§‹å€¼ï¼Œä¸”ç¬¦å·å®ä¾‹æ˜¯å”¯ä¸€ã€ä¸å¯å˜çš„ã€‚ç¬¦å·çš„ç”¨é€”æ˜¯ç¡®ä¿å¯¹è±¡å±æ€§ä½¿ç”¨å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œä¸ä¼šå‘ç”Ÿå±æ€§å†²çªçš„å±é™©</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> genericSymbol = <span class="title class_">Symbol</span>()</span><br><span class="line"><span class="keyword">let</span> otherGenericSymbol = <span class="title class_">Symbol</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(genericSymbol == otherGenericSymbol) <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> fooSymbol = <span class="title class_">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>)</span><br><span class="line"><span class="keyword">let</span> otherFooSymbol = <span class="title class_">Symbol</span>(<span class="string">&#x27;foo&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fooSymbol == otherFooSymbol) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<h3 id="2-å¼•ç”¨ç±»å‹"><a href="#2-å¼•ç”¨ç±»å‹" class="headerlink" title="2.å¼•ç”¨ç±»å‹"></a>2.å¼•ç”¨ç±»å‹</h3><p>å¤æ‚ç±»å‹ç»Ÿç§°ä¸º<code>Object</code>ï¼Œæˆ‘ä»¬è¿™é‡Œä¸»è¦è®²è¿°ä¸‹é¢ä¸‰ç§ï¼š</p>
<li>Object</li>
<li>Array</li>
<li>Function</li>

<p><strong>Object</strong></p>
<p>åˆ›å»º<code>object</code>å¸¸ç”¨æ–¹å¼ä¸ºå¯¹è±¡å­—é¢é‡è¡¨ç¤ºæ³•ï¼Œå±æ€§åå¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> person = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Nicholas&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">29</span>,</span><br><span class="line">  <span class="number">5</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Array</strong></p>
<p><code>JavaScript</code>æ•°ç»„æ˜¯ä¸€ç»„æœ‰åºçš„æ•°æ®ï¼Œä½†è·Ÿå…¶ä»–è¯­è¨€ä¸åŒçš„æ˜¯ï¼Œæ•°ç»„ä¸­æ¯ä¸ªæ§½ä½å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„æ•°æ®ã€‚å¹¶ä¸”ï¼Œæ•°ç»„ä¹Ÿæ˜¯åŠ¨æ€å¤§å°çš„ï¼Œä¼šéšç€æ•°æ®æ·»åŠ è€Œè‡ªåŠ¨å¢é•¿</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">&#x27;red&#x27;</span>, <span class="number">2</span>, &#123; <span class="attr">age</span>: <span class="number">20</span> &#125;]</span><br><span class="line">colors.<span class="title function_">push</span>(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<p><strong>Function</strong></p>
<p>å‡½æ•°å®é™…ä¸Šæ˜¯å¯¹è±¡ï¼Œæ¯ä¸ªå‡½æ•°éƒ½æ˜¯ Function ç±»å‹çš„å®ä¾‹ï¼Œè€Œ Function ä¹Ÿæœ‰å±æ€§å’Œæ–¹æ³•ï¼Œè·Ÿå…¶ä»–å¼•ç”¨ç±»å‹ä¸€æ ·<br>å‡½æ•°å­˜åœ¨ä¸‰ç§å¸¸è§çš„è¡¨è¾¾æ–¹å¼ï¼š</p>
<li>å‡½æ•°å£°æ˜</li>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°å£°æ˜</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sum</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<li>å‡½æ•°è¡¨è¾¾å¼</li>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°å£°æ˜</span></span><br><span class="line"><span class="keyword">let</span> sum = <span class="keyword">function</span> (<span class="params">num1, num2</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<li>ç®­å¤´å‡½æ•°</li>

<p>å‡½æ•°å£°æ˜å’Œå‡½æ•°è¡¨è¾¾å¼ä¸¤ç§æ–¹å¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡½æ•°å£°æ˜</span></span><br><span class="line"><span class="keyword">let</span> sum = <span class="keyword">function</span> (<span class="params">num1, num2</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> num1 + num2</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é™¤äº†ä¸Šè¿°è¯´çš„ä¸‰ç§ä¹‹å¤–ï¼Œè¿˜åŒ…æ‹¬ Dateã€RegExpã€Mapã€Set ã€‚</p>
<h3 id="3-å­˜å‚¨åŒºåˆ«"><a href="#3-å­˜å‚¨åŒºåˆ«" class="headerlink" title="3.å­˜å‚¨åŒºåˆ«"></a>3.å­˜å‚¨åŒºåˆ«</h3><p>åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ä½ç½®ä¸åŒï¼š</p>
<li>åŸºæœ¬æ•°æ®ç±»å‹å­˜å‚¨åœ¨æ ˆä¸­</li>
<li>å¼•ç”¨ç±»å‹çš„å¯¹è±¡å­˜å‚¨äºå †ä¸­</li>

<p>å½“æˆ‘ä»¬æŠŠå˜é‡èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡æ—¶ï¼Œè§£æå™¨é¦–å…ˆè¦ç¡®è®¤çš„å°±æ˜¯è¿™ä¸ªå€¼æ˜¯åŸºæœ¬ç±»å‹å€¼è¿˜æ˜¯å¼•ç”¨ç±»å‹å€¼</p>
<h4 id="åŸºæœ¬ç±»å‹"><a href="#åŸºæœ¬ç±»å‹" class="headerlink" title="åŸºæœ¬ç±»å‹"></a>åŸºæœ¬ç±»å‹</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">10</span></span><br><span class="line"><span class="keyword">let</span> b = a <span class="comment">// èµ‹å€¼æ“ä½œ</span></span><br><span class="line">b = <span class="number">20</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a) <span class="comment">// 10å€¼</span></span><br></pre></td></tr></table></figure>
<p>a çš„å€¼ä¸ºä¸€ä¸ªåŸºæœ¬ç±»å‹ï¼Œæ˜¯å­˜å‚¨åœ¨æ ˆä¸­ï¼Œå°† a çš„å€¼èµ‹ç»™ bï¼Œè™½ç„¶ä¸¤ä¸ªå˜é‡çš„å€¼ç›¸ç­‰ï¼Œä½†æ˜¯ä¸¤ä¸ªå˜é‡ä¿å­˜äº†ä¸¤ä¸ªä¸åŒçš„å†…å­˜åœ°å€<br>ä¸‹å›¾æ¼”ç¤ºäº†åŸºæœ¬ç±»å‹èµ‹å€¼çš„è¿‡ç¨‹:</p>
<div class="img-wrap"><div class="img-bg"><img class="img" src="https://static.vue-js.com/906ffb90-6463-11eb-85f6-6fac77c0c9b3.png"/></div></div>
<h4 id="å¼•ç”¨ç±»å‹"><a href="#å¼•ç”¨ç±»å‹" class="headerlink" title="å¼•ç”¨ç±»å‹"></a>å¼•ç”¨ç±»å‹</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj1 = &#123;&#125;</span><br><span class="line"><span class="keyword">var</span> obj2 = obj1</span><br><span class="line">obj2.<span class="property">name</span> = <span class="string">&#x27;Xxx&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">name</span>) <span class="comment">// xxx</span></span><br></pre></td></tr></table></figure>
<p>å¼•ç”¨ç±»å‹æ•°æ®å­˜æ”¾åœ¨å †ä¸­ï¼Œæ¯ä¸ªå †å†…å­˜å¯¹è±¡éƒ½æœ‰å¯¹åº”çš„å¼•ç”¨åœ°å€æŒ‡å‘å®ƒï¼Œå¼•ç”¨åœ°å€å­˜æ”¾åœ¨æ ˆä¸­ã€‚<br><code>obj1</code> æ˜¯ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼Œåœ¨èµ‹å€¼æ“ä½œè¿‡ç¨‹æ±‡æ€»ï¼Œå®é™…æ˜¯å°†å †å†…å­˜å¯¹è±¡åœ¨æ ˆå†…å­˜çš„å¼•ç”¨åœ°å€å¤åˆ¶äº†ä¸€ä»½ç»™äº† <code>obj2</code>ï¼Œå®é™…ä¸Šä»–ä»¬å…±åŒæŒ‡å‘äº†åŒä¸€ä¸ªå †å†…å­˜å¯¹è±¡ï¼Œæ‰€ä»¥æ›´æ”¹ <code>obj2</code> ä¼šå¯¹ <code>obj1</code> äº§ç”Ÿå½±å“</p>
<p>ä¸‹å›¾æ¼”ç¤ºè¿™ä¸ªå¼•ç”¨ç±»å‹èµ‹å€¼è¿‡ç¨‹<br><div class="img-wrap"><div class="img-bg"><img class="img" src="https://static.vue-js.com/a34bdd10-6463-11eb-ab90-d9ae814b240d.png"/></div></div></p>
<h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><p>å£°æ˜å˜é‡æ—¶ä¸åŒçš„å†…å­˜åœ°å€åˆ†é…ï¼š</p>
<li>ç®€å•ç±»å‹çš„å€¼å­˜æ”¾åœ¨æ ˆä¸­ï¼Œåœ¨æ ˆä¸­å­˜æ”¾çš„æ˜¯å¯¹åº”çš„å€¼</li>
<li>å¼•ç”¨ç±»å‹å¯¹åº”çš„å€¼å­˜å‚¨åœ¨å †ä¸­ï¼Œåœ¨æ ˆä¸­å­˜æ”¾çš„æ˜¯æŒ‡å‘å †å†…å­˜çš„åœ°å€</li>

<p>ä¸åŒçš„æ•°æ®ç±»å‹å¯¼è‡´èµ‹å€¼å˜é‡æ—¶çš„ä¸åŒ</p>
<li>ç®€å•ç±»å‹èµ‹å€¼ï¼Œæ˜¯ç”Ÿæˆç›¸åŒçš„å€¼ï¼Œä¸¤ä¸ªå¯¹è±¡å¯¹åº”ä¸åŒçš„åœ°å€</li>
<li>å¤æ‚ç±»å‹èµ‹å€¼ï¼Œæ˜¯å°†ä¿å­˜å¯¹è±¡çš„å†…å­˜åœ°å€èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡ã€‚ä¹Ÿå°±æ˜¯ä¸¤ä¸ªå˜é‡æŒ‡å‘å †å†…å­˜ä¸­åŒä¸€ä¸ªå¯¹è±¡</li>

<h2 id="æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•æœ‰å“ªäº›"><a href="#æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•æœ‰å“ªäº›" class="headerlink" title="æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•æœ‰å“ªäº›"></a>æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•æœ‰å“ªäº›</h2><h3 id="1-æ“ä½œæ–¹æ³•"><a href="#1-æ“ä½œæ–¹æ³•" class="headerlink" title="1.æ“ä½œæ–¹æ³•"></a>1.æ“ä½œæ–¹æ³•</h3><p>æ•°ç»„åŸºæœ¬æ“ä½œå¯ä»¥å½’çº³ä¸º å¢ã€åˆ ã€æ”¹ã€æŸ¥ï¼Œéœ€è¦ç•™æ„çš„æ˜¯å“ªäº›æ–¹æ³•ä¼šå¯¹åŸæ•°ç»„äº§ç”Ÿå½±å“ï¼Œå“ªäº›æ–¹æ³•ä¸ä¼š</p>
<h4 id="å¢"><a href="#å¢" class="headerlink" title="å¢"></a>å¢</h4><p>ä¸‹é¢å‰ä¸‰ç§æ˜¯å¯¹åŸæ•°ç»„äº§ç”Ÿå½±å“çš„å¢æ·»æ–¹æ³•ï¼Œç¬¬å››ç§åˆ™ä¸ä¼šå¯¹åŸæ•°ç»„äº§ç”Ÿå½±å“</p>
<li>push()</li>
<li>unshift()</li>
<li>splice()</li>
<li>concat()</li>

<p><strong>push()</strong></p>
<p><code>push()</code>æ–¹æ³•æ¥æ”¶ä»»æ„æ•°é‡çš„å‚æ•°ï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°æ•°ç»„æœ«å°¾ï¼Œè¿”å›æ•°ç»„çš„æœ€æ–°é•¿åº¦</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [] <span class="comment">// åˆ›å»ºä¸€ä¸ªæ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> count = colors.<span class="title function_">push</span>(<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>) <span class="comment">// æ¨å…¥ä¸¤é¡¹</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(count) <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<p><strong>unshift()</strong></p>
<p><code>unshift()</code>åœ¨æ•°ç»„å¼€å¤´æ·»åŠ ä»»æ„å¤šä¸ªå€¼ï¼Œç„¶åè¿”å›æ–°çš„æ•°ç»„é•¿åº¦</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = <span class="keyword">new</span> <span class="title class_">Array</span>() <span class="comment">// åˆ›å»ºä¸€ä¸ªæ•°ç»„</span></span><br><span class="line"><span class="keyword">let</span> count = colors.<span class="title function_">unshift</span>(<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>) <span class="comment">// ä»æ•°ç»„å¼€å¤´æ¨å…¥ä¸¤é¡¹</span></span><br><span class="line"><span class="title function_">alert</span>(count) <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<p><strong>splice()</strong></p>
<p>ä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å¼€å§‹ä½ç½®ã€0ï¼ˆè¦åˆ é™¤çš„å…ƒç´ æ•°é‡ï¼‰ã€æ’å…¥çš„å…ƒç´ ï¼Œè¿”å›ç©ºæ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>]</span><br><span class="line"><span class="keyword">let</span> removed = colors.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">0</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(colors) <span class="comment">// red,yellow,orange,green,blue</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(removed) <span class="comment">// []</span></span><br></pre></td></tr></table></figure>
<p><strong>concat()</strong></p>
<p>é¦–å…ˆä¼šåˆ›å»ºä¸€ä¸ªå½“å‰æ•°ç»„çš„å‰¯æœ¬ï¼Œç„¶åå†æŠŠå®ƒçš„å‚æ•°æ·»åŠ åˆ°å‰¯æœ¬æœ«å°¾ï¼Œæœ€åè¿”å›è¿™ä¸ªæ–°æ„å»ºçš„æ•°ç»„ï¼Œä¸ä¼šå½±å“åŸå§‹æ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>]</span><br><span class="line"><span class="keyword">let</span> colors2 = colors.<span class="title function_">concat</span>(<span class="string">&#x27;yellow&#x27;</span>, [<span class="string">&#x27;black&#x27;</span>, <span class="string">&#x27;brown&#x27;</span>])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(colors) <span class="comment">// [&quot;red&quot;, &quot;green&quot;,&quot;blue&quot;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(colors2) <span class="comment">// [&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;yellow&quot;, &quot;black&quot;, &quot;brown&quot;]</span></span><br></pre></td></tr></table></figure>
<h4 id="åˆ "><a href="#åˆ " class="headerlink" title="åˆ "></a>åˆ </h4><p>ä¸‹é¢ä¸‰ç§éƒ½ä¼šå½±å“åŸæ•°ç»„ï¼Œæœ€åä¸€é¡¹ä¸å½±å“åŸæ•°ç»„ï¼š</p>
<li>pop()</li>
<li>shift()</li>
<li>splice()</li>
<li>slice()</li>

<p><strong>pop()</strong></p>
<p><code>pop()</code> æ–¹æ³•ç”¨äºåˆ é™¤æ•°ç»„çš„æœ€åä¸€é¡¹ï¼ŒåŒæ—¶å‡å°‘æ•°ç»„çš„ length å€¼ï¼Œè¿”å›è¢«åˆ é™¤çš„é¡¹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>]</span><br><span class="line"><span class="keyword">let</span> item = colors.<span class="title function_">pop</span>() <span class="comment">// å–å¾—æœ€åä¸€é¡¹</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// green</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(colors.<span class="property">length</span>) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p><strong>shift()</strong></p>
<p><code>shift()</code>æ–¹æ³•ç”¨äºåˆ é™¤æ•°ç»„çš„ç¬¬ä¸€é¡¹ï¼ŒåŒæ—¶å‡å°‘æ•°ç»„çš„ length å€¼ï¼Œè¿”å›è¢«åˆ é™¤çš„é¡¹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>]</span><br><span class="line"><span class="keyword">let</span> item = colors.<span class="title function_">shift</span>() <span class="comment">// å–å¾—ç¬¬ä¸€é¡¹</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(item) <span class="comment">// red</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(colors.<span class="property">length</span>) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p><strong>splice()</strong></p>
<p>ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å¼€å§‹ä½ç½®ï¼Œåˆ é™¤å…ƒç´ çš„æ•°é‡ï¼Œè¿”å›åŒ…å«åˆ é™¤å…ƒç´ çš„æ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>]</span><br><span class="line"><span class="keyword">let</span> removed = colors.<span class="title function_">splice</span>(<span class="number">0</span>, <span class="number">1</span>) <span class="comment">// åˆ é™¤ç¬¬ä¸€é¡¹</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(colors) <span class="comment">// green,blue</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(removed) <span class="comment">// redï¼Œåªæœ‰ä¸€ä¸ªå…ƒç´ çš„æ•°ç»„</span></span><br></pre></td></tr></table></figure>
<p><strong>slice()</strong></p>
<p><code>slice()</code> ç”¨äºåˆ›å»ºä¸€ä¸ªåŒ…å«åŸæœ‰æ•°ç»„ä¸­ä¸€ä¸ªæˆ–å¤šä¸ªå…ƒç´ çš„æ–°æ•°ç»„ï¼Œä¸ä¼šå½±å“åŸå§‹æ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>, <span class="string">&#x27;purple&#x27;</span>]</span><br><span class="line"><span class="keyword">let</span> colors2 = colors.<span class="title function_">slice</span>(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">let</span> colors3 = colors.<span class="title function_">slice</span>(<span class="number">1</span>, <span class="number">4</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(colors) <span class="comment">// red,green,blue,yellow,purple</span></span><br><span class="line">concole.<span class="title function_">log</span>(colors2) <span class="comment">// green,blue,yellow,purple</span></span><br><span class="line">concole.<span class="title function_">log</span>(colors3) <span class="comment">// green,blue,yellow</span></span><br></pre></td></tr></table></figure>
<h4 id="æ”¹"><a href="#æ”¹" class="headerlink" title="æ”¹"></a>æ”¹</h4><p>å³ä¿®æ”¹åŸæ¥æ•°ç»„çš„å†…å®¹ï¼Œå¸¸ç”¨<code>splice</code></p>
<p><strong>splice()</strong></p>
<p>ä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯å¼€å§‹ä½ç½®ï¼Œè¦åˆ é™¤å…ƒç´ çš„æ•°é‡ï¼Œè¦æ’å…¥çš„ä»»æ„å¤šä¸ªå…ƒç´ ï¼Œè¿”å›åˆ é™¤å…ƒç´ çš„æ•°ç»„ï¼Œå¯¹åŸæ•°ç»„äº§ç”Ÿå½±å“</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>]</span><br><span class="line"><span class="keyword">let</span> removed = colors.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">1</span>, <span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;purple&#x27;</span>) <span class="comment">// æ’å…¥ä¸¤ä¸ªå€¼ï¼Œåˆ é™¤ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(colors) <span class="comment">// red,red,purple,blue</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(removed) <span class="comment">// greenï¼Œåªæœ‰ä¸€ä¸ªå…ƒç´ çš„æ•°ç»„</span></span><br></pre></td></tr></table></figure>
<h4 id="æŸ¥"><a href="#æŸ¥" class="headerlink" title="æŸ¥"></a>æŸ¥</h4><p>å³æŸ¥æ‰¾å…ƒç´ ï¼Œè¿”å›å…ƒç´ åæ ‡æˆ–è€…å…ƒç´ å€¼</p>
<li>indexOf()</li>
<li>includes()</li>
<li>find()</li>

<p><strong>indexOf()</strong></p>
<p>è¿”å›è¦æŸ¥æ‰¾çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œå¦‚æœæ²¡æ‰¾åˆ°åˆ™è¿”å› -1</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">numbers.<span class="title function_">indexOf</span>(<span class="number">4</span>) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<p><strong>includes()</strong></p>
<p>è¿”å›è¦æŸ¥æ‰¾çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®ï¼Œæ‰¾åˆ°è¿”å› trueï¼Œå¦åˆ™ false</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">numbers.<span class="title function_">includes</span>(<span class="number">4</span>) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p><strong>find()</strong></p>
<p>è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„å…ƒç´ </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> people = [</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Matt&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">27</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Nicholas&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">29</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br><span class="line">people.<span class="title function_">find</span>(<span class="function">(<span class="params">element, index, array</span>) =&gt;</span> element.<span class="property">age</span> &lt; <span class="number">28</span>) <span class="comment">// // &#123;name: &quot;Matt&quot;, age: 27&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="2-æ’åºæ–¹æ³•"><a href="#2-æ’åºæ–¹æ³•" class="headerlink" title="2.æ’åºæ–¹æ³•"></a>2.æ’åºæ–¹æ³•</h3><p>æ•°ç»„æœ‰ä¸¤ä¸ªæ–¹æ³•å¯ä»¥ç”¨æ¥å¯¹å…ƒç´ é‡æ–°æ’åºï¼š</p>
<li>reverse()</li>
<li>sort()</li>

<p><strong>reverse()</strong></p>
<p>é¡¾åæ€ä¹‰ï¼Œå°†æ•°ç»„å…ƒç´ æ–¹å‘åè½¬</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> values = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">values.<span class="title function_">reverse</span>()</span><br><span class="line"><span class="title function_">alert</span>(values) <span class="comment">// 5,4,3,2,1</span></span><br></pre></td></tr></table></figure>
<p><strong>sort()</strong></p>
<p><code>sort()</code>æ–¹æ³•æ¥å—ä¸€ä¸ªæ¯”è¾ƒå‡½æ•°ï¼Œç”¨äºåˆ¤æ–­å“ªä¸ªå€¼åº”è¯¥æ’åœ¨å‰é¢</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">compare</span>(<span class="params">value1, value2</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (value1 &lt; value2) &#123;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value1 &gt; value2) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> values = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>]</span><br><span class="line">values.<span class="title function_">sort</span>(compare)</span><br><span class="line"><span class="title function_">alert</span>(values) <span class="comment">// 0,1,5,10,15</span></span><br></pre></td></tr></table></figure>
<h3 id="3-è½¬æ¢æ–¹æ³•"><a href="#3-è½¬æ¢æ–¹æ³•" class="headerlink" title="3.è½¬æ¢æ–¹æ³•"></a>3.è½¬æ¢æ–¹æ³•</h3><p>å¸¸è§çš„è½¬æ¢æ–¹æ³•æœ‰ï¼š</p>
<p><strong>join()</strong></p>
<p>join() æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œå³å­—ç¬¦ä¸²åˆ†éš”ç¬¦ï¼Œè¿”å›åŒ…å«æ‰€æœ‰é¡¹çš„å­—ç¬¦ä¸²</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> colors = [<span class="string">&#x27;red&#x27;</span>, <span class="string">&#x27;green&#x27;</span>, <span class="string">&#x27;blue&#x27;</span>]</span><br><span class="line"><span class="title function_">alert</span>(colors.<span class="title function_">join</span>(<span class="string">&#x27;,&#x27;</span>)) <span class="comment">// red,green,blue</span></span><br><span class="line"><span class="title function_">alert</span>(colors.<span class="title function_">join</span>(<span class="string">&#x27;||&#x27;</span>)) <span class="comment">// red||green||blue</span></span><br></pre></td></tr></table></figure>
<h3 id="4-è¿­ä»£æ–¹æ³•"><a href="#4-è¿­ä»£æ–¹æ³•" class="headerlink" title="4.è¿­ä»£æ–¹æ³•"></a>4.è¿­ä»£æ–¹æ³•</h3><p>å¸¸ç”¨æ¥è¿­ä»£æ•°ç»„çš„æ–¹æ³•ï¼ˆéƒ½ä¸æ”¹å˜åŸæ•°ç»„ï¼‰æœ‰å¦‚ä¸‹ï¼š</p>
<li>some()</li>
<li>every()</li>
<li>forEach()</li>
<li>filter()</li>
<li>map()</li>

<p><strong>some()</strong></p>
<p>å¯¹æ•°ç»„æ¯ä¸€é¡¹éƒ½è¿è¡Œä¼ å…¥çš„æµ‹è¯•å‡½æ•°ï¼Œå¦‚æœè‡³å°‘æœ‰ 1 ä¸ªå…ƒç´ è¿”å› true ï¼Œåˆ™è¿™ä¸ªæ–¹æ³•è¿”å› true</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line"><span class="keyword">let</span> someResult = numbers.<span class="title function_">some</span>(<span class="function">(<span class="params">item, index, array</span>) =&gt;</span> item &gt; <span class="number">2</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(someResult) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p><strong>every()</strong></p>
<p>å¯¹æ•°ç»„æ¯ä¸€é¡¹éƒ½è¿è¡Œä¼ å…¥çš„æµ‹è¯•å‡½æ•°ï¼Œå¦‚æœæ‰€æœ‰å…ƒç´ éƒ½è¿”å› true ï¼Œåˆ™è¿™ä¸ªæ–¹æ³•è¿”å› true</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line"><span class="keyword">let</span> everyResult = numbers.<span class="title function_">every</span>(<span class="function">(<span class="params">item, index, array</span>) =&gt;</span> item &gt; <span class="number">2</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(everyResult) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p><strong>forEach()</strong></p>
<p>å¯¹æ•°ç»„æ¯ä¸€é¡¹éƒ½è¿è¡Œä¼ å…¥çš„å‡½æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">numbers.<span class="title function_">forEach</span>(<span class="function">(<span class="params">item, index, array</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// æ‰§è¡ŒæŸäº›æ“ä½œ</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p><strong>filter()</strong></p>
<p>å¯¹æ•°ç»„æ¯ä¸€é¡¹éƒ½è¿è¡Œä¼ å…¥çš„å‡½æ•°ï¼Œå‡½æ•°è¿”å› true çš„é¡¹ä¼šç»„æˆæ•°ç»„ä¹‹åè¿”å›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line"><span class="keyword">let</span> filterResult = numbers.<span class="title function_">filter</span>(<span class="function">(<span class="params">item, index, array</span>) =&gt;</span> item &gt; <span class="number">2</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(filterResult) <span class="comment">// 3,4,5,4,3</span></span><br></pre></td></tr></table></figure>
<p><strong>map()</strong></p>
<p>å¯¹æ•°ç»„æ¯ä¸€é¡¹éƒ½è¿è¡Œä¼ å…¥çš„å‡½æ•°ï¼Œè¿”å›ç”±æ¯æ¬¡å‡½æ•°è°ƒç”¨çš„ç»“æœæ„æˆçš„æ•°ç»„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line"><span class="keyword">let</span> mapResult = numbers.<span class="title function_">map</span>(<span class="function">(<span class="params">item, index, array</span>) =&gt;</span> item * <span class="number">2</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mapResult) <span class="comment">// 2,4,6,8,10,8,6,4,2</span></span><br></pre></td></tr></table></figure>
<h2 id="JavaScript-ä¸­çš„ç±»å‹è½¬æ¢æœºåˆ¶"><a href="#JavaScript-ä¸­çš„ç±»å‹è½¬æ¢æœºåˆ¶" class="headerlink" title="JavaScript ä¸­çš„ç±»å‹è½¬æ¢æœºåˆ¶"></a>JavaScript ä¸­çš„ç±»å‹è½¬æ¢æœºåˆ¶</h2><h3 id="1-æ¦‚è¿°"><a href="#1-æ¦‚è¿°" class="headerlink" title="1.æ¦‚è¿°"></a>1.æ¦‚è¿°</h3><p>å‰é¢æˆ‘ä»¬è®²åˆ°ï¼ŒJS ä¸­æœ‰å…­ç§ç®€å•æ•°æ®ç±»å‹ï¼š<code>undefined</code>ã€<code>null</code>ã€<code>boolean</code>ã€<code>string</code>ã€<code>number</code>ã€<code>symbol</code>ï¼Œä»¥åŠå¼•ç”¨ç±»å‹ï¼š<code>object</code><br>ä½†æ˜¯æˆ‘ä»¬åœ¨å£°æ˜çš„æ—¶å€™åªæœ‰ä¸€ç§æ•°æ®ç±»å‹ï¼Œåªæœ‰åˆ°è¿è¡ŒæœŸé—´æ‰ä¼šç¡®å®šå½“å‰ç±»å‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = y ? <span class="number">1</span> : a</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œ<code>x</code>çš„å€¼åœ¨ç¼–è¯‘é˜¶æ®µæ˜¯æ— æ³•è·å–çš„ï¼Œåªæœ‰ç­‰åˆ°ç¨‹åºè¿è¡Œæ—¶æ‰èƒ½çŸ¥é“<br>è™½ç„¶å˜é‡çš„æ•°æ®ç±»å‹æ˜¯ä¸ç¡®å®šçš„ï¼Œä½†æ˜¯å„ç§è¿ç®—ç¬¦å¯¹æ•°æ®ç±»å‹æ˜¯æœ‰è¦æ±‚çš„ï¼Œå¦‚æœè¿ç®—å­çš„ç±»å‹ä¸é¢„æœŸä¸ç¬¦åˆï¼Œå°±ä¼šè§¦å‘ç±»å‹è½¬æ¢æœºåˆ¶</p>
<p>å¸¸è§çš„ç±»å‹è½¬æ¢æœ‰:</p>
<li>å¼ºåˆ¶è½¬æ¢ï¼ˆæ˜¾ç¤ºè½¬æ¢ï¼‰</li>
<li>è‡ªåŠ¨è½¬æ¢ï¼ˆéšå¼è½¬æ¢ï¼‰</li>

<h3 id="2-æ˜¾ç¤ºè½¬æ¢"><a href="#2-æ˜¾ç¤ºè½¬æ¢" class="headerlink" title="2.æ˜¾ç¤ºè½¬æ¢"></a>2.æ˜¾ç¤ºè½¬æ¢</h3><p>æ˜¾ç¤ºè½¬æ¢ï¼Œå³æˆ‘ä»¬å¾ˆæ¸…æ¥šå¯ä»¥çœ‹åˆ°è¿™é‡Œå‘ç”Ÿäº†ç±»å‹çš„è½¬å˜ï¼Œå¸¸è§çš„æ–¹æ³•æœ‰ï¼š</p>
<li>Number()</li>
<li>parseInt()</li>
<li>String()</li>
<li>Boolean()</li>

<p><strong>Number()</strong><br>å°†ä»»æ„ç±»å‹çš„å€¼è½¬åŒ–ä¸ºæ•°å€¼<br>å…ˆç»™å‡ºç±»å‹è½¬æ¢è§„åˆ™ï¼š</p>
<div class="img-wrap"><div class="img-bg"><img class="img" src="https://static.vue-js.com/4fafe900-3acc-11eb-85f6-6fac77c0c9b3.png"/></div></div>
<p>å®è·µä¸€ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Number</span>(<span class="number">324</span>) <span class="comment">// 324</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å­—ç¬¦ä¸²ï¼šå¦‚æœå¯ä»¥è¢«è§£æä¸ºæ•°å€¼ï¼Œåˆ™è½¬æ¢ä¸ºç›¸åº”çš„æ•°å€¼</span></span><br><span class="line"><span class="title class_">Number</span>(<span class="string">&#x27;324&#x27;</span>) <span class="comment">// 324</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å­—ç¬¦ä¸²ï¼šå¦‚æœä¸å¯ä»¥è¢«è§£æä¸ºæ•°å€¼ï¼Œè¿”å› NaN</span></span><br><span class="line"><span class="title class_">Number</span>(<span class="string">&#x27;324abc&#x27;</span>) <span class="comment">// NaN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç©ºå­—ç¬¦ä¸²è½¬ä¸º0</span></span><br><span class="line"><span class="title class_">Number</span>(<span class="string">&#x27;&#x27;</span>) <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¸ƒå°”å€¼ï¼štrue è½¬æˆ 1ï¼Œfalse è½¬æˆ 0</span></span><br><span class="line"><span class="title class_">Number</span>(<span class="literal">true</span>) <span class="comment">// 1</span></span><br><span class="line"><span class="title class_">Number</span>(<span class="literal">false</span>) <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// undefinedï¼šè½¬æˆ NaN</span></span><br><span class="line"><span class="title class_">Number</span>(<span class="literal">undefined</span>) <span class="comment">// NaN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// nullï¼šè½¬æˆ0</span></span><br><span class="line"><span class="title class_">Number</span>(<span class="literal">null</span>) <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯¹è±¡ï¼šé€šå¸¸è½¬æ¢æˆNaN(é™¤äº†åªåŒ…å«å•ä¸ªæ•°å€¼çš„æ•°ç»„)</span></span><br><span class="line"><span class="title class_">Number</span>(&#123; <span class="attr">a</span>: <span class="number">1</span> &#125;) <span class="comment">// NaN</span></span><br><span class="line"><span class="title class_">Number</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// NaN</span></span><br><span class="line"><span class="title class_">Number</span>([<span class="number">5</span>]) <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼ŒNumber è½¬æ¢çš„æ—¶å€™æ˜¯å¾ˆä¸¥æ ¼çš„ï¼Œåªè¦æœ‰ä¸€ä¸ªå­—ç¬¦æ— æ³•è½¬æˆæ•°å€¼ï¼Œæ•´ä¸ªå­—ç¬¦ä¸²å°±ä¼šè¢«è½¬ä¸º NaN</p>
<p><strong>parseInt()</strong></p>
<p><code>parseInt</code>ç›¸æ¯”<code>Number</code>ï¼Œå°±æ²¡é‚£ä¹ˆä¸¥æ ¼äº†ï¼Œ<code>parseInt</code>å‡½æ•°é€ä¸ªè§£æå­—ç¬¦ï¼Œé‡åˆ°ä¸èƒ½è½¬æ¢çš„å­—ç¬¦å°±åœä¸‹æ¥</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">&#x27;32a3&#x27;</span>) <span class="comment">//32</span></span><br></pre></td></tr></table></figure>
<p><strong>String()</strong></p>
<p>å¯ä»¥å°†ä»»æ„ç±»å‹çš„å€¼è½¬åŒ–æˆå­—ç¬¦ä¸²,å¦‚å›¾æ‰€ç¤º<br><div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/æ˜¾ç¤ºè½¬æ¢string.png"/></div></div></p>
<p>å®è·µä¸€ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°å€¼ï¼šè½¬ä¸ºç›¸åº”çš„å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="title class_">String</span>(<span class="number">1</span>) <span class="comment">// &quot;1&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å­—ç¬¦ä¸²ï¼šè½¬æ¢åè¿˜æ˜¯åŸæ¥çš„å€¼</span></span><br><span class="line"><span class="title class_">String</span>(<span class="string">&#x27;a&#x27;</span>) <span class="comment">// &quot;a&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¸ƒå°”å€¼ï¼štrueè½¬ä¸ºå­—ç¬¦ä¸²&quot;true&quot;ï¼Œfalseè½¬ä¸ºå­—ç¬¦ä¸²&quot;false&quot;</span></span><br><span class="line"><span class="title class_">String</span>(<span class="literal">true</span>) <span class="comment">// &quot;true&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//undefinedï¼šè½¬ä¸ºå­—ç¬¦ä¸²&quot;undefined&quot;</span></span><br><span class="line"><span class="title class_">String</span>(<span class="literal">undefined</span>) <span class="comment">// &quot;undefined&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//nullï¼šè½¬ä¸ºå­—ç¬¦ä¸²&quot;null&quot;</span></span><br><span class="line"><span class="title class_">String</span>(<span class="literal">null</span>) <span class="comment">// &quot;null&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯¹è±¡</span></span><br><span class="line"><span class="title class_">String</span>(&#123; <span class="attr">a</span>: <span class="number">1</span> &#125;) <span class="comment">// &quot;[object Object]&quot;</span></span><br><span class="line"><span class="title class_">String</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]) <span class="comment">// &quot;1,2,3&quot;</span></span><br></pre></td></tr></table></figure>
<p><strong>Boolean()</strong></p>
<p>å¯ä»¥å°†ä»»æ„ç±»å‹çš„å€¼è½¬ä¸ºå¸ƒå°”å€¼ï¼Œè½¬æ¢è§„åˆ™å¦‚ä¸‹ï¼š<br><div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/æ˜¾ç¤ºè½¬æ¢Boolean.png"/></div></div></p>
<p>å®è·µä¸€ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Boolean</span>(<span class="literal">undefined</span>) <span class="comment">// false</span></span><br><span class="line"><span class="title class_">Boolean</span>(<span class="literal">null</span>) <span class="comment">// false</span></span><br><span class="line"><span class="title class_">Boolean</span>(<span class="number">0</span>) <span class="comment">// false</span></span><br><span class="line"><span class="title class_">Boolean</span>(<span class="title class_">NaN</span>) <span class="comment">// false</span></span><br><span class="line"><span class="title class_">Boolean</span>(<span class="string">&#x27;&#x27;</span>) <span class="comment">// false</span></span><br><span class="line"><span class="title class_">Boolean</span>(&#123;&#125;) <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Boolean</span>([]) <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Boolean</span>(<span class="keyword">new</span> <span class="title class_">Boolean</span>(<span class="literal">false</span>)) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h3 id="3-éšå¼è½¬æ¢"><a href="#3-éšå¼è½¬æ¢" class="headerlink" title="3.éšå¼è½¬æ¢"></a>3.éšå¼è½¬æ¢</h3><p>åœ¨éšå¼è½¬æ¢ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½æœ€å¤§çš„ç–‘æƒ‘æ˜¯ ï¼šä½•æ—¶å‘ç”Ÿéšå¼è½¬æ¢ï¼Ÿ</p>
<p>æˆ‘ä»¬è¿™é‡Œå¯ä»¥å½’çº³ä¸ºä¸¤ç§æƒ…å†µå‘ç”Ÿéšå¼è½¬æ¢çš„åœºæ™¯ï¼š</p>
<li>æ¯”è¾ƒè¿ç®—ï¼ˆ==ã€!=ã€>ã€<ï¼‰ã€ifã€whileéœ€è¦å¸ƒå°”å€¼åœ°æ–¹</li>
<li>ç®—æœ¯è¿ç®—ï¼ˆ+ã€-ã€*ã€/ã€%ï¼‰</li>

<p>é™¤äº†ä¸Šé¢çš„åœºæ™¯ï¼Œè¿˜è¦æ±‚è¿ç®—ç¬¦ä¸¤è¾¹çš„æ“ä½œæ•°ä¸æ˜¯åŒä¸€ç±»å‹</p>
<p><strong>è‡ªåŠ¨è½¬æ¢ä¸ºå¸ƒå°”å€¼</strong></p>
<p>åœ¨éœ€è¦å¸ƒå°”å€¼çš„åœ°æ–¹ï¼Œå°±ä¼šå°†éå¸ƒå°”å€¼çš„å‚æ•°è‡ªåŠ¨è½¬ä¸ºå¸ƒå°”å€¼ï¼Œç³»ç»Ÿå†…éƒ¨ä¼šè°ƒç”¨<code>Boolean</code>å‡½æ•°</p>
<p>å¯ä»¥å¾—å‡ºå°ç»“:</p>
<li>undefined</li>
<li>null</li>
<li>false</li>
<li>+0</li>
<li>-0</li>
<li>NaN</li>
<li>""</li>

<p>é™¤äº†ä¸Šé¢å‡ ç§ä¼šè¢«è½¬åŒ–æˆ<code>false</code>ï¼Œå…¶ä»–éƒ½æ¢è¢«è½¬åŒ–æˆ<code>true</code></p>
<p><strong>è‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²</strong></p>
<p>é‡åˆ°é¢„æœŸä¸ºå­—ç¬¦ä¸²çš„åœ°æ–¹ï¼Œå°±ä¼šå°†éå­—ç¬¦ä¸²çš„å€¼è‡ªåŠ¨è½¬ä¸ºå­—ç¬¦ä¸²</p>
<p>å…·ä½“è§„åˆ™æ˜¯ï¼šå…ˆå°†å¤åˆç±»å‹çš„å€¼è½¬ä¸ºåŸå§‹ç±»å‹çš„å€¼ï¼Œå†å°†åŸå§‹ç±»å‹çš„å€¼è½¬ä¸ºå­—ç¬¦ä¸²</p>
<p>å¸¸å‘ç”Ÿåœ¨+è¿ç®—ä¸­ï¼Œä¸€æ—¦å­˜åœ¨å­—ç¬¦ä¸²ï¼Œåˆ™ä¼šè¿›è¡Œå­—ç¬¦ä¸²æ‹¼æ¥æ“ä½œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;5&#x27;</span> + <span class="number">1</span> <span class="comment">// &#x27;51&#x27;</span></span><br><span class="line"><span class="string">&#x27;5&#x27;</span> + <span class="literal">true</span> <span class="comment">// &quot;5true&quot;</span></span><br><span class="line"><span class="string">&#x27;5&#x27;</span> + <span class="literal">false</span> <span class="comment">// &quot;5false&quot;</span></span><br><span class="line"><span class="string">&#x27;5&#x27;</span> + &#123;&#125; <span class="comment">// &quot;5[object Object]&quot;</span></span><br><span class="line"><span class="string">&#x27;5&#x27;</span> + [] <span class="comment">// &quot;5&quot;</span></span><br><span class="line"><span class="string">&#x27;5&#x27;</span> + <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125; <span class="comment">// &quot;5function ()&#123;&#125;&quot;</span></span><br><span class="line"><span class="string">&#x27;5&#x27;</span> + <span class="literal">undefined</span> <span class="comment">// &quot;5undefined&quot;</span></span><br><span class="line"><span class="string">&#x27;5&#x27;</span> + <span class="literal">null</span> <span class="comment">// &quot;5null&quot;</span></span><br></pre></td></tr></table></figure>
<p><strong>è‡ªåŠ¨è½¬æ¢ä¸ºæ•°å€¼</strong></p>
<p>é™¤äº†<code>+</code>æœ‰å¯èƒ½æŠŠè¿ç®—å­è½¬ä¸ºå­—ç¬¦ä¸²ï¼Œå…¶ä»–è¿ç®—ç¬¦éƒ½ä¼šæŠŠè¿ç®—å­è‡ªåŠ¨è½¬æˆæ•°å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;5&#x27;</span> - <span class="string">&#x27;2&#x27;</span> <span class="comment">// 3</span></span><br><span class="line"><span class="string">&#x27;5&#x27;</span> * <span class="string">&#x27;2&#x27;</span> <span class="comment">// 10</span></span><br><span class="line"><span class="literal">true</span> - <span class="number">1</span> <span class="comment">// 0</span></span><br><span class="line"><span class="literal">false</span> - <span class="number">1</span> <span class="comment">// -1</span></span><br><span class="line"><span class="string">&#x27;1&#x27;</span> - <span class="number">1</span> <span class="comment">// 0</span></span><br><span class="line"><span class="string">&#x27;5&#x27;</span> * [] <span class="comment">// 0</span></span><br><span class="line"><span class="literal">false</span> / <span class="string">&#x27;5&#x27;</span> <span class="comment">// 0</span></span><br><span class="line"><span class="string">&#x27;abc&#x27;</span> - <span class="number">1</span> <span class="comment">// NaN</span></span><br><span class="line"><span class="literal">null</span> + <span class="number">1</span> <span class="comment">// 1</span></span><br><span class="line"><span class="literal">undefined</span> + <span class="number">1</span> <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>
<p><code>null</code>è½¬ä¸ºæ•°å€¼æ—¶ï¼Œå€¼ä¸º<code>0</code> ã€‚<code>undefined</code>è½¬ä¸ºæ•°å€¼æ—¶ï¼Œå€¼ä¸º<code>NaN</code></p>
<h2 id="æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ"><a href="#æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ" class="headerlink" title="æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ"></a>æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ</h2><h3 id="1-æ•°æ®ç±»å‹å­˜å‚¨"><a href="#1-æ•°æ®ç±»å‹å­˜å‚¨" class="headerlink" title="1.æ•°æ®ç±»å‹å­˜å‚¨"></a>1.æ•°æ®ç±»å‹å­˜å‚¨</h3><p>å‰é¢æ–‡ç« æˆ‘ä»¬è®²åˆ°ï¼Œ<code>JavaScript</code>ä¸­å­˜åœ¨ä¸¤å¤§æ•°æ®ç±»å‹ï¼š1. <code>åŸºæœ¬ç±»å‹</code> 2. <code>å¼•ç”¨ç±»å‹</code></p>
<p>åŸºæœ¬ç±»å‹æ•°æ®ä¿å­˜åœ¨åœ¨æ ˆå†…å­˜ä¸­</p>
<p>å¼•ç”¨ç±»å‹æ•°æ®ä¿å­˜åœ¨å †å†…å­˜ä¸­ï¼Œå¼•ç”¨æ•°æ®ç±»å‹çš„å˜é‡æ˜¯ä¸€ä¸ªæŒ‡å‘å †å†…å­˜ä¸­å®é™…å¯¹è±¡çš„å¼•ç”¨ï¼Œå­˜åœ¨æ ˆä¸­</p>
<h3 id="2-æµ…æ‹·è´"><a href="#2-æµ…æ‹·è´" class="headerlink" title="2.æµ…æ‹·è´"></a>2.æµ…æ‹·è´</h3><p>æµ…æ‹·è´ï¼ŒæŒ‡çš„æ˜¯åˆ›å»ºæ–°çš„æ•°æ®ï¼Œè¿™ä¸ªæ•°æ®æœ‰ç€åŸå§‹æ•°æ®å±æ€§å€¼çš„ä¸€ä»½ç²¾ç¡®æ‹·è´</p>
<p>å¦‚æœå±æ€§æ˜¯åŸºæœ¬ç±»å‹ï¼Œæ‹·è´çš„å°±æ˜¯åŸºæœ¬ç±»å‹çš„å€¼ã€‚å¦‚æœå±æ€§æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ‹·è´çš„å°±æ˜¯å†…å­˜åœ°å€</p>
<p>å³æµ…æ‹·è´æ˜¯æ‹·è´ä¸€å±‚ï¼Œæ·±å±‚æ¬¡çš„å¼•ç”¨ç±»å‹åˆ™å…±äº«å†…å­˜åœ°å€</p>
<p>ä¸‹é¢ç®€å•å®ç°ä¸€ä¸ªæµ…æ‹·è´</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">shallowClone</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> newObj = &#123;&#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> prop <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.<span class="title function_">hasOwnProperty</span>(prop)) &#123;</span><br><span class="line">      newObj[prop] = obj[prop]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> newObj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>JavaScript</code>ä¸­ï¼Œå­˜åœ¨æµ…æ‹·è´çš„ç°è±¡æœ‰ï¼š</p>
<li>Object.assign</li>
<li>Array.prototype.slice(), Array.prototype.concat()</li>
<li>ä½¿ç”¨æ‹“å±•è¿ç®—ç¬¦å®ç°çš„å¤åˆ¶</li>

<p><strong>Object.assign</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">age</span>: <span class="number">18</span>,</span><br><span class="line">  <span class="attr">nature</span>: [<span class="string">&#x27;smart&#x27;</span>, <span class="string">&#x27;good&#x27;</span>],</span><br><span class="line">  <span class="attr">names</span>: &#123;</span><br><span class="line">    <span class="attr">name1</span>: <span class="string">&#x27;fx&#x27;</span>,</span><br><span class="line">    <span class="attr">name2</span>: <span class="string">&#x27;xka&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">love</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fx is a great girl&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> newObj = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, fxObj)</span><br></pre></td></tr></table></figure>
<p><strong>slice()</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fxArr = [<span class="string">&#x27;One&#x27;</span>, <span class="string">&#x27;Two&#x27;</span>, <span class="string">&#x27;Three&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> fxArrs = fxArr.<span class="title function_">slice</span>(<span class="number">0</span>)</span><br><span class="line">fxArrs[<span class="number">1</span>] = <span class="string">&#x27;love&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fxArr) <span class="comment">// [&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fxArrs) <span class="comment">// [&quot;One&quot;, &quot;love&quot;, &quot;Three&quot;]</span></span><br></pre></td></tr></table></figure>
<p><strong>concat()</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fxArr = [<span class="string">&#x27;One&#x27;</span>, <span class="string">&#x27;Two&#x27;</span>, <span class="string">&#x27;Three&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> fxArrs = fxArr.<span class="title function_">concat</span>()</span><br><span class="line">fxArrs[<span class="number">1</span>] = <span class="string">&#x27;love&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fxArr) <span class="comment">// [&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fxArrs) <span class="comment">// [&quot;One&quot;, &quot;love&quot;, &quot;Three&quot;]</span></span><br></pre></td></tr></table></figure>
<p><strong>æ‹“å±•è¿ç®—ç¬¦</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fxArr = [<span class="string">&#x27;One&#x27;</span>, <span class="string">&#x27;Two&#x27;</span>, <span class="string">&#x27;Three&#x27;</span>]</span><br><span class="line"><span class="keyword">const</span> fxArrs = [...fxArr]</span><br><span class="line">fxArrs[<span class="number">1</span>] = <span class="string">&#x27;love&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fxArr) <span class="comment">// [&quot;One&quot;, &quot;Two&quot;, &quot;Three&quot;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fxArrs) <span class="comment">// [&quot;One&quot;, &quot;love&quot;, &quot;Three&quot;]</span></span><br></pre></td></tr></table></figure>
<h3 id="3-æ·±æ‹·è´"><a href="#3-æ·±æ‹·è´" class="headerlink" title="3.æ·±æ‹·è´"></a>3.æ·±æ‹·è´</h3><p>æ·±æ‹·è´å¼€è¾Ÿä¸€ä¸ªæ–°çš„æ ˆï¼Œä¸¤ä¸ªå¯¹è±¡å±å®Œæˆç›¸åŒï¼Œä½†æ˜¯å¯¹åº”ä¸¤ä¸ªä¸åŒçš„åœ°å€ï¼Œä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ï¼Œä¸ä¼šæ”¹å˜å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§</p>
<p>å¸¸è§çš„æ·±æ‹·è´æ–¹å¼æœ‰ï¼š</p>
<li>_.cloneDeep()</li>
<li>jQuery.extend()</li>
<li>JSON.stringify()</li>
<li>æ‰‹å†™å¾ªç¯é€’å½’</li>

<p><strong>_.cloneDeep()</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> _ = <span class="built_in">require</span>(<span class="string">&#x27;lodash&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">b</span>: &#123; <span class="attr">f</span>: &#123; <span class="attr">g</span>: <span class="number">1</span> &#125; &#125;,</span><br><span class="line">  <span class="attr">c</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = _.<span class="title function_">cloneDeep</span>(obj1)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">b</span>.<span class="property">f</span> === obj2.<span class="property">b</span>.<span class="property">f</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p><strong>jQuery.extend()</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> $ = <span class="built_in">require</span>(<span class="string">&#x27;jquery&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">b</span>: &#123; <span class="attr">f</span>: &#123; <span class="attr">g</span>: <span class="number">1</span> &#125; &#125;,</span><br><span class="line">  <span class="attr">c</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = $.<span class="title function_">extend</span>(<span class="literal">true</span>, &#123;&#125;, obj1)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">b</span>.<span class="property">f</span> === obj2.<span class="property">b</span>.<span class="property">f</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p><strong>JSON.stringify()</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj2 = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj1))</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯è¿™ç§æ–¹å¼ä¼šå­˜åœ¨å¼Šç«¯ï¼Œä¼šå¿½ç•¥<code>undefined</code>ï¼Œ<code>symbol</code>ï¼Œ<code>å‡½æ•°</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;A&#x27;</span>,</span><br><span class="line">  <span class="attr">name1</span>: <span class="literal">undefined</span>,</span><br><span class="line">  <span class="attr">name3</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">name4</span>: <span class="title class_">Symbol</span>(<span class="string">&#x27;A&#x27;</span>),</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj2 = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(obj))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj2) <span class="comment">// &#123;name: &quot;A&quot;&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong>å¾ªç¯é€’å½’</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">deepClone</span>(<span class="params">obj, hash = <span class="keyword">new</span> <span class="built_in">WeakMap</span>()</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (obj === <span class="literal">null</span>) <span class="keyword">return</span> obj <span class="comment">// å¦‚æœæ˜¯nullæˆ–è€…undefinedæˆ‘å°±ä¸è¿›è¡Œæ‹·è´æ“ä½œ</span></span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">Date</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Date</span>(obj)</span><br><span class="line">  <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> <span class="title class_">RegExp</span>) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">RegExp</span>(obj)</span><br><span class="line">  <span class="comment">// å¯èƒ½æ˜¯å¯¹è±¡æˆ–è€…æ™®é€šçš„å€¼  å¦‚æœæ˜¯å‡½æ•°çš„è¯æ˜¯ä¸éœ€è¦æ·±æ‹·è´</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> obj !== <span class="string">&#x27;object&#x27;</span>) <span class="keyword">return</span> obj</span><br><span class="line">  <span class="comment">// æ˜¯å¯¹è±¡çš„è¯å°±è¦è¿›è¡Œæ·±æ‹·è´</span></span><br><span class="line">  <span class="keyword">if</span> (hash.<span class="title function_">get</span>(obj)) <span class="keyword">return</span> hash.<span class="title function_">get</span>(obj)</span><br><span class="line">  <span class="keyword">let</span> cloneObj = <span class="keyword">new</span> obj.<span class="title function_">constructor</span>(<span class="params"></span>)</span><br><span class="line">  <span class="comment">// æ‰¾åˆ°çš„æ˜¯æ‰€å±ç±»åŸå‹ä¸Šçš„constructor,è€ŒåŸå‹ä¸Šçš„ constructoræŒ‡å‘çš„æ˜¯å½“å‰ç±»æœ¬èº«</span></span><br><span class="line">  hash.<span class="title function_">set</span>(obj, cloneObj)</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">    <span class="keyword">if</span> (obj.<span class="title function_">hasOwnProperty</span>(key)) &#123;</span><br><span class="line">      <span class="comment">// å®ç°ä¸€ä¸ªé€’å½’æ‹·è´</span></span><br><span class="line">      cloneObj[key] = <span class="title function_">deepClone</span>(obj[key], hash)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> cloneObj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-åŒºåˆ«"><a href="#4-åŒºåˆ«" class="headerlink" title="4.åŒºåˆ«"></a>4.åŒºåˆ«</h3><p>ä¸‹é¢é¦–å…ˆå€ŸåŠ©ä¸¤å¼ å›¾ï¼Œå¯ä»¥æ›´åŠ æ¸…æ™°çœ‹åˆ°æµ…æ‹·è´ä¸æ·±æ‹·è´çš„åŒºåˆ«</p>
<div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/æ·±æµ…åŒºåˆ«1.png"/></div></div>
<div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/æ·±æµ…åŒºåˆ«2.png"/></div></div>
<p>ä»ä¸Šå›¾å‘ç°ï¼Œæµ…æ‹·è´å’Œæ·±æ‹·è´éƒ½åˆ›å»ºå‡ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä½†åœ¨å¤åˆ¶å¯¹è±¡å±æ€§çš„æ—¶å€™ï¼Œè¡Œä¸ºå°±ä¸ä¸€æ ·</p>
<p>æµ…æ‹·è´åªå¤åˆ¶å±æ€§æŒ‡å‘æŸä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼Œè€Œä¸å¤åˆ¶å¯¹è±¡æœ¬èº«ï¼Œæ–°æ—§å¯¹è±¡è¿˜æ˜¯å…±äº«åŒä¸€å—å†…å­˜ï¼Œä¿®æ”¹å¯¹è±¡å±æ€§ä¼šå½±å“åŸå¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æµ…æ‹·è´</span></span><br><span class="line"><span class="keyword">const</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;init&#x27;</span>,</span><br><span class="line">  <span class="attr">arr</span>: [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>],</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj3 = <span class="title function_">shallowClone</span>(obj1) <span class="comment">// ä¸€ä¸ªæµ…æ‹·è´æ–¹æ³•</span></span><br><span class="line">obj3.<span class="property">name</span> = <span class="string">&#x27;update&#x27;</span></span><br><span class="line">obj3.<span class="property">arr</span>[<span class="number">1</span>] = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>] <span class="comment">// æ–°æ—§å¯¹è±¡è¿˜æ˜¯å…±äº«åŒä¸€å—å†…å­˜</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;obj1&#x27;</span>, obj1) <span class="comment">// obj1 &#123; name: &#x27;init&#x27;,  arr: [ 1, [ 5, 6, 7 ], 4 ] &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;obj3&#x27;</span>, obj3) <span class="comment">// obj3 &#123; name: &#x27;update&#x27;, arr: [ 1, [ 5, 6, 7 ], 4 ] &#125;</span></span><br></pre></td></tr></table></figure>
<p>ä½†æ·±æ‹·è´ä¼šå¦å¤–åˆ›é€ ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„å¯¹è±¡ï¼Œæ–°å¯¹è±¡å’ŒåŸå¯¹è±¡ä¸å…±äº«å†…å­˜ï¼Œä¿®æ”¹æ–°å¯¹è±¡ä¸ä¼šæ”¹å˜åŸå¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ·±æ‹·è´</span></span><br><span class="line"><span class="keyword">const</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;init&#x27;</span>,</span><br><span class="line">  <span class="attr">arr</span>: [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>], <span class="number">4</span>],</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> obj4 = <span class="title function_">deepClone</span>(obj1) <span class="comment">// ä¸€ä¸ªæ·±æ‹·è´æ–¹æ³•</span></span><br><span class="line">obj4.<span class="property">name</span> = <span class="string">&#x27;update&#x27;</span></span><br><span class="line">obj4.<span class="property">arr</span>[<span class="number">1</span>] = [<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>] <span class="comment">// æ–°å¯¹è±¡è·ŸåŸå¯¹è±¡ä¸å…±äº«å†…å­˜</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;obj1&#x27;</span>, obj1) <span class="comment">// obj1 &#123; name: &#x27;init&#x27;, arr: [ 1, [ 2, 3 ], 4 ] &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;obj4&#x27;</span>, obj4) <span class="comment">// obj4 &#123; name: &#x27;update&#x27;, arr: [ 1, [ 5, 6, 7 ], 4 ] &#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>å‰æä¸ºæ‹·è´ç±»å‹ä¸ºå¼•ç”¨ç±»å‹çš„æƒ…å†µä¸‹ï¼š</p>
<li>æµ…æ‹·è´æ˜¯æ‹·è´ä¸€å±‚ï¼Œå±æ€§ä¸ºå¯¹è±¡æ—¶ï¼Œæµ…æ‹·è´æ˜¯å¤åˆ¶ï¼Œä¸¤ä¸ªå¯¹è±¡æŒ‡å‘åŒä¸€ä¸ªåœ°å€</li>
<li>æ·±æ‹·è´æ˜¯é€’å½’æ‹·è´æ·±å±‚æ¬¡ï¼Œå±æ€§ä¸ºå¯¹è±¡æ—¶ï¼Œæ·±æ‹·è´æ˜¯æ–°å¼€æ ˆï¼Œä¸¤ä¸ªå¯¹è±¡æŒ‡å‘ä¸åŒçš„åœ°å€</li>

<h2 id="å¯¹é—­åŒ…çš„ç†è§£ï¼Œä½¿ç”¨åœºæ™¯"><a href="#å¯¹é—­åŒ…çš„ç†è§£ï¼Œä½¿ç”¨åœºæ™¯" class="headerlink" title="å¯¹é—­åŒ…çš„ç†è§£ï¼Œä½¿ç”¨åœºæ™¯"></a>å¯¹é—­åŒ…çš„ç†è§£ï¼Œä½¿ç”¨åœºæ™¯</h2><h3 id="1-æ˜¯ä»€ä¹ˆ"><a href="#1-æ˜¯ä»€ä¹ˆ" class="headerlink" title="1.æ˜¯ä»€ä¹ˆ"></a>1.æ˜¯ä»€ä¹ˆ</h3><p>ä¸€ä¸ªå‡½æ•°å¯¹å…¶å‘¨å›´çŠ¶æ€ï¼ˆlexical environmentï¼Œè¯æ³•ç¯å¢ƒï¼‰çš„å¼•ç”¨æ†ç»‘åœ¨ä¸€èµ·(æˆ–è€…è¯´å‡½æ•°è¢«å¼•ç”¨åŒ…å›´)ï¼Œè¿™æ ·çš„ç»„åˆå°±æ˜¯é—­åŒ…(closure)</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œé—­åŒ…è®©ä½ å¯ä»¥åœ¨ä¸€ä¸ªå†…å±‚å‡½æ•°ä¸­è®¿é—®åˆ°å…¶å¤–å±‚å‡½æ•°çš„ä½œç”¨åŸŸ</p>
<p>åœ¨<code>JavaScript</code>ä¸­ï¼Œæ¯å½“åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œé—­åŒ…å°±ä¼šåœ¨å‡½æ•°åˆ›å»ºçš„åŒæ—¶è¢«åˆ›å»ºå‡ºæ¥ï¼Œä½œä¸ºå‡½æ•°å†…éƒ¨ä¸å¤–éƒ¨è¿æ¥èµ·æ¥çš„ä¸€åº§æ¡¥æ¢<br>ä¸‹é¢ç»™å‡ºä¸€ä¸ªç®€å•çš„ä¾‹å­</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">&#x27;Mozilla&#x27;</span> <span class="comment">// name æ˜¯ä¸€ä¸ªè¢« init åˆ›å»ºçš„å±€éƒ¨å˜é‡</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">displayName</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// displayName() æ˜¯å†…éƒ¨å‡½æ•°ï¼Œä¸€ä¸ªé—­åŒ…</span></span><br><span class="line">    <span class="title function_">alert</span>(name) <span class="comment">// ä½¿ç”¨äº†çˆ¶å‡½æ•°ä¸­å£°æ˜çš„å˜é‡</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">displayName</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">init</span>()</span><br></pre></td></tr></table></figure>
<p><code>displayName()</code> æ²¡æœ‰è‡ªå·±çš„å±€éƒ¨å˜é‡ã€‚ç„¶è€Œï¼Œç”±äºé—­åŒ…çš„ç‰¹æ€§ï¼Œå®ƒå¯ä»¥è®¿é—®åˆ°å¤–éƒ¨å‡½æ•°çš„å˜é‡</p>
<h3 id="2-ä½¿ç”¨åœºæ™¯"><a href="#2-ä½¿ç”¨åœºæ™¯" class="headerlink" title="2.ä½¿ç”¨åœºæ™¯"></a>2.ä½¿ç”¨åœºæ™¯</h3><p>ä»»ä½•é—­åŒ…çš„ä½¿ç”¨åœºæ™¯éƒ½ç¦»ä¸å¼€è¿™ä¸¤ç‚¹:</p>
<li>åˆ›å»ºç§æœ‰å˜é‡</li>
<li>å»¶é•¿å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ</li>

<p></p>

<blockquote><p>ä¸€èˆ¬å‡½æ•°çš„è¯æ³•ç¯å¢ƒåœ¨å‡½æ•°è¿”å›åå°±è¢«é”€æ¯ï¼Œä½†æ˜¯é—­åŒ…ä¼šä¿å­˜å¯¹åˆ›å»ºæ—¶æ‰€åœ¨è¯æ³•ç¯å¢ƒçš„å¼•ç”¨ï¼Œå³ä¾¿åˆ›å»ºæ—¶æ‰€åœ¨çš„æ‰§è¡Œä¸Šä¸‹æ–‡è¢«é”€æ¯ï¼Œä½†åˆ›å»ºæ—¶æ‰€åœ¨è¯æ³•ç¯å¢ƒä¾ç„¶å­˜åœ¨ï¼Œä»¥è¾¾åˆ°å»¶é•¿å˜é‡çš„ç”Ÿå‘½å‘¨æœŸçš„ç›®çš„</p>
</blockquote>
<p>ä¸¾ä¸ªæ —å­:<br>åœ¨é¡µé¢ä¸Šæ·»åŠ ä¸€äº›å¯ä»¥è°ƒæ•´å­—å·çš„æŒ‰é’®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">makeSizer</span>(<span class="params">size</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">fontSize</span> = size + <span class="string">&#x27;px&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> size12 = <span class="title function_">makeSizer</span>(<span class="number">12</span>)</span><br><span class="line"><span class="keyword">var</span> size14 = <span class="title function_">makeSizer</span>(<span class="number">14</span>)</span><br><span class="line"><span class="keyword">var</span> size16 = <span class="title function_">makeSizer</span>(<span class="number">16</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;size-12&#x27;</span>).<span class="property">onclick</span> = size12</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;size-14&#x27;</span>).<span class="property">onclick</span> = size14</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;size-16&#x27;</span>).<span class="property">onclick</span> = size16</span><br></pre></td></tr></table></figure>
<p><strong>æŸ¯é‡ŒåŒ–å‡½æ•°</strong></p>
<p>æŸ¯é‡ŒåŒ–çš„ç›®çš„åœ¨äºé¿å…é¢‘ç¹è°ƒç”¨å…·æœ‰ç›¸åŒå‚æ•°å‡½æ•°çš„åŒæ—¶ï¼Œåˆèƒ½å¤Ÿè½»æ¾çš„é‡ç”¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ±‚é•¿æ–¹å½¢é¢ç§¯çš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getArea</span>(<span class="params">width, height</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> width * height</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¦‚æœæˆ‘ä»¬ç¢°åˆ°çš„é•¿æ–¹å½¢çš„å®½è€æ˜¯10</span></span><br><span class="line"><span class="keyword">const</span> area1 = <span class="title function_">getArea</span>(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line"><span class="keyword">const</span> area2 = <span class="title function_">getArea</span>(<span class="number">10</span>, <span class="number">30</span>)</span><br><span class="line"><span class="keyword">const</span> area3 = <span class="title function_">getArea</span>(<span class="number">10</span>, <span class="number">40</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é—­åŒ…æŸ¯é‡ŒåŒ–è¿™ä¸ªè®¡ç®—é¢ç§¯çš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getArea</span>(<span class="params">width</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">height</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> width * height</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> getTenWidthArea = <span class="title function_">getArea</span>(<span class="number">10</span>)</span><br><span class="line"><span class="comment">// ä¹‹åç¢°åˆ°å®½åº¦ä¸º10çš„é•¿æ–¹å½¢å°±å¯ä»¥è¿™æ ·è®¡ç®—é¢ç§¯</span></span><br><span class="line"><span class="keyword">const</span> area1 = <span class="title function_">getTenWidthArea</span>(<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è€Œä¸”å¦‚æœé‡åˆ°å®½åº¦å¶å°”å˜åŒ–ä¹Ÿå¯ä»¥è½»æ¾å¤ç”¨</span></span><br><span class="line"><span class="keyword">const</span> getTwentyWidthArea = <span class="title function_">getArea</span>(<span class="number">20</span>)</span><br></pre></td></tr></table></figure>
<p><strong>ä½¿ç”¨é—­åŒ…æ¨¡æ‹Ÿç§æœ‰æ–¹æ³•</strong></p>
<p>åœ¨<code>JavaScript</code>ä¸­ï¼Œæ²¡æœ‰æ”¯æŒå£°æ˜ç§æœ‰å˜é‡ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é—­åŒ…æ¥æ¨¡æ‹Ÿç§æœ‰æ–¹æ³•</p>
<p>ä¸‹é¢ä¸¾ä¸ªä¾‹å­:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Counter</span> = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> privateCounter = <span class="number">0</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">changeBy</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    privateCounter += val</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">increment</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">changeBy</span>(<span class="number">1</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">decrement</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title function_">changeBy</span>(-<span class="number">1</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">value</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> privateCounter</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)()</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Counter1</span> = <span class="title function_">makeCounter</span>()</span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Counter2</span> = <span class="title function_">makeCounter</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Counter1</span>.<span class="title function_">value</span>()) <span class="comment">/* logs 0 */</span></span><br><span class="line"><span class="title class_">Counter1</span>.<span class="title function_">increment</span>()</span><br><span class="line"><span class="title class_">Counter1</span>.<span class="title function_">increment</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Counter1</span>.<span class="title function_">value</span>()) <span class="comment">/* logs 2 */</span></span><br><span class="line"><span class="title class_">Counter1</span>.<span class="title function_">decrement</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Counter1</span>.<span class="title function_">value</span>()) <span class="comment">/* logs 1 */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Counter2</span>.<span class="title function_">value</span>()) <span class="comment">/* logs 0 */</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°é€šè¿‡ä½¿ç”¨é—­åŒ…æ¥å®šä¹‰å…¬å…±å‡½æ•°ï¼Œå¹¶ä»¤å…¶å¯ä»¥è®¿é—®ç§æœ‰å‡½æ•°å’Œå˜é‡ï¼Œè¿™ç§æ–¹å¼ä¹Ÿå«æ¨¡å—æ–¹å¼</p>
<p>ä¸¤ä¸ªè®¡æ•°å™¨ <code>Counter1</code> å’Œ <code>Counter2</code> æ˜¯ç»´æŠ¤å®ƒä»¬å„è‡ªçš„ç‹¬ç«‹æ€§çš„ï¼Œæ¯æ¬¡è°ƒç”¨å…¶ä¸­ä¸€ä¸ªè®¡æ•°å™¨æ—¶ï¼Œé€šè¿‡æ”¹å˜è¿™ä¸ªå˜é‡çš„å€¼ï¼Œä¼šæ”¹å˜è¿™ä¸ªé—­åŒ…çš„è¯æ³•ç¯å¢ƒï¼Œä¸ä¼šå½±å“å¦ä¸€ä¸ªé—­åŒ…ä¸­çš„å˜é‡</p>
<p><strong>å…¶ä»–</strong></p>
<p>ä¾‹å¦‚è®¡æ•°å™¨ã€å»¶è¿Ÿè°ƒç”¨ã€å›è°ƒç­‰é—­åŒ…çš„åº”ç”¨ï¼Œå…¶æ ¸å¿ƒæ€æƒ³è¿˜æ˜¯åˆ›å»ºç§æœ‰å˜é‡å’Œå»¶é•¿å˜é‡çš„ç”Ÿå‘½å‘¨æœŸ</p>
<h3 id="3-æ³¨æ„äº‹é¡¹"><a href="#3-æ³¨æ„äº‹é¡¹" class="headerlink" title="3.æ³¨æ„äº‹é¡¹"></a>3.æ³¨æ„äº‹é¡¹</h3><p>å¦‚æœä¸æ˜¯æŸäº›ç‰¹å®šä»»åŠ¡éœ€è¦ä½¿ç”¨é—­åŒ…ï¼Œåœ¨å…¶å®ƒå‡½æ•°ä¸­åˆ›å»ºå‡½æ•°æ˜¯ä¸æ˜æ™ºçš„ï¼Œå› ä¸ºé—­åŒ…åœ¨å¤„ç†é€Ÿåº¦å’Œå†…å­˜æ¶ˆè€—æ–¹é¢å¯¹è„šæœ¬æ€§èƒ½å…·æœ‰è´Ÿé¢å½±å“</p>
<p>ä¾‹å¦‚ï¼Œåœ¨åˆ›å»ºæ–°çš„å¯¹è±¡æˆ–è€…ç±»æ—¶ï¼Œæ–¹æ³•é€šå¸¸åº”è¯¥å…³è”äºå¯¹è±¡çš„åŸå‹ï¼Œè€Œä¸æ˜¯å®šä¹‰åˆ°å¯¹è±¡çš„æ„é€ å™¨ä¸­ã€‚</p>
<p>åŸå› åœ¨äºæ¯ä¸ªå¯¹è±¡çš„åˆ›å»ºï¼Œæ–¹æ³•éƒ½ä¼šè¢«é‡æ–°èµ‹å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">MyObject</span>(<span class="params">name, message</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name.<span class="title function_">toString</span>()</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">message</span> = message.<span class="title function_">toString</span>()</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">getName</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">getMessage</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">message</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰åˆ©ç”¨åˆ°é—­åŒ…çš„å¥½å¤„ï¼Œå› æ­¤å¯ä»¥é¿å…ä½¿ç”¨é—­åŒ…ã€‚ä¿®æ”¹æˆå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">MyObject</span>(<span class="params">name, message</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name.<span class="title function_">toString</span>()</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">message</span> = message.<span class="title function_">toString</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">MyObject</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getName</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">MyObject</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getMessage</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">message</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å¯¹ä½œç”¨åŸŸé“¾çš„ç†è§£"><a href="#å¯¹ä½œç”¨åŸŸé“¾çš„ç†è§£" class="headerlink" title="å¯¹ä½œç”¨åŸŸé“¾çš„ç†è§£"></a>å¯¹ä½œç”¨åŸŸé“¾çš„ç†è§£</h2><h3 id="1-ä½œç”¨åŸŸ"><a href="#1-ä½œç”¨åŸŸ" class="headerlink" title="1.ä½œç”¨åŸŸ"></a>1.ä½œç”¨åŸŸ</h3><p>ä½œç”¨åŸŸï¼Œå³å˜é‡ï¼ˆå˜é‡ä½œç”¨åŸŸåˆç§°ä¸Šä¸‹æ–‡ï¼‰å’Œå‡½æ•°ç”Ÿæ•ˆï¼ˆèƒ½è¢«è®¿é—®ï¼‰çš„åŒºåŸŸæˆ–é›†åˆ</p>
<p>æ¢å¥è¯è¯´ï¼Œä½œç”¨åŸŸå†³å®šäº†ä»£ç åŒºå—ä¸­å˜é‡å’Œå…¶ä»–èµ„æºçš„å¯è§æ€§</p>
<p>ä¸¾ä¸ªä¾‹å­:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myFunction</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> inVariable = <span class="string">&#x27;å‡½æ•°å†…éƒ¨å˜é‡&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">myFunction</span>() <span class="comment">//è¦å…ˆæ‰§è¡Œè¿™ä¸ªå‡½æ•°ï¼Œå¦åˆ™æ ¹æœ¬ä¸çŸ¥é“é‡Œé¢æ˜¯å•¥</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(inVariable) <span class="comment">// Uncaught ReferenceError: inVariable is not defined</span></span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä¾‹å­ä¸­ï¼Œå‡½æ•° myFunction å†…éƒ¨åˆ›å»ºä¸€ä¸ª<code>inVariable</code>å˜é‡ï¼Œå½“æˆ‘ä»¬åœ¨å…¨å±€è®¿é—®è¿™ä¸ªå˜é‡çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šæŠ¥é”™</p>
<p>è¿™å°±è¯´æ˜æˆ‘ä»¬åœ¨å…¨å±€æ˜¯æ— æ³•è·å–åˆ°ï¼ˆé—­åŒ…é™¤å¤–ï¼‰å‡½æ•°å†…éƒ¨çš„å˜é‡</p>
<p>æˆ‘ä»¬ä¸€èˆ¬å°†ä½œç”¨åŸŸåˆ†æˆ:</p>
<li>å…¨å±€ä½œç”¨åŸŸ</li>
<li>å‡½æ•°ä½œç”¨åŸŸ</li>
<li>å—çº§ä½œç”¨åŸŸ</li>

<p><strong>å…¨å±€ä½œç”¨åŸŸ</strong></p>
<p>ä»»ä½•ä¸åœ¨å‡½æ•°ä¸­æˆ–æ˜¯å¤§æ‹¬å·ä¸­å£°æ˜çš„å˜é‡ï¼Œéƒ½æ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸä¸‹ï¼Œå…¨å±€ä½œç”¨åŸŸä¸‹å£°æ˜çš„å˜é‡å¯ä»¥åœ¨ç¨‹åºçš„ä»»æ„ä½ç½®è®¿é—®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…¨å±€å˜é‡</span></span><br><span class="line"><span class="keyword">var</span> greeting = <span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">greet</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(greeting)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰“å° &#x27;Hello World!&#x27;</span></span><br><span class="line"><span class="title function_">greet</span>()</span><br></pre></td></tr></table></figure>
<p><strong>å‡½æ•°ä½œç”¨åŸŸ</strong></p>
<p>å‡½æ•°ä½œç”¨åŸŸä¹Ÿå«å±€éƒ¨ä½œç”¨åŸŸï¼Œå¦‚æœä¸€ä¸ªå˜é‡æ˜¯åœ¨å‡½æ•°å†…éƒ¨å£°æ˜çš„å®ƒå°±åœ¨ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸‹é¢ã€‚è¿™äº›å˜é‡åªèƒ½åœ¨å‡½æ•°å†…éƒ¨è®¿é—®ï¼Œä¸èƒ½åœ¨å‡½æ•°ä»¥å¤–å»è®¿é—®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">greet</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> greeting = <span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(greeting)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ‰“å° &#x27;Hello World!&#x27;</span></span><br><span class="line"><span class="title function_">greet</span>()</span><br><span class="line"><span class="comment">// æŠ¥é”™ï¼š Uncaught ReferenceError: greeting is not defined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(greeting)</span><br></pre></td></tr></table></figure>
<p>å¯è§ä¸Šè¿°ä»£ç ä¸­åœ¨å‡½æ•°å†…éƒ¨å£°æ˜çš„å˜é‡æˆ–å‡½æ•°ï¼Œåœ¨å‡½æ•°å¤–éƒ¨æ˜¯æ— æ³•è®¿é—®çš„ï¼Œè¿™è¯´æ˜åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡æˆ–è€…æ–¹æ³•åªæ˜¯å‡½æ•°ä½œç”¨åŸŸ</p>
<p><strong>å—çº§ä½œç”¨åŸŸ</strong></p>
<p>ES6 å¼•å…¥äº† let å’Œ const å…³é”®å­—,å’Œ var å…³é”®å­—ä¸åŒï¼Œåœ¨å¤§æ‹¬å·ä¸­ä½¿ç”¨ let å’Œ const å£°æ˜çš„å˜é‡å­˜åœ¨äºå—çº§ä½œç”¨åŸŸä¸­ã€‚åœ¨å¤§æ‹¬å·ä¹‹å¤–ä¸èƒ½è®¿é—®è¿™äº›å˜é‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="comment">// å—çº§ä½œç”¨åŸŸä¸­çš„å˜é‡</span></span><br><span class="line">  <span class="keyword">let</span> greeting = <span class="string">&#x27;Hello World!&#x27;</span></span><br><span class="line">  <span class="keyword">var</span> lang = <span class="string">&#x27;English&#x27;</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(greeting) <span class="comment">// Prints &#x27;Hello World!&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å˜é‡ &#x27;English&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(lang)</span><br><span class="line"><span class="comment">// æŠ¥é”™ï¼šUncaught ReferenceError: greeting is not defined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(greeting)</span><br></pre></td></tr></table></figure>
<h3 id="2-è¯æ³•ä½œç”¨åŸŸ"><a href="#2-è¯æ³•ä½œç”¨åŸŸ" class="headerlink" title="2.è¯æ³•ä½œç”¨åŸŸ"></a>2.è¯æ³•ä½œç”¨åŸŸ</h3><p>è¯æ³•ä½œç”¨åŸŸï¼Œåˆå«é™æ€ä½œç”¨åŸŸï¼Œå˜é‡è¢«åˆ›å»ºæ—¶å°±ç¡®å®šå¥½äº†ï¼Œè€Œéæ‰§è¡Œé˜¶æ®µç¡®å®šçš„ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å†™å¥½ä»£ç æ—¶å®ƒçš„ä½œç”¨åŸŸå°±ç¡®å®šäº†ï¼ŒJavaScript éµå¾ªçš„å°±æ˜¯è¯æ³•ä½œç”¨åŸŸ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">3</span></span><br><span class="line">  <span class="title function_">foo</span>()</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">bar</span>()</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç å˜æˆä¸€å¼ å›¾<br><div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/è¯æ³•ä½œç”¨åŸŸ1.png"/></div></div></p>
<p>ç”±äº <code>JavaScript</code> éµå¾ªè¯æ³•ä½œç”¨åŸŸï¼Œç›¸åŒå±‚çº§çš„ foo å’Œ bar å°±æ²¡æœ‰åŠæ³•è®¿é—®åˆ°å½¼æ­¤å—ä½œç”¨åŸŸä¸­çš„å˜é‡ï¼Œæ‰€ä»¥è¾“å‡º 2</p>
<h3 id="3-ä½œç”¨åŸŸé“¾"><a href="#3-ä½œç”¨åŸŸé“¾" class="headerlink" title="3.ä½œç”¨åŸŸé“¾"></a>3.ä½œç”¨åŸŸé“¾</h3><p>å½“åœ¨ Javascript ä¸­ä½¿ç”¨ä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼Œé¦–å…ˆ Javascript å¼•æ“ä¼šå°è¯•åœ¨å½“å‰ä½œç”¨åŸŸä¸‹å»å¯»æ‰¾è¯¥å˜é‡ï¼Œå¦‚æœæ²¡æ‰¾åˆ°ï¼Œå†åˆ°å®ƒçš„ä¸Šå±‚ä½œç”¨åŸŸå¯»æ‰¾ï¼Œä»¥æ­¤ç±»æ¨ç›´åˆ°æ‰¾åˆ°è¯¥å˜é‡æˆ–æ˜¯å·²ç»åˆ°äº†å…¨å±€ä½œç”¨åŸŸ</p>
<p>å¦‚æœåœ¨å…¨å±€ä½œç”¨åŸŸé‡Œä»ç„¶æ‰¾ä¸åˆ°è¯¥å˜é‡ï¼Œå®ƒå°±ä¼šåœ¨å…¨å±€èŒƒå›´å†…éšå¼å£°æ˜è¯¥å˜é‡(éä¸¥æ ¼æ¨¡å¼ä¸‹)æˆ–æ˜¯ç›´æ¥æŠ¥é”™</p>
<p>è¿™é‡Œæ‹¿ã€Šä½ ä¸çŸ¥é“çš„ Javascript(ä¸Š)ã€‹ä¸­çš„ä¸€å¼ å›¾è§£é‡Šï¼š</p>
<p>æŠŠä½œç”¨åŸŸæ¯”å–»æˆä¸€ä¸ªå»ºç­‘ï¼Œè¿™ä»½å»ºç­‘ä»£è¡¨ç¨‹åºä¸­çš„åµŒå¥—ä½œç”¨åŸŸé“¾ï¼Œç¬¬ä¸€å±‚ä»£è¡¨å½“å‰çš„æ‰§è¡Œä½œç”¨åŸŸï¼Œé¡¶å±‚ä»£è¡¨å…¨å±€ä½œç”¨åŸŸ</p>
<div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/ä½œç”¨åŸŸé“¾1.png"/></div></div>
<p>å˜é‡çš„å¼•ç”¨ä¼šé¡ºç€å½“å‰æ¥¼å±‚è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™ä¼šå¾€ä¸Šä¸€å±‚æ‰¾ï¼Œä¸€æ—¦åˆ°è¾¾é¡¶å±‚ï¼ŒæŸ¥æ‰¾çš„è¿‡ç¨‹éƒ½ä¼šåœæ­¢<br>ä¸‹é¢ä»£ç æ¼”ç¤ºä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sex = <span class="string">&#x27;ç”·&#x27;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">person</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> name = <span class="string">&#x27;å¼ ä¸‰&#x27;</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">student</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> age = <span class="number">18</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(name) <span class="comment">// å¼ ä¸‰</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(sex) <span class="comment">// ç”·</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">student</span>()</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(age) <span class="comment">// Uncaught ReferenceError: age is not defined</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">person</span>()</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä»£ç ä¸»è¦ä¸»è¦åšäº†ä»¥ä¸‹å·¥ä½œï¼š</p>
<li>studentå‡½æ•°å†…éƒ¨å±äºæœ€å†…å±‚ä½œç”¨åŸŸï¼Œæ‰¾ä¸åˆ°nameï¼Œå‘ä¸Šä¸€å±‚ä½œç”¨åŸŸpersonå‡½æ•°å†…éƒ¨æ‰¾ï¼Œæ‰¾åˆ°äº†è¾“å‡ºâ€œå¼ ä¸‰â€</li>
<li>studentå†…éƒ¨è¾“å‡ºsexæ—¶æ‰¾ä¸åˆ°ï¼Œå‘ä¸Šä¸€å±‚ä½œç”¨åŸŸpersonå‡½æ•°æ‰¾ï¼Œè¿˜æ‰¾ä¸åˆ°ç»§ç»­å‘ä¸Šä¸€å±‚æ‰¾ï¼Œå³å…¨å±€ä½œç”¨åŸŸï¼Œæ‰¾åˆ°äº†è¾“å‡ºâ€œç”·â€</li>
<li>åœ¨personå‡½æ•°å†…éƒ¨è¾“å‡ºageæ—¶æ‰¾ä¸åˆ°ï¼Œå‘ä¸Šä¸€å±‚ä½œç”¨åŸŸæ‰¾ï¼Œå³å…¨å±€ä½œç”¨åŸŸï¼Œè¿˜æ˜¯æ‰¾ä¸åˆ°åˆ™æŠ¥é”™</li>

<h2 id="JavaScript-åŸå‹ï¼ŒåŸå‹é“¾ï¼Œæœ‰ä»€ä¹ˆç‰¹ç‚¹"><a href="#JavaScript-åŸå‹ï¼ŒåŸå‹é“¾ï¼Œæœ‰ä»€ä¹ˆç‰¹ç‚¹" class="headerlink" title="JavaScript åŸå‹ï¼ŒåŸå‹é“¾ï¼Œæœ‰ä»€ä¹ˆç‰¹ç‚¹"></a>JavaScript åŸå‹ï¼ŒåŸå‹é“¾ï¼Œæœ‰ä»€ä¹ˆç‰¹ç‚¹</h2><h3 id="1-åŸå‹"><a href="#1-åŸå‹" class="headerlink" title="1.åŸå‹"></a>1.åŸå‹</h3><p><code>JavaScript</code>å¸¸è¢«æè¿°ä¸ºä¸€ç§åŸºäºåŸå‹çš„è¯­è¨€â€”â€”æ¯ä¸ªå¯¹è±¡æ‹¥æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡</p>
<p>å½“è¯•å›¾è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„å±æ€§æ—¶ï¼Œå®ƒä¸ä»…ä»…åœ¨è¯¥å¯¹è±¡ä¸Šæœå¯»ï¼Œè¿˜ä¼šæœå¯»è¯¥å¯¹è±¡çš„åŸå‹ï¼Œä»¥åŠè¯¥å¯¹è±¡çš„åŸå‹çš„åŸå‹ï¼Œä¾æ¬¡å±‚å±‚å‘ä¸Šæœç´¢ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªåå­—åŒ¹é…çš„å±æ€§æˆ–åˆ°è¾¾åŸå‹é“¾çš„æœ«å°¾</p>
<p>å‡†ç¡®åœ°è¯´ï¼Œè¿™äº›å±æ€§å’Œæ–¹æ³•å®šä¹‰åœ¨ Object çš„æ„é€ å™¨å‡½æ•°ï¼ˆconstructor functionsï¼‰ä¹‹ä¸Šçš„ prototype å±æ€§ä¸Šï¼Œè€Œéå®ä¾‹å¯¹è±¡æœ¬èº«</p>
<p>ä¸‹é¢ä¸¾ä¸ªä¾‹å­ï¼š å‡½æ•°å¯ä»¥æœ‰å±æ€§ã€‚ æ¯ä¸ªå‡½æ•°éƒ½æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å±æ€§å«ä½œåŸå‹ <code>prototype</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">doSomething</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(doSomething.<span class="property"><span class="keyword">prototype</span></span>)</span><br></pre></td></tr></table></figure>
<p>æ§åˆ¶å°è¾“å‡º:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">constructor</span>: Æ’ <span class="title function_">doSomething</span>(),</span><br><span class="line">    <span class="attr">__proto__</span>: &#123;</span><br><span class="line">        <span class="attr">constructor</span>: Æ’ <span class="title class_">Object</span>(),</span><br><span class="line">        <span class="attr">hasOwnProperty</span>: Æ’ <span class="title function_">hasOwnProperty</span>(),</span><br><span class="line">        <span class="attr">isPrototypeOf</span>: Æ’ <span class="title function_">isPrototypeOf</span>(),</span><br><span class="line">        <span class="attr">propertyIsEnumerable</span>: Æ’ <span class="title function_">propertyIsEnumerable</span>(),</span><br><span class="line">        <span class="attr">toLocaleString</span>: Æ’ <span class="title function_">toLocaleString</span>(),</span><br><span class="line">        <span class="attr">toString</span>: Æ’ <span class="title function_">toString</span>(),</span><br><span class="line">        <span class="attr">valueOf</span>: Æ’ <span class="title function_">valueOf</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢è¿™ä¸ªå¯¹è±¡ï¼Œå°±æ˜¯å¤§å®¶å¸¸è¯´çš„åŸå‹å¯¹è±¡<br>å¯ä»¥çœ‹åˆ°ï¼ŒåŸå‹å¯¹è±¡æœ‰ä¸€ä¸ªè‡ªæœ‰å±æ€§<code>constructor</code>ï¼Œè¿™ä¸ªå±æ€§æŒ‡å‘è¯¥å‡½æ•°ï¼Œå¦‚ä¸‹å›¾å…³ç³»å±•ç¤º<br><div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/åŸå‹.png"/></div></div></p>
<h3 id="2-åŸå‹é“¾"><a href="#2-åŸå‹é“¾" class="headerlink" title="2.åŸå‹é“¾"></a>2.åŸå‹é“¾</h3><p>åŸå‹å¯¹è±¡ä¹Ÿå¯èƒ½æ‹¥æœ‰åŸå‹ï¼Œå¹¶ä»ä¸­ç»§æ‰¿æ–¹æ³•å’Œå±æ€§ï¼Œä¸€å±‚ä¸€å±‚ã€ä»¥æ­¤ç±»æ¨ã€‚è¿™ç§å…³ç³»å¸¸è¢«ç§°ä¸ºåŸå‹é“¾ (prototype chain)ï¼Œå®ƒè§£é‡Šäº†ä¸ºä½•ä¸€ä¸ªå¯¹è±¡ä¼šæ‹¥æœ‰å®šä¹‰åœ¨å…¶ä»–å¯¹è±¡ä¸­çš„å±æ€§å’Œæ–¹æ³•</p>
<p>åœ¨å¯¹è±¡å®ä¾‹å’Œå®ƒçš„æ„é€ å™¨ä¹‹é—´å»ºç«‹ä¸€ä¸ªé“¾æ¥ï¼ˆå®ƒæ˜¯<strong>proto</strong>å±æ€§ï¼Œæ˜¯ä»æ„é€ å‡½æ•°çš„ prototype å±æ€§æ´¾ç”Ÿçš„ï¼‰ï¼Œä¹‹åé€šè¿‡ä¸Šæº¯åŸå‹é“¾ï¼Œåœ¨æ„é€ å™¨ä¸­æ‰¾åˆ°è¿™äº›å±æ€§å’Œæ–¹æ³•</p>
<p>ä¸‹é¢ä¸¾ä¸ªä¾‹å­:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">age</span> = <span class="number">18</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">sayName</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¬¬äºŒæ­¥ åˆ›å»ºå®ä¾‹</span></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;person&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>æ ¹æ®ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸‹å›¾<br><div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/åŸå‹é“¾1.png"/></div></div></p>
<p>ä¸‹é¢åˆ†æä¸€ä¸‹ï¼š</p>
<li>æ„é€ å‡½æ•°Personå­˜åœ¨åŸå‹å¯¹è±¡Person.prototype</li>
<li>æ„é€ å‡½æ•°ç”Ÿæˆå®ä¾‹å¯¹è±¡personï¼Œpersonçš„__proto__æŒ‡å‘æ„é€ å‡½æ•°PersonåŸå‹å¯¹è±¡</li>
<li>Person.prototype.__proto__ æŒ‡å‘å†…ç½®å¯¹è±¡ï¼Œå› ä¸º Person.prototype æ˜¯ä¸ªå¯¹è±¡ï¼Œé»˜è®¤æ˜¯ç”± Objectå‡½æ•°ä½œä¸ºç±»åˆ›å»ºçš„ï¼Œè€Œ Object.prototype ä¸ºå†…ç½®å¯¹è±¡</li>
<li>Person.__proto__ æŒ‡å‘å†…ç½®åŒ¿åå‡½æ•° anonymousï¼Œå› ä¸º Person æ˜¯ä¸ªå‡½æ•°å¯¹è±¡ï¼Œé»˜è®¤ç”± Function ä½œä¸ºç±»åˆ›å»º</li>
<li>Function.prototype å’Œ Function.__proto__åŒæ—¶æŒ‡å‘å†…ç½®åŒ¿åå‡½æ•° anonymousï¼Œè¿™æ ·åŸå‹é“¾çš„ç»ˆç‚¹å°±æ˜¯ null</li>

<h3 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3.æ€»ç»“"></a>3.æ€»ç»“</h3><p>ä¸‹é¢é¦–å…ˆè¦çœ‹å‡ ä¸ªæ¦‚å¿µï¼š</p>
<p><code>__proto__</code>ä½œä¸ºä¸åŒå¯¹è±¡ä¹‹é—´çš„æ¡¥æ¢ï¼Œç”¨æ¥æŒ‡å‘åˆ›å»ºå®ƒçš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡çš„<br><div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/åŸå‹é“¾2.png"/></div></div></p>
<p>æ¯ä¸ªå¯¹è±¡çš„<code>__proto__</code>éƒ½æ˜¯æŒ‡å‘å®ƒçš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡<code>prototype</code>çš„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">person1.<span class="property">__proto__</span> === <span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span></span><br></pre></td></tr></table></figure>
<p>æ„é€ å‡½æ•°æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œæ˜¯é€šè¿‡ <code>Function</code>æ„é€ å™¨äº§ç”Ÿçš„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Person</span>.<span class="property">__proto__</span> === <span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span></span><br></pre></td></tr></table></figure>
<p>åŸå‹å¯¹è±¡æœ¬èº«æ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œè€Œæ™®é€šå¯¹è±¡çš„æ„é€ å‡½æ•°éƒ½æ˜¯<code>Object</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span> === <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span></span><br></pre></td></tr></table></figure>
<p>åˆšåˆšä¸Šé¢è¯´äº†ï¼Œæ‰€æœ‰çš„æ„é€ å™¨éƒ½æ˜¯å‡½æ•°å¯¹è±¡ï¼Œå‡½æ•°å¯¹è±¡éƒ½æ˜¯ <code>Function</code>æ„é€ äº§ç”Ÿçš„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="property">__proto__</span> === <span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span></span><br></pre></td></tr></table></figure>
<p><code>Object</code>çš„åŸå‹å¯¹è±¡ä¹Ÿæœ‰<code>__proto__</code>å±æ€§æŒ‡å‘<code>null</code>ï¼Œ<code>null</code>æ˜¯åŸå‹é“¾çš„é¡¶ç«¯</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">__proto__</span> === <span class="literal">null</span></span><br></pre></td></tr></table></figure>
<p>ä¸‹é¢åšå‡ºæ€»ç»“:</p>
<li>ä¸€åˆ‡å¯¹è±¡éƒ½æ˜¯ç»§æ‰¿è‡ªObjectå¯¹è±¡ï¼ŒObject å¯¹è±¡ç›´æ¥ç»§æ‰¿æ ¹æºå¯¹è±¡null</li>
<li>ä¸€åˆ‡çš„å‡½æ•°å¯¹è±¡ï¼ˆåŒ…æ‹¬ Object å¯¹è±¡ï¼‰ï¼Œéƒ½æ˜¯ç»§æ‰¿è‡ª Function å¯¹è±¡</li>
<li>Object å¯¹è±¡ç›´æ¥ç»§æ‰¿è‡ª Function å¯¹è±¡</li>
<li>Functionå¯¹è±¡çš„__proto__ä¼šæŒ‡å‘è‡ªå·±çš„åŸå‹å¯¹è±¡ï¼Œæœ€ç»ˆè¿˜æ˜¯ç»§æ‰¿è‡ªObjectå¯¹è±¡</li>

<h2 id="JavaScript-æ€ä¹ˆå®ç°ç»§æ‰¿"><a href="#JavaScript-æ€ä¹ˆå®ç°ç»§æ‰¿" class="headerlink" title="JavaScript æ€ä¹ˆå®ç°ç»§æ‰¿"></a>JavaScript æ€ä¹ˆå®ç°ç»§æ‰¿</h2><h3 id="1-æ˜¯ä»€ä¹ˆ-1"><a href="#1-æ˜¯ä»€ä¹ˆ-1" class="headerlink" title="1.æ˜¯ä»€ä¹ˆ"></a>1.æ˜¯ä»€ä¹ˆ</h3><p>ç»§æ‰¿ï¼ˆinheritanceï¼‰æ˜¯é¢å‘å¯¹è±¡è½¯ä»¶æŠ€æœ¯å½“ä¸­çš„ä¸€ä¸ªæ¦‚å¿µã€‚<br>å¦‚æœä¸€ä¸ªç±»åˆ« Bâ€œç»§æ‰¿è‡ªâ€å¦ä¸€ä¸ªç±»åˆ« Aï¼Œå°±æŠŠè¿™ä¸ª B ç§°ä¸ºâ€œA çš„å­ç±»â€ï¼Œè€ŒæŠŠ A ç§°ä¸ºâ€œB çš„çˆ¶ç±»åˆ«â€ä¹Ÿå¯ä»¥ç§°â€œA æ˜¯ B çš„è¶…ç±»â€</p>
<p>ç»§æ‰¿çš„ä¼˜ç‚¹:</p>
<li>ç»§æ‰¿å¯ä»¥ä½¿å¾—å­ç±»å…·æœ‰çˆ¶ç±»åˆ«çš„å„ç§å±æ€§å’Œæ–¹æ³•ï¼Œè€Œä¸éœ€è¦å†æ¬¡ç¼–å†™ç›¸åŒçš„ä»£ç </li>
<li>åœ¨å­ç±»åˆ«ç»§æ‰¿çˆ¶ç±»åˆ«çš„åŒæ—¶ï¼Œå¯ä»¥é‡æ–°å®šä¹‰æŸäº›å±æ€§ï¼Œå¹¶é‡å†™æŸäº›æ–¹æ³•ï¼Œå³è¦†ç›–çˆ¶ç±»åˆ«çš„åŸæœ‰å±æ€§å’Œæ–¹æ³•ï¼Œä½¿å…¶è·å¾—ä¸çˆ¶ç±»åˆ«ä¸åŒçš„åŠŸèƒ½</li>

<p>è™½ç„¶<code>JavaScript</code>å¹¶ä¸æ˜¯çœŸæ­£çš„é¢å‘å¯¹è±¡è¯­è¨€ï¼Œä½†å®ƒå¤©ç”Ÿçš„çµæ´»æ€§ï¼Œä½¿åº”ç”¨åœºæ™¯æ›´åŠ ä¸°å¯Œ</p>
<p>å…³äºç»§æ‰¿ï¼Œæˆ‘ä»¬ä¸¾ä¸ªå½¢è±¡çš„ä¾‹å­ï¼š</p>
<p>å®šä¹‰ä¸€ä¸ªç±»ï¼ˆClassï¼‰å«æ±½è½¦ï¼Œæ±½è½¦çš„å±æ€§åŒ…æ‹¬é¢œè‰²ã€è½®èƒã€å“ç‰Œã€é€Ÿåº¦ã€æ’æ°”é‡ç­‰</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">color, speed</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">color</span> = color</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">speed</span> = speed</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”±æ±½è½¦è¿™ä¸ªç±»å¯ä»¥æ´¾ç”Ÿå‡ºâ€œè½¿è½¦â€å’Œâ€œè´§è½¦â€ä¸¤ä¸ªç±»ï¼Œåœ¨æ±½è½¦çš„åŸºç¡€å±æ€§ä¸Šï¼Œä¸ºè½¿è½¦æ·»åŠ ä¸€ä¸ªåå¤‡å¢ã€ç»™è´§è½¦æ·»åŠ ä¸€ä¸ªå¤§è´§ç®±</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è´§è½¦</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Truck</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Car</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">color, speed</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(color, speed)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">Container</span> = <span class="literal">true</span> <span class="comment">// è´§ç®±</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·è½¿è½¦å’Œè´§è½¦å°±æ˜¯ä¸ä¸€æ ·çš„ï¼Œä½†æ˜¯äºŒè€…éƒ½å±äºæ±½è½¦è¿™ä¸ªç±»ï¼Œæ±½è½¦ã€è½¿è½¦ç»§æ‰¿äº†æ±½è½¦çš„å±æ€§ï¼Œè€Œä¸éœ€è¦å†æ¬¡åœ¨â€œè½¿è½¦â€ä¸­å®šä¹‰æ±½è½¦å·²ç»æœ‰çš„å±æ€§</p>
<p>åœ¨â€œè½¿è½¦â€ç»§æ‰¿â€œæ±½è½¦â€çš„åŒæ—¶ï¼Œä¹Ÿå¯ä»¥é‡æ–°å®šä¹‰æ±½è½¦çš„æŸäº›å±æ€§ï¼Œå¹¶é‡å†™æˆ–è¦†ç›–æŸäº›å±æ€§å’Œæ–¹æ³•ï¼Œä½¿å…¶è·å¾—ä¸â€œæ±½è½¦â€è¿™ä¸ªçˆ¶ç±»ä¸åŒçš„å±æ€§å’Œæ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Truck</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Car</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">color, speed</span>) &#123;</span><br><span class="line">    <span class="variable language_">super</span>(color, speed)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">color</span> = <span class="string">&#x27;black&#x27;</span> <span class="comment">//è¦†ç›–</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">Container</span> = <span class="literal">true</span> <span class="comment">// è´§ç®±</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»è¿™ä¸ªä¾‹å­ä¸­å°±èƒ½è¯¦ç»†è¯´æ˜æ±½è½¦ã€è½¿è½¦ä»¥åŠå¡è½¦ä¹‹é—´çš„ç»§æ‰¿å…³ç³»</p>
<h3 id="2-å®ç°æ–¹å¼"><a href="#2-å®ç°æ–¹å¼" class="headerlink" title="2.å®ç°æ–¹å¼"></a>2.å®ç°æ–¹å¼</h3><p>ä¸‹é¢ç»™å‡º<code>JavaScripy</code>å¸¸è§çš„ç»§æ‰¿æ–¹å¼:</p>
<li>åŸå‹é“¾ç»§æ‰¿</li>
<li>æ„é€ å‡½æ•°ç»§æ‰¿ï¼ˆå€ŸåŠ© callï¼‰</li>
<li>ç»„åˆç»§æ‰¿</li>
<li>åŸå‹å¼ç»§æ‰¿</li>
<li>å¯„ç”Ÿå¼ç»§æ‰¿</li>
<li>å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</li>

<p><strong>åŸå‹é“¾ç»§æ‰¿</strong></p>
<p>åŸå‹é“¾ç»§æ‰¿æ˜¯æ¯”è¾ƒå¸¸è§çš„ç»§æ‰¿æ–¹å¼ä¹‹ä¸€ï¼Œå…¶ä¸­æ¶‰åŠçš„æ„é€ å‡½æ•°ã€åŸå‹å’Œå®ä¾‹ï¼Œä¸‰è€…ä¹‹é—´å­˜åœ¨ç€ä¸€å®šçš„å…³ç³»ï¼Œå³æ¯ä¸€ä¸ªæ„é€ å‡½æ•°éƒ½æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ï¼ŒåŸå‹å¯¹è±¡åˆåŒ…å«ä¸€ä¸ªæŒ‡å‘æ„é€ å‡½æ•°çš„æŒ‡é’ˆï¼Œè€Œå®ä¾‹åˆ™åŒ…å«ä¸€ä¸ªåŸå‹å¯¹è±¡çš„æŒ‡é’ˆ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Parent</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;parent1&#x27;</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">play</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Child</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">type</span> = <span class="string">&#x27;child2&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Child1</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Parent</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">new</span> <span class="title class_">Child</span>())</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç çœ‹ä¼¼æ²¡é—®é¢˜ï¼Œå®é™…å­˜åœ¨æ½œåœ¨é—®é¢˜</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="keyword">new</span> <span class="title class_">Child2</span>()</span><br><span class="line"><span class="keyword">var</span> s2 = <span class="keyword">new</span> <span class="title class_">Child2</span>()</span><br><span class="line">s1.<span class="property">play</span>.<span class="title function_">push</span>(<span class="number">4</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1.<span class="property">play</span>, s2.<span class="property">play</span>) <span class="comment">// [1,2,3,4]</span></span><br></pre></td></tr></table></figure>
<p>æ”¹å˜ s1 çš„ play å±æ€§ï¼Œä¼šå‘ç° s2 ä¹Ÿè·Ÿç€å‘ç”Ÿå˜åŒ–äº†ï¼Œè¿™æ˜¯å› ä¸ºä¸¤ä¸ªå®ä¾‹ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œå†…å­˜ç©ºé—´æ˜¯å…±äº«çš„</p>
<p><strong>æ„é€ å‡½æ•°ç»§æ‰¿</strong></p>
<p>å€ŸåŠ© <code>call</code>è°ƒç”¨<code>Parent</code>å‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Parent</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;parent1&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Parent</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getName</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Child</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title class_">Parent1</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>)</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">type</span> = <span class="string">&#x27;child&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> child = <span class="keyword">new</span> <span class="title class_">Child</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(child) <span class="comment">// æ²¡é—®é¢˜</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(child.<span class="title function_">getName</span>()) <span class="comment">// ä¼šæŠ¥é”™</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼Œçˆ¶ç±»åŸå‹å¯¹è±¡ä¸­ä¸€æ—¦å­˜åœ¨çˆ¶ç±»ä¹‹å‰è‡ªå·±å®šä¹‰çš„æ–¹æ³•ï¼Œé‚£ä¹ˆå­ç±»å°†æ— æ³•ç»§æ‰¿è¿™äº›æ–¹æ³•</p>
<p>ç›¸æ¯”ç¬¬ä¸€ç§åŸå‹é“¾ç»§æ‰¿æ–¹å¼ï¼Œçˆ¶ç±»çš„å¼•ç”¨å±æ€§ä¸ä¼šè¢«å…±äº«ï¼Œä¼˜åŒ–äº†ç¬¬ä¸€ç§ç»§æ‰¿æ–¹å¼çš„å¼Šç«¯ï¼Œä½†æ˜¯åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿åŸå‹å±æ€§æˆ–è€…æ–¹æ³•</p>
<p><strong>ç»„åˆç»§æ‰¿</strong><br>å‰é¢æˆ‘ä»¬è®²åˆ°ä¸¤ç§ç»§æ‰¿æ–¹å¼ï¼Œå„æœ‰ä¼˜ç¼ºç‚¹ã€‚ç»„åˆç»§æ‰¿åˆ™å°†å‰ä¸¤ç§æ–¹å¼ç»§æ‰¿èµ·æ¥</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Parent3</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;parent3&#x27;</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">play</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Parent3</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getName</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Child3</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// ç¬¬äºŒæ¬¡è°ƒç”¨ Parent3()</span></span><br><span class="line">  <span class="title class_">Parent3</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>)</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">type</span> = <span class="string">&#x27;child3&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç¬¬ä¸€æ¬¡è°ƒç”¨ Parent3()</span></span><br><span class="line"><span class="title class_">Child3</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Parent3</span>()</span><br><span class="line"><span class="comment">// æ‰‹åŠ¨æŒ‚ä¸Šæ„é€ å™¨ï¼ŒæŒ‡å‘è‡ªå·±çš„æ„é€ å‡½æ•°</span></span><br><span class="line"><span class="title class_">Child3</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = <span class="title class_">Child3</span></span><br><span class="line"><span class="keyword">var</span> s3 = <span class="keyword">new</span> <span class="title class_">Child3</span>()</span><br><span class="line"><span class="keyword">var</span> s4 = <span class="keyword">new</span> <span class="title class_">Child3</span>()</span><br><span class="line">s3.<span class="property">play</span>.<span class="title function_">push</span>(<span class="number">4</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s3.<span class="property">play</span>, s4.<span class="property">play</span>) <span class="comment">// ä¸äº’ç›¸å½±å“</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s3.<span class="title function_">getName</span>()) <span class="comment">// æ­£å¸¸è¾“å‡º&#x27;parent3&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s4.<span class="title function_">getName</span>()) <span class="comment">// æ­£å¸¸è¾“å‡º&#x27;parent3&#x27;</span></span><br></pre></td></tr></table></figure>
<p>è¿™ç§æ–¹å¼çœ‹èµ·æ¥å°±æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œæ–¹å¼ä¸€å’Œæ–¹å¼äºŒçš„é—®é¢˜éƒ½è§£å†³äº†ï¼Œä½†æ˜¯ä»ä¸Šé¢ä»£ç æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹åˆ°<code>Parent3</code> æ‰§è¡Œäº†ä¸¤æ¬¡ï¼Œé€ æˆäº†å¤šæ„é€ ä¸€æ¬¡çš„æ€§èƒ½å¼€é”€</p>
<p><strong>åŸå‹å¼ç»§æ‰¿</strong></p>
<p>è¿™é‡Œä¸»è¦å€ŸåŠ©<code>Object.create</code>æ–¹æ³•å®ç°æ™®é€šå¯¹è±¡çš„ç»§æ‰¿</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> parent4 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;parent4&#x27;</span>,</span><br><span class="line">  <span class="attr">friends</span>: [<span class="string">&#x27;p1&#x27;</span>, <span class="string">&#x27;p2&#x27;</span>, <span class="string">&#x27;p3&#x27;</span>],</span><br><span class="line">  <span class="attr">getName</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person4 = <span class="title class_">Object</span>.<span class="title function_">create</span>(parent4)</span><br><span class="line">person4.<span class="property">name</span> = <span class="string">&#x27;tom&#x27;</span></span><br><span class="line">person4.<span class="property">friends</span>.<span class="title function_">push</span>(<span class="string">&#x27;jerry&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person5 = <span class="title class_">Object</span>.<span class="title function_">create</span>(parent4)</span><br><span class="line">person5.<span class="property">friends</span>.<span class="title function_">push</span>(<span class="string">&#x27;lucy&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person4.<span class="property">name</span>) <span class="comment">// tom</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person4.<span class="property">name</span> === person4.<span class="title function_">getName</span>()) <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person5.<span class="property">name</span>) <span class="comment">// parent4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person4.<span class="property">friends</span>) <span class="comment">// [&quot;p1&quot;, &quot;p2&quot;, &quot;p3&quot;,&quot;jerry&quot;,&quot;lucy&quot;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person5.<span class="property">friends</span>) <span class="comment">// [&quot;p1&quot;, &quot;p2&quot;, &quot;p3&quot;,&quot;jerry&quot;,&quot;lucy&quot;]</span></span><br></pre></td></tr></table></figure>
<p>è¿™ç§ç»§æ‰¿æ–¹å¼çš„ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œå› ä¸º<code>Object.create</code>æ–¹æ³•å®ç°çš„æ˜¯æµ…æ‹·è´ï¼Œå¤šä¸ªå®ä¾‹çš„å¼•ç”¨ç±»å‹å±æ€§æŒ‡å‘ç›¸åŒçš„å†…å­˜ï¼Œå­˜åœ¨ç¯¡æ”¹çš„å¯èƒ½</p>
<p><strong>å¯„ç”Ÿå¼ç»§æ‰¿</strong></p>
<p>å¯„ç”Ÿå¼ç»§æ‰¿åœ¨ä¸Šé¢ç»§æ‰¿åŸºç¡€ä¸Šè¿›è¡Œä¼˜åŒ–ï¼Œåˆ©ç”¨è¿™ä¸ªæµ…æ‹·è´çš„èƒ½åŠ›å†è¿›è¡Œå¢å¼ºï¼Œæ·»åŠ ä¸€äº›æ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> parent5 = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;parent5&#x27;</span>,</span><br><span class="line">  <span class="attr">friends</span>: [<span class="string">&#x27;p1&#x27;</span>, <span class="string">&#x27;p2&#x27;</span>, <span class="string">&#x27;p3&#x27;</span>],</span><br><span class="line">  <span class="attr">getName</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">clone</span>(<span class="params">original</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> clone = <span class="title class_">Object</span>.<span class="title function_">create</span>(original)</span><br><span class="line">  clone.<span class="property">getFriends</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">friends</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> clone</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person5 = <span class="title function_">clone</span>(parent5)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person5.<span class="title function_">getName</span>()) <span class="comment">// parent5</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person5.<span class="title function_">getFriends</span>()) <span class="comment">// [&quot;p1&quot;, &quot;p2&quot;, &quot;p3&quot;]</span></span><br></pre></td></tr></table></figure>
<p>å…¶ä¼˜ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œè·Ÿä¸Šé¢è®²çš„åŸå‹å¼ç»§æ‰¿ä¸€æ ·</p>
<p><strong>å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</strong></p>
<p>å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿ï¼Œå€ŸåŠ©è§£å†³æ™®é€šå¯¹è±¡çš„ç»§æ‰¿é—®é¢˜çš„<code>Object.create</code>æ–¹æ³•ï¼Œåœ¨å‰é¢å‡ ç§ç»§æ‰¿æ–¹å¼çš„ä¼˜ç¼ºç‚¹åŸºç¡€ä¸Šè¿›è¡Œæ”¹é€ ï¼Œè¿™ä¹Ÿæ˜¯æ‰€æœ‰ç»§æ‰¿æ–¹å¼é‡Œé¢ç›¸å¯¹æœ€ä¼˜çš„ç»§æ‰¿æ–¹å¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">clone</span>(<span class="params">parent, child</span>) &#123;</span><br><span class="line">  <span class="comment">// è¿™é‡Œæ”¹ç”¨ Object.create å°±å¯ä»¥å‡å°‘ç»„åˆç»§æ‰¿ä¸­å¤šè¿›è¡Œä¸€æ¬¡æ„é€ çš„è¿‡ç¨‹</span></span><br><span class="line">  child.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(parent.<span class="property"><span class="keyword">prototype</span></span>)</span><br><span class="line">  child.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> = child</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Parent6</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;parent6&#x27;</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">play</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Parent6</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getName</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Child6</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title class_">Parent6</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>)</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">friends</span> = <span class="string">&#x27;child5&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">clone</span>(<span class="title class_">Parent6</span>, <span class="title class_">Child6</span>)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Child6</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getFriends</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">friends</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> person6 = <span class="keyword">new</span> <span class="title class_">Child6</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person6) <span class="comment">//&#123;friends:&quot;child5&quot;,name:&quot;child5&quot;,play:[1,2,3],__proto__:Parent6&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person6.<span class="title function_">getName</span>()) <span class="comment">// parent6</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person6.<span class="title function_">getFriends</span>()) <span class="comment">// child5</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ° person6 æ‰“å°å‡ºæ¥çš„ç»“æœï¼Œå±æ€§éƒ½å¾—åˆ°äº†ç»§æ‰¿ï¼Œæ–¹æ³•ä¹Ÿæ²¡é—®é¢˜<br>æ–‡ç« ä¸€å¼€å¤´ï¼Œæˆ‘ä»¬æ˜¯ä½¿ç”¨ ES6 ä¸­çš„<code>extends</code>å…³é”®å­—ç›´æ¥å®ç° <code>JavaScript</code>çš„ç»§æ‰¿</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// åŸå‹æ–¹æ³•</span></span><br><span class="line">  <span class="comment">// å³ Person.prototype.getName = function() &#123; &#125;</span></span><br><span class="line">  <span class="comment">// ä¸‹é¢å¯ä»¥ç®€å†™ä¸º getName() &#123;...&#125;</span></span><br><span class="line">  getName = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Person:&#x27;</span>, <span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Gamer</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">    <span class="comment">// å­ç±»ä¸­å­˜åœ¨æ„é€ å‡½æ•°ï¼Œåˆ™éœ€è¦åœ¨ä½¿ç”¨â€œthisâ€ä¹‹å‰é¦–å…ˆè°ƒç”¨ super()ã€‚</span></span><br><span class="line">    <span class="variable language_">super</span>(name)</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> asuna = <span class="keyword">new</span> <span class="title class_">Gamer</span>(<span class="string">&#x27;Asuna&#x27;</span>, <span class="number">20</span>)</span><br><span class="line">asuna.<span class="title function_">getName</span>() <span class="comment">// æˆåŠŸè®¿é—®åˆ°çˆ¶ç±»çš„æ–¹æ³•</span></span><br></pre></td></tr></table></figure>
<p>åˆ©ç”¨<code>babel</code>å·¥å…·è¿›è¡Œè½¬æ¢ï¼Œæˆ‘ä»¬ä¼šå‘ç° extends`å®é™…é‡‡ç”¨çš„ä¹Ÿæ˜¯å¯„ç”Ÿç»„åˆç»§æ‰¿æ–¹å¼ï¼Œå› æ­¤ä¹Ÿè¯æ˜äº†è¿™ç§æ–¹å¼æ˜¯è¾ƒä¼˜çš„è§£å†³ç»§æ‰¿çš„æ–¹å¼</p>
<h3 id="3-æ€»ç»“-1"><a href="#3-æ€»ç»“-1" class="headerlink" title="3.æ€»ç»“"></a>3.æ€»ç»“</h3><p>ä¸‹é¢ä¸€å¼ å›¾<br><div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/ç»§æ‰¿æ€»ç»“1.png"/></div></div><br>é€šè¿‡<code>Object.create</code> æ¥åˆ’åˆ†ä¸åŒçš„ç»§æ‰¿æ–¹å¼ï¼Œæœ€åçš„å¯„ç”Ÿå¼ç»„åˆç»§æ‰¿æ–¹å¼æ˜¯é€šè¿‡ç»„åˆç»§æ‰¿æ”¹é€ ä¹‹åçš„æœ€ä¼˜ç»§æ‰¿æ–¹å¼ï¼Œè€Œ extends çš„è¯­æ³•ç³–å’Œå¯„ç”Ÿç»„åˆç»§æ‰¿çš„æ–¹å¼åŸºæœ¬ç±»ä¼¼</p>
<h2 id="è°ˆè°ˆ-this-å¯¹è±¡çš„ç†è§£"><a href="#è°ˆè°ˆ-this-å¯¹è±¡çš„ç†è§£" class="headerlink" title="è°ˆè°ˆ this å¯¹è±¡çš„ç†è§£"></a>è°ˆè°ˆ this å¯¹è±¡çš„ç†è§£</h2><h3 id="1-å®šä¹‰"><a href="#1-å®šä¹‰" class="headerlink" title="1.å®šä¹‰"></a>1.å®šä¹‰</h3><p>å‡½æ•°çš„ <code>this</code> å…³é”®å­—åœ¨ <code>JavaScript</code>ä¸­çš„è¡¨ç°ç•¥æœ‰ä¸åŒï¼Œæ­¤å¤–ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼å’Œéä¸¥æ ¼æ¨¡å¼ä¹‹é—´ä¹Ÿä¼šæœ‰ä¸€äº›å·®åˆ«<br>åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå‡½æ•°çš„è°ƒç”¨æ–¹å¼å†³å®šäº† <code>this</code> çš„å€¼ï¼ˆè¿è¡Œæ—¶ç»‘å®šï¼‰</p>
<p><code>this</code>å…³é”®å­—æ˜¯å‡½æ•°è¿è¡Œæ—¶è‡ªåŠ¨ç”Ÿæˆçš„ä¸€ä¸ªå†…éƒ¨å¯¹è±¡ï¼Œåªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä½¿ç”¨ï¼Œæ€»æŒ‡å‘è°ƒç”¨å®ƒçš„å¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">baz</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// å½“å‰è°ƒç”¨æ ˆæ˜¯ï¼šbaz</span></span><br><span class="line">  <span class="comment">// å› æ­¤ï¼Œå½“å‰è°ƒç”¨ä½ç½®æ˜¯å…¨å±€ä½œç”¨åŸŸ</span></span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;baz&#x27;</span>)</span><br><span class="line">  <span class="title function_">bar</span>() <span class="comment">// &lt;-- barçš„è°ƒç”¨ä½ç½®</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// å½“å‰è°ƒç”¨æ ˆæ˜¯ï¼šbaz --&gt; bar</span></span><br><span class="line">  <span class="comment">// å› æ­¤ï¼Œå½“å‰è°ƒç”¨ä½ç½®åœ¨bazä¸­</span></span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;bar&#x27;</span>)</span><br><span class="line">  <span class="title function_">foo</span>() <span class="comment">// &lt;-- fooçš„è°ƒç”¨ä½ç½®</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// å½“å‰è°ƒç”¨æ ˆæ˜¯ï¼šbaz --&gt; bar --&gt; foo</span></span><br><span class="line">  <span class="comment">// å› æ­¤ï¼Œå½“å‰è°ƒç”¨ä½ç½®åœ¨barä¸­</span></span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;foo&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">baz</span>() <span class="comment">// &lt;-- bazçš„è°ƒç”¨ä½ç½®</span></span><br></pre></td></tr></table></figure>
<p>åŒæ—¶ï¼Œ<code>this</code>åœ¨å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œ<code>this</code>ä¸€æ—¦è¢«ç¡®å®šäº†ï¼Œå°±ä¸å¯ä»¥å†æ›´æ”¹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">20</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span> = obj; <span class="comment">// ä¿®æ”¹thisï¼Œè¿è¡Œåä¼šæŠ¥é”™</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fn</span>();</span><br></pre></td></tr></table></figure>
<h3 id="2-ç»‘å®šè§„åˆ™"><a href="#2-ç»‘å®šè§„åˆ™" class="headerlink" title="2.ç»‘å®šè§„åˆ™"></a>2.ç»‘å®šè§„åˆ™</h3><p>æ ¹æ®ä¸åŒçš„ä½¿ç”¨åœºåˆï¼Œthis æœ‰ä¸åŒçš„å€¼ï¼Œä¸»è¦åˆ†ä¸ºä¸‹é¢å‡ ç§æƒ…å†µï¼š</p>
<li>é»˜è®¤ç»‘å®š</li>
<li>éšå¼ç»‘å®š</li>
<li>newç»‘å®š</li>
<li>æ˜¾ç¤ºç»‘å®š</li>

<h3 id="3-ç®­å¤´å‡½æ•°"><a href="#3-ç®­å¤´å‡½æ•°" class="headerlink" title="3.ç®­å¤´å‡½æ•°"></a>3.ç®­å¤´å‡½æ•°</h3><p>åœ¨ ES6 çš„è¯­æ³•ä¸­è¿˜æä¾›äº†ç®­å¤´å‡½è¯­æ³•ï¼Œè®©æˆ‘ä»¬åœ¨ä»£ç ä¹¦å†™æ—¶å°±èƒ½ç¡®å®š this çš„æŒ‡å‘ï¼ˆç¼–è¯‘æ—¶ç»‘å®šï¼‰<br>ä¸¾ä¸ªä¾‹å­:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">sayThis</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">sayThis</span>() <span class="comment">// window å› ä¸º JavaScript æ²¡æœ‰å—ä½œç”¨åŸŸï¼Œæ‰€ä»¥åœ¨å®šä¹‰ sayThis çš„æ—¶å€™ï¼Œé‡Œé¢çš„ this å°±ç»‘åˆ° window ä¸Šå»äº†</span></span><br><span class="line"><span class="keyword">const</span> globalSay = obj.<span class="property">sayThis</span></span><br><span class="line"><span class="title function_">globalSay</span>() <span class="comment">// window æµè§ˆå™¨ä¸­çš„ global å¯¹è±¡</span></span><br></pre></td></tr></table></figure>
<p>è™½ç„¶ç®­å¤´å‡½æ•°çš„ this èƒ½å¤Ÿåœ¨ç¼–è¯‘çš„æ—¶å€™å°±ç¡®å®šäº† this çš„æŒ‡å‘ï¼Œä½†ä¹Ÿéœ€è¦æ³¨æ„ä¸€äº›æ½œåœ¨çš„å‘</p>
<p>ä¸‹é¢ä¸¾ä¸ªä¾‹å­ï¼š</p>
<p>ç»‘å®šäº‹ä»¶ç›‘å¬</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> button = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;mngb&#x27;</span>)</span><br><span class="line">button.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span> === <span class="variable language_">window</span>) <span class="comment">// true</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">innerHTML</span> = <span class="string">&#x27;clicked button&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å…¶å®æ˜¯æƒ³è¦<code>this</code>ä¸ºç‚¹å‡»çš„<code>button</code>ï¼Œä½†æ­¤æ—¶<code>this</code>æŒ‡å‘äº†<code>window</code></p>
<p>åŒ…æ‹¬åœ¨åŸå‹ä¸Šæ·»åŠ æ–¹æ³•æ—¶å€™ï¼Œæ­¤æ—¶<code>this</code>æŒ‡å‘<code>window</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Cat</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayName</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span> === <span class="variable language_">window</span>) <span class="comment">//true</span></span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> cat = <span class="keyword">new</span> <span class="title class_">Cat</span>(<span class="string">&#x27;mm&#x27;</span>)</span><br><span class="line">cat.<span class="title function_">sayName</span>()</span><br></pre></td></tr></table></figure>
<p>åŒæ ·çš„ï¼Œç®­å¤´å‡½æ•°ä¸èƒ½ä½œä¸ºæ„å»ºå‡½æ•°</p>
<h3 id="4-ä¼˜å…ˆçº§"><a href="#4-ä¼˜å…ˆçº§" class="headerlink" title="4.ä¼˜å…ˆçº§"></a>4.ä¼˜å…ˆçº§</h3><h4 id="éšå¼ç»‘å®š-VS-æ˜¾ç¤ºç»‘å®š"><a href="#éšå¼ç»‘å®š-VS-æ˜¾ç¤ºç»‘å®š" class="headerlink" title="éšå¼ç»‘å®š VS æ˜¾ç¤ºç»‘å®š"></a>éšå¼ç»‘å®š VS æ˜¾ç¤ºç»‘å®š</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="attr">foo</span>: foo,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">  <span class="attr">a</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="attr">foo</span>: foo,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj1.<span class="title function_">foo</span>() <span class="comment">// 2</span></span><br><span class="line">obj2.<span class="title function_">foo</span>() <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line">obj1.<span class="property">foo</span>.<span class="title function_">call</span>(obj2) <span class="comment">// 3</span></span><br><span class="line">obj2.<span class="property">foo</span>.<span class="title function_">call</span>(obj1) <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<p>æ˜¾ç„¶ï¼Œæ˜¾ç¤ºç»‘å®šçš„ä¼˜å…ˆçº§æ›´é«˜</p>
<h4 id="new-ç»‘å®š-VS-éšå¼ç»‘å®š"><a href="#new-ç»‘å®š-VS-éšå¼ç»‘å®š" class="headerlink" title="new ç»‘å®š VS éšå¼ç»‘å®š"></a>new ç»‘å®š VS éšå¼ç»‘å®š</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">something</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">a</span> = something</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">  <span class="attr">foo</span>: foo,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;&#125;</span><br><span class="line"></span><br><span class="line">obj1.<span class="title function_">foo</span>(<span class="number">2</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">a</span>) <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">obj1.<span class="property">foo</span>.<span class="title function_">call</span>(obj2, <span class="number">3</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj2.<span class="property">a</span>) <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = <span class="keyword">new</span> obj1.<span class="title function_">foo</span>(<span class="number">4</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">a</span>) <span class="comment">// 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(bar.<span class="property">a</span>) <span class="comment">// 4</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼Œnew ç»‘å®šçš„ä¼˜å…ˆçº§&gt;éšå¼ç»‘å®š</p>
<h4 id="new-ç»‘å®š-VS-æ˜¾å¼ç»‘å®š"><a href="#new-ç»‘å®š-VS-æ˜¾å¼ç»‘å®š" class="headerlink" title="new ç»‘å®š VS æ˜¾å¼ç»‘å®š"></a>new ç»‘å®š VS æ˜¾å¼ç»‘å®š</h4><p>å› ä¸º<code>new</code>å’Œ<code>apply</code>ã€<code>call</code>æ— æ³•ä¸€èµ·ä½¿ç”¨ï¼Œä½†ç¡¬ç»‘å®šä¹Ÿæ˜¯æ˜¾å¼ç»‘å®šçš„ä¸€ç§ï¼Œå¯ä»¥æ›¿æ¢æµ‹è¯•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">something</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">a</span> = something</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = foo.<span class="title function_">bind</span>(obj1)</span><br><span class="line"><span class="title function_">bar</span>(<span class="number">2</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">a</span>) <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> baz = <span class="keyword">new</span> <span class="title function_">bar</span>(<span class="number">3</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">a</span>) <span class="comment">// 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(baz.<span class="property">a</span>) <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>
<p><code>bar</code>è¢«ç»‘å®šåˆ° obj1 ä¸Šï¼Œä½†æ˜¯<code>new bar(3)</code> å¹¶æ²¡æœ‰åƒæˆ‘ä»¬é¢„è®¡çš„é‚£æ ·æŠŠ<code>obj1.a</code>ä¿®æ”¹ä¸º 3ã€‚ä½†æ˜¯ï¼Œ<code>new</code>ä¿®æ”¹äº†ç»‘å®šè°ƒç”¨<code>bar()</code>ä¸­çš„<code>this</code></p>
<p>æˆ‘ä»¬å¯è®¤ä¸º<code>new</code>ç»‘å®šä¼˜å…ˆçº§&gt;æ˜¾å¼ç»‘å®š</p>
<p>ç»¼ä¸Šï¼Œnew ç»‘å®šä¼˜å…ˆçº§ &gt; æ˜¾ç¤ºç»‘å®šä¼˜å…ˆçº§ &gt; éšå¼ç»‘å®šä¼˜å…ˆçº§ &gt; é»˜è®¤ç»‘å®šä¼˜å…ˆçº§</p>
<h2 id="JavaScript-ä¸­æ‰§è¡Œä¸Šä¸‹æ–‡å’Œæ‰§è¡Œæ ˆ"><a href="#JavaScript-ä¸­æ‰§è¡Œä¸Šä¸‹æ–‡å’Œæ‰§è¡Œæ ˆ" class="headerlink" title="JavaScript ä¸­æ‰§è¡Œä¸Šä¸‹æ–‡å’Œæ‰§è¡Œæ ˆ"></a>JavaScript ä¸­æ‰§è¡Œä¸Šä¸‹æ–‡å’Œæ‰§è¡Œæ ˆ</h2><h2 id="JavaScript-äº‹ä»¶æ¨¡å‹"><a href="#JavaScript-äº‹ä»¶æ¨¡å‹" class="headerlink" title="JavaScript äº‹ä»¶æ¨¡å‹"></a>JavaScript äº‹ä»¶æ¨¡å‹</h2><h3 id="1-äº‹ä»¶ä¸äº‹ä»¶æµ"><a href="#1-äº‹ä»¶ä¸äº‹ä»¶æµ" class="headerlink" title="1.äº‹ä»¶ä¸äº‹ä»¶æµ"></a>1.äº‹ä»¶ä¸äº‹ä»¶æµ</h3><p><code>javascript</code>ä¸­çš„äº‹ä»¶ï¼Œå¯ä»¥ç†è§£å°±æ˜¯åœ¨ HTML æ–‡æ¡£æˆ–è€…æµè§ˆå™¨ä¸­å‘ç”Ÿçš„ä¸€ç§äº¤äº’æ“ä½œï¼Œä½¿å¾—ç½‘é¡µå…·å¤‡äº’åŠ¨æ€§ï¼Œ å¸¸è§çš„æœ‰åŠ è½½äº‹ä»¶ã€é¼ æ ‡äº‹ä»¶ã€è‡ªå®šä¹‰äº‹ä»¶ç­‰</p>
<p>ç”±äº DOM æ˜¯ä¸€ä¸ªæ ‘ç»“æ„ï¼Œå¦‚æœåœ¨çˆ¶å­èŠ‚ç‚¹ç»‘å®šäº‹ä»¶æ—¶å€™ï¼Œå½“è§¦å‘å­èŠ‚ç‚¹çš„æ—¶å€™ï¼Œå°±å­˜åœ¨ä¸€ä¸ªé¡ºåºé—®é¢˜ï¼Œè¿™å°±æ¶‰åŠåˆ°äº†äº‹ä»¶æµçš„æ¦‚å¿µ</p>
<p>äº‹ä»¶æµéƒ½ä¼šç»å†ä¸‰ä¸ªé˜¶æ®µ:</p>
<li>äº‹ä»¶æ•è·é˜¶æ®µ(capture phase)</li>
<li>å¤„äºç›®æ ‡é˜¶æ®µ(target phase)</li>
<li>äº‹ä»¶å†’æ³¡é˜¶æ®µ(bubbling phase)</li>

<div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/äº‹ä»¶æµ1.png"/></div></div>
<p>äº‹ä»¶å†’æ³¡æ˜¯ä¸€ç§ä»ä¸‹å¾€ä¸Šçš„ä¼ æ’­æ–¹å¼ï¼Œç”±æœ€å…·ä½“çš„å…ƒç´ ï¼ˆè§¦å‘èŠ‚ç‚¹ï¼‰ç„¶åé€æ¸å‘ä¸Šä¼ æ’­åˆ°æœ€ä¸å…·ä½“çš„é‚£ä¸ªèŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ DOM ä¸­æœ€é«˜å±‚çš„çˆ¶èŠ‚ç‚¹</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Event Bubbling<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;clickMe&quot;</span>&gt;</span>Click Me<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç„¶åï¼Œæˆ‘ä»¬ç»™<code>button</code>å’Œå®ƒçš„çˆ¶å…ƒç´ ï¼ŒåŠ å…¥ç‚¹å‡»äº‹ä»¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> button = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;clickMe&#x27;</span>)</span><br><span class="line"></span><br><span class="line">button.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;1.Button&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;2.body&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;3.document&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;4.window&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç‚¹å‡»æŒ‰é’®è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>button</span><br><span class="line"><span class="number">2.</span>body</span><br><span class="line"><span class="number">3.</span><span class="variable language_">document</span></span><br><span class="line"><span class="number">4.</span><span class="variable language_">window</span></span><br></pre></td></tr></table></figure>
<p>ç‚¹å‡»äº‹ä»¶é¦–å…ˆåœ¨<code>button</code>å…ƒç´ ä¸Šå‘ç”Ÿï¼Œç„¶åé€çº§å‘ä¸Šä¼ æ’­</p>
<p>äº‹ä»¶æ•è·ä¸äº‹ä»¶å†’æ³¡ç›¸åï¼Œäº‹ä»¶æœ€å¼€å§‹ç”±ä¸å¤ªå…·ä½“çš„èŠ‚ç‚¹æœ€æ—©æ¥å—äº‹ä»¶, è€Œæœ€å…·ä½“çš„èŠ‚ç‚¹ï¼ˆè§¦å‘èŠ‚ç‚¹ï¼‰æœ€åæ¥å—äº‹ä»¶</p>
<h3 id="2-äº‹ä»¶æ¨¡å‹"><a href="#2-äº‹ä»¶æ¨¡å‹" class="headerlink" title="2.äº‹ä»¶æ¨¡å‹"></a>2.äº‹ä»¶æ¨¡å‹</h3><p>äº‹ä»¶æ¨¡å‹å¯ä»¥åˆ†ä¸ºä¸‰ç§:</p>
<li>åŸå§‹äº‹ä»¶æ¨¡å‹ï¼ˆDOM0çº§ï¼‰</li>
<li>æ ‡å‡†äº‹ä»¶æ¨¡å‹ï¼ˆDOM2çº§ï¼‰</li>
<li>IEäº‹ä»¶æ¨¡å‹ï¼ˆåŸºæœ¬ä¸ç”¨ï¼‰</li>

<p><strong>åŸå§‹äº‹ä»¶æ¨¡å‹</strong></p>
<p>äº‹ä»¶ç»‘å®šç›‘å¬å‡½æ•°æ¯”è¾ƒç®€å•ï¼Œæœ‰ä¸¤ç§æ–¹å¼:</p>
<p>HTML ä»£ç ç›´æ¥ç»‘å®š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;button&quot;</span> onclick=<span class="string">&quot;fun()&quot;</span>&gt;</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ JS ä»£ç ç»‘å®š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;.btn&#x27;</span>)</span><br><span class="line">btn.<span class="property">onclick</span> = fun</span><br></pre></td></tr></table></figure>
<p><strong>ç‰¹æ€§</strong></p>
<li>ç»‘å®šé€Ÿåº¦å¿«</li>
DOM0çº§äº‹ä»¶å…·æœ‰å¾ˆå¥½çš„è·¨æµè§ˆå™¨ä¼˜åŠ¿ï¼Œä¼šä»¥æœ€å¿«çš„é€Ÿåº¦ç»‘å®šï¼Œä½†ç”±äºç»‘å®šé€Ÿåº¦å¤ªå¿«ï¼Œå¯èƒ½é¡µé¢è¿˜æœªå®Œå…¨åŠ è½½å‡ºæ¥ï¼Œä»¥è‡³äºäº‹ä»¶å¯èƒ½æ— æ³•æ­£å¸¸è¿è¡Œ
<li>åªæ”¯æŒå†’æ³¡ï¼Œä¸æ”¯æŒæ•è·</li>
<li>åŒä¸€ä¸ªç±»å‹çš„äº‹ä»¶åªèƒ½ç»‘å®šä¸€æ¬¡</li>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">&quot;button&quot;</span> id=<span class="string">&quot;btn&quot;</span> onclick=<span class="string">&quot;fun1()&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> btn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;.btn&#x27;</span>);</span><br><span class="line">btn.<span class="property">onclick</span> = fun2;</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šï¼Œå½“å¸Œæœ›ä¸ºåŒä¸€ä¸ªå…ƒç´ ç»‘å®šå¤šä¸ªåŒç±»å‹äº‹ä»¶çš„æ—¶å€™ï¼ˆä¸Šé¢çš„è¿™ä¸ª btn å…ƒç´ ç»‘å®š 2 ä¸ªç‚¹å‡»äº‹ä»¶ï¼‰ï¼Œæ˜¯ä¸è¢«å…è®¸çš„ï¼Œåç»‘å®šçš„äº‹ä»¶ä¼šè¦†ç›–ä¹‹å‰çš„äº‹ä»¶</p>
<p>åˆ é™¤ DOM0 çº§äº‹ä»¶å¤„ç†ç¨‹åºåªè¦å°†å¯¹åº”äº‹ä»¶å±æ€§ç½®ä¸º null å³å¯</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">btn.<span class="property">onclick</span> = <span class="literal">null</span></span><br></pre></td></tr></table></figure>
<p><strong>æ ‡å‡†äº‹ä»¶æ¨¡å‹</strong><br>åœ¨è¯¥äº‹ä»¶æ¨¡å‹ä¸­ï¼Œä¸€æ¬¡äº‹ä»¶å…±æœ‰ä¸‰ä¸ªè¿‡ç¨‹:</p>
<li>äº‹ä»¶æ•è·é˜¶æ®µï¼šäº‹ä»¶ä»documentä¸€ç›´å‘ä¸‹ä¼ æ’­åˆ°ç›®æ ‡å…ƒç´ , ä¾æ¬¡æ£€æŸ¥ç»è¿‡çš„èŠ‚ç‚¹æ˜¯å¦ç»‘å®šäº†äº‹ä»¶ç›‘å¬å‡½æ•°ï¼Œå¦‚æœæœ‰åˆ™æ‰§è¡Œ</li>
<li>äº‹ä»¶å¤„ç†é˜¶æ®µï¼šäº‹ä»¶åˆ°è¾¾ç›®æ ‡å…ƒç´ , è§¦å‘ç›®æ ‡å…ƒç´ çš„ç›‘å¬å‡½æ•°</li>
<li>äº‹ä»¶å†’æ³¡é˜¶æ®µï¼šäº‹ä»¶ä»ç›®æ ‡å…ƒç´ å†’æ³¡åˆ°document, ä¾æ¬¡æ£€æŸ¥ç»è¿‡çš„èŠ‚ç‚¹æ˜¯å¦ç»‘å®šäº†äº‹ä»¶ç›‘å¬å‡½æ•°ï¼Œå¦‚æœæœ‰åˆ™æ‰§è¡Œ</li>

<p>äº‹ä»¶ç›‘å¬å‡½æ•°çš„æ–¹å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">addEventListener</span>(eventType, handler, useCapture)</span><br></pre></td></tr></table></figure>
<p>äº‹ä»¶ç§»é™¤ç›‘å¬å‡½æ•°çš„æ–¹å¼å¦‚ä¸‹:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">removeEventListener</span>(eventType, handler, useCapture)</span><br></pre></td></tr></table></figure>
<p>å‚æ•°å¦‚ä¸‹:</p>
<li>eventTypeæŒ‡å®šäº‹ä»¶ç±»å‹(ä¸è¦åŠ on)</li>
<li>handleræ˜¯äº‹ä»¶å¤„ç†å‡½æ•°</li>
<li>useCaptureæ˜¯ä¸€ä¸ªbooleanç”¨äºæŒ‡å®šæ˜¯å¦åœ¨æ•è·é˜¶æ®µè¿›è¡Œå¤„ç†ï¼Œä¸€èˆ¬è®¾ç½®ä¸ºfalseä¸IEæµè§ˆå™¨ä¿æŒä¸€è‡´</li>

<p>ä¸¾ä¸ªä¾‹å­</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> btn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;.btn&#x27;</span>);</span><br><span class="line">btn.<span class="title function_">addEventListener</span>(â€˜clickâ€™, showMessage, <span class="literal">false</span>);</span><br><span class="line">btn.<span class="title function_">removeEventListener</span>(â€˜clickâ€™, showMessage, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure>
<p><strong>ç‰¹æ€§</strong><br>å¯ä»¥åœ¨ä¸€ä¸ª DOM å…ƒç´ ä¸Šç»‘å®šå¤šä¸ªäº‹ä»¶å¤„ç†å™¨ï¼Œå„è‡ªå¹¶ä¸ä¼šå†²çª</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">btn.<span class="title function_">addEventListener</span>(â€˜clickâ€™, showMessage1, <span class="literal">false</span>);</span><br><span class="line">btn.<span class="title function_">addEventListener</span>(â€˜clickâ€™, showMessage2, <span class="literal">false</span>);</span><br><span class="line">btn.<span class="title function_">addEventListener</span>(â€˜clickâ€™, showMessage3, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œæ—¶æœº</p>
<p>å½“ç¬¬ä¸‰ä¸ªå‚æ•°(<code>useCapture</code>)è®¾ç½®ä¸º true å°±åœ¨æ•è·è¿‡ç¨‹ä¸­æ‰§è¡Œï¼Œåä¹‹åœ¨å†’æ³¡è¿‡ç¨‹ä¸­æ‰§è¡Œå¤„ç†å‡½æ•°</p>
<p>ä¸‹é¢ä¸¾ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;div&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&quot;p&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;span&quot;</span>&gt;</span>Click Me!<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>è®¾ç½®ç‚¹å‡»äº‹ä»¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;div&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> p = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;p&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">onClickFn</span>(<span class="params">event</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> tagName = event.<span class="property">currentTarget</span>.<span class="property">tagName</span></span><br><span class="line">  <span class="keyword">var</span> phase = event.<span class="property">eventPhase</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(tagName, phase)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, onClickFn, <span class="literal">false</span>)</span><br><span class="line">p.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, onClickFn, <span class="literal">false</span>)</span><br></pre></td></tr></table></figure>
<p>ä¸Šè¿°ä½¿ç”¨äº†<code>eventPhase</code>ï¼Œè¿”å›ä¸€ä¸ªä»£è¡¨å½“å‰æ‰§è¡Œé˜¶æ®µçš„æ•´æ•°å€¼ã€‚1 ä¸ºæ•è·é˜¶æ®µã€2 ä¸ºäº‹ä»¶å¯¹è±¡è§¦å‘é˜¶æ®µã€3 ä¸ºå†’æ³¡é˜¶æ®µ</p>
<p>ç‚¹å‡»<code>Click Me!</code>ï¼Œè¾“å‡ºå¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">P <span class="number">3</span></span><br><span class="line"><span class="variable constant_">DIV</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>p</code>å’Œ<code>div</code>éƒ½æ˜¯åœ¨å†’æ³¡é˜¶æ®µå“åº”äº†äº‹ä»¶ï¼Œç”±äºå†’æ³¡çš„ç‰¹æ€§ï¼Œè£¹åœ¨é‡Œå±‚çš„ p ç‡å…ˆåšå‡ºå“åº”</p>
<p>å¦‚æœæŠŠç¬¬ä¸‰ä¸ªå‚æ•°éƒ½æ”¹ä¸º<code>true</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">div.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, onClickFn, <span class="literal">true</span>)</span><br><span class="line">p.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, onClickFn, <span class="literal">true</span>)</span><br></pre></td></tr></table></figure>
<p>è¾“å‡ºå¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">DIV</span> <span class="number">1</span></span><br><span class="line">P <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>ä¸¤è€…éƒ½æ˜¯åœ¨æ•è·é˜¶æ®µå“åº”äº‹ä»¶ï¼Œæ‰€ä»¥ div æ¯” p æ ‡ç­¾å…ˆåšå‡ºå“åº”</p>
<h2 id="typeof-ä¸-instanceof-çš„åŒºåˆ«"><a href="#typeof-ä¸-instanceof-çš„åŒºåˆ«" class="headerlink" title="typeof ä¸ instanceof çš„åŒºåˆ«"></a>typeof ä¸ instanceof çš„åŒºåˆ«</h2><h3 id="1-typeof"><a href="#1-typeof" class="headerlink" title="1.typeof"></a>1.typeof</h3><p><code>typeof</code>æ“ä½œç¬¦è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºæœªç»è®¡ç®—çš„æ“ä½œæ•°çš„ç±»å‹<br>ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> operand</span><br><span class="line"><span class="keyword">typeof</span> operand</span><br></pre></td></tr></table></figure>
<p><code>operand</code>è¡¨ç¤ºå¯¹è±¡æˆ–åŸå§‹å€¼çš„è¡¨è¾¾å¼ï¼Œå…¶ç±»å‹å°†è¢«è¿”å›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="number">1</span> <span class="comment">// &#x27;number&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="string">&#x27;1&#x27;</span> <span class="comment">// &#x27;string&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span> <span class="comment">// &#x27;undefined&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">true</span> <span class="comment">// &#x27;boolean&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="title class_">Symbol</span>() <span class="comment">// &#x27;symbol&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span> <span class="comment">// &#x27;object&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> [] <span class="comment">// &#x27;object&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> &#123;&#125; <span class="comment">// &#x27;object&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="variable language_">console</span> <span class="comment">// &#x27;object&#x27;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="variable language_">console</span>.<span class="property">log</span> <span class="comment">// &#x27;function&#x27;</span></span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šé¢ä¾‹å­ï¼Œå‰ 6 ä¸ªéƒ½æ˜¯åŸºç¡€æ•°æ®ç±»å‹ã€‚è™½ç„¶<code>typeof null</code>ä¸º<code>object</code>ï¼Œä½†è¿™åªæ˜¯<code>JavaScript</code> å­˜åœ¨çš„ä¸€ä¸ªæ‚ ä¹… Bugï¼Œä¸ä»£è¡¨ null å°±æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼Œå¹¶ä¸” null æœ¬èº«ä¹Ÿä¸æ˜¯å¯¹è±¡</p>
<p>æ‰€ä»¥ï¼Œ<code>null</code>åœ¨ <code>typeof</code>ä¹‹åè¿”å›çš„æ˜¯æœ‰é—®é¢˜çš„ç»“æœï¼Œä¸èƒ½ä½œä¸ºåˆ¤æ–­ null çš„æ–¹æ³•ã€‚å¦‚æœä½ éœ€è¦åœ¨ if è¯­å¥ä¸­åˆ¤æ–­æ˜¯å¦ä¸º <code>null</code>ï¼Œç›´æ¥é€šè¿‡<code>===null</code>æ¥åˆ¤æ–­å°±å¥½</p>
<p>åŒæ—¶ï¼Œå¯ä»¥å‘ç°å¼•ç”¨ç±»å‹æ•°æ®ï¼Œç”¨<code>typeof</code>æ¥åˆ¤æ–­çš„è¯ï¼Œé™¤äº†<code>function</code>ä¼šè¢«è¯†åˆ«å‡ºæ¥ä¹‹å¤–ï¼Œå…¶ä½™çš„éƒ½è¾“å‡º<code>object</code></p>
<p>å¦‚æœæˆ‘ä»¬æƒ³è¦åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦å­˜åœ¨ï¼Œå¯ä»¥ä½¿ç”¨<code>typeof</code>ï¼š(ä¸èƒ½ä½¿ç”¨ if(a)ï¼Œ è‹¥ a æœªå£°æ˜ï¼Œåˆ™æŠ¥é”™)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> a != <span class="string">&#x27;undefined&#x27;</span>) &#123;</span><br><span class="line">  <span class="comment">//å˜é‡å­˜åœ¨</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-instanceof"><a href="#2-instanceof" class="headerlink" title="2.instanceof"></a>2.instanceof</h3><p><code>instanceof</code>è¿ç®—ç¬¦ç”¨äºæ£€æµ‹æ„é€ å‡½æ•°çš„ prototype å±æ€§æ˜¯å¦å‡ºç°åœ¨æŸä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹é“¾ä¸Š,ä½¿ç”¨å¦‚ä¸‹:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">object <span class="keyword">instanceof</span> constructor</span><br></pre></td></tr></table></figure>
<p><code>object</code>ä¸ºå®ä¾‹å¯¹è±¡ï¼Œ<code>constructor</code>ä¸ºæ„é€ å‡½æ•°</p>
<p>æ„é€ å‡½æ•°é€šè¿‡<code>new</code>å¯ä»¥å®ä¾‹å¯¹è±¡ï¼Œ<code>instanceof</code>èƒ½åˆ¤æ–­è¿™ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯ä¹‹å‰é‚£ä¸ªæ„é€ å‡½æ•°ç”Ÿæˆçš„å¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰æ„å»ºå‡½æ•°</span></span><br><span class="line"><span class="keyword">let</span> <span class="title class_">Car</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> benz = <span class="keyword">new</span> <span class="title class_">Car</span>()</span><br><span class="line">benz <span class="keyword">instanceof</span> <span class="title class_">Car</span> <span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> car = <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&#x27;xxx&#x27;</span>)</span><br><span class="line">car <span class="keyword">instanceof</span> <span class="title class_">String</span> <span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;xxx&#x27;</span></span><br><span class="line">str <span class="keyword">instanceof</span> <span class="title class_">String</span> <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>å…³äº<code>instanceof</code>çš„å®ç°åŸç†ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myInstanceof</span>(<span class="params">left, right</span>) &#123;</span><br><span class="line">  <span class="comment">// è¿™é‡Œå…ˆç”¨typeofæ¥åˆ¤æ–­åŸºç¡€æ•°æ®ç±»å‹ï¼Œå¦‚æœæ˜¯ï¼Œç›´æ¥è¿”å›false</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> left !== <span class="string">&#x27;object&#x27;</span> || left === <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment">// getProtypeOfæ˜¯Objectå¯¹è±¡è‡ªå¸¦çš„APIï¼Œèƒ½å¤Ÿæ‹¿åˆ°å‚æ•°çš„åŸå‹å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">let</span> proto = <span class="title class_">Object</span>.<span class="title function_">getPrototypeOf</span>(left)</span><br><span class="line">  <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (proto === <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    <span class="keyword">if</span> (proto === right.<span class="property"><span class="keyword">prototype</span></span>) <span class="keyword">return</span> <span class="literal">true</span> <span class="comment">//æ‰¾åˆ°ç›¸åŒåŸå‹å¯¹è±¡ï¼Œè¿”å›true</span></span><br><span class="line">    proto = <span class="title class_">Object</span>.<span class="title function_">getPrototypeof</span>(proto)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">;<span class="string">``</span></span><br></pre></td></tr></table></figure>
<h3 id="3-åŒºåˆ«"><a href="#3-åŒºåˆ«" class="headerlink" title="3.åŒºåˆ«"></a>3.åŒºåˆ«</h3><p><code>typeof</code>ä¸<code>instanceof</code>éƒ½æ˜¯åˆ¤æ–­æ•°æ®ç±»å‹çš„æ–¹æ³•ï¼ŒåŒºåˆ«å¦‚ä¸‹ï¼š</p>
<li>typeofä¼šè¿”å›ä¸€ä¸ªå˜é‡çš„åŸºæœ¬ç±»å‹ï¼Œinstanceofè¿”å›çš„æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼</li>
<li>instanceof å¯ä»¥å‡†ç¡®åœ°åˆ¤æ–­å¤æ‚å¼•ç”¨æ•°æ®ç±»å‹ï¼Œä½†æ˜¯ä¸èƒ½æ­£ç¡®åˆ¤æ–­åŸºç¡€æ•°æ®ç±»å‹</li>
<li>è€Œtypeof ä¹Ÿå­˜åœ¨å¼Šç«¯ï¼Œå®ƒè™½ç„¶å¯ä»¥åˆ¤æ–­åŸºç¡€æ•°æ®ç±»å‹ï¼ˆnull é™¤å¤–ï¼‰ï¼Œä½†æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ä¸­ï¼Œé™¤äº†function ç±»å‹ä»¥å¤–ï¼Œå…¶ä»–çš„ä¹Ÿæ— æ³•åˆ¤æ–­</li>

<p>å¯ä»¥çœ‹åˆ°ï¼Œä¸Šè¿°ä¸¤ç§æ–¹æ³•éƒ½æœ‰å¼Šç«¯ï¼Œå¹¶ä¸èƒ½æ»¡è¶³æ‰€æœ‰åœºæ™¯çš„éœ€æ±‚</p>
<p>å¦‚æœéœ€è¦é€šç”¨æ£€æµ‹æ•°æ®ç±»å‹ï¼Œå¯ä»¥é‡‡ç”¨<code>Object.prototype.toString</code>ï¼Œè°ƒç”¨è¯¥æ–¹æ³•ï¼Œç»Ÿä¸€è¿”å›æ ¼å¼â€œ<code>[object Xxx]</code>â€çš„å­—ç¬¦ä¸²<br>å¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">toString</span>(&#123;&#125;) <span class="comment">// &quot;[object Object]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(&#123;&#125;) <span class="comment">// åŒä¸Šç»“æœï¼ŒåŠ ä¸Šcallä¹Ÿok</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="number">1</span>) <span class="comment">// &quot;[object Number]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="string">&#x27;1&#x27;</span>) <span class="comment">// &quot;[object String]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="literal">true</span>) <span class="comment">// &quot;[object Boolean]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;) <span class="comment">// &quot;[object Function]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="literal">null</span>) <span class="comment">//&quot;[object Null]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="literal">undefined</span>) <span class="comment">//&quot;[object Undefined]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="regexp">/123/g</span>) <span class="comment">//&quot;[object RegExp]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="keyword">new</span> <span class="title class_">Date</span>()) <span class="comment">//&quot;[object Date]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>([]) <span class="comment">//&quot;[object Array]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="variable language_">document</span>) <span class="comment">//&quot;[object HTMLDocument]&quot;</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(<span class="variable language_">window</span>) <span class="comment">//&quot;[object Window]&quot;</span></span><br></pre></td></tr></table></figure>
<p>äº†è§£äº† toString çš„åŸºæœ¬ç”¨æ³•ï¼Œä¸‹é¢å°±å®ç°ä¸€ä¸ªå…¨å±€é€šç”¨çš„æ•°æ®ç±»å‹åˆ¤æ–­æ–¹æ³•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getType</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> type = <span class="keyword">typeof</span> obj</span><br><span class="line">  <span class="keyword">if</span> (type !== <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">    <span class="comment">// å…ˆè¿›è¡Œtypeofåˆ¤æ–­ï¼Œå¦‚æœæ˜¯åŸºç¡€æ•°æ®ç±»å‹ï¼Œç›´æ¥è¿”å›</span></span><br><span class="line">    <span class="keyword">return</span> type</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// å¯¹äºtypeofè¿”å›ç»“æœæ˜¯objectçš„ï¼Œå†è¿›è¡Œå¦‚ä¸‹çš„åˆ¤æ–­ï¼Œæ­£åˆ™è¿”å›ç»“æœ</span></span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(obj).<span class="title function_">replace</span>(<span class="regexp">/^\[object (\S+)\]$/</span>, <span class="string">&#x27;$1&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨å¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">getType</span>([]) <span class="comment">// &quot;Array&quot; typeof []æ˜¯objectï¼Œå› æ­¤toStringè¿”å›</span></span><br><span class="line"><span class="title function_">getType</span>(<span class="string">&#x27;123&#x27;</span>) <span class="comment">// &quot;string&quot; typeof ç›´æ¥è¿”å›</span></span><br><span class="line"><span class="title function_">getType</span>(<span class="variable language_">window</span>) <span class="comment">// &quot;Window&quot; toStringè¿”å›</span></span><br><span class="line"><span class="title function_">getType</span>(<span class="literal">null</span>) <span class="comment">// &quot;Null&quot;é¦–å­—æ¯å¤§å†™ï¼Œtypeof nullæ˜¯objectï¼Œéœ€toStringæ¥åˆ¤æ–­</span></span><br><span class="line"><span class="title function_">getType</span>(<span class="literal">undefined</span>) <span class="comment">// &quot;undefined&quot; typeof ç›´æ¥è¿”å›</span></span><br><span class="line"><span class="title function_">getType</span>() <span class="comment">// &quot;undefined&quot; typeof ç›´æ¥è¿”å›</span></span><br><span class="line"><span class="title function_">getType</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;&#125;) <span class="comment">// &quot;function&quot; typeofèƒ½åˆ¤æ–­ï¼Œå› æ­¤é¦–å­—æ¯å°å†™</span></span><br><span class="line"><span class="title function_">getType</span>(<span class="regexp">/123/g</span>) <span class="comment">//&quot;RegExp&quot; toStringè¿”å›</span></span><br></pre></td></tr></table></figure>
<h2 id="ä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†ï¼Ÿåº”ç”¨åœºæ™¯"><a href="#ä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†ï¼Ÿåº”ç”¨åœºæ™¯" class="headerlink" title="ä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†ï¼Ÿåº”ç”¨åœºæ™¯"></a>ä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†ï¼Ÿåº”ç”¨åœºæ™¯</h2><h3 id="1-æ˜¯ä»€ä¹ˆ-2"><a href="#1-æ˜¯ä»€ä¹ˆ-2" class="headerlink" title="1.æ˜¯ä»€ä¹ˆ"></a>1.æ˜¯ä»€ä¹ˆ</h3><p>äº‹ä»¶ä»£ç†ï¼Œä¿—åœ°æ¥è®²ï¼Œå°±æ˜¯æŠŠä¸€ä¸ªå…ƒç´ å“åº”äº‹ä»¶ï¼ˆ<code>click</code>ã€<code>keydown</code>â€¦â€¦ï¼‰çš„å‡½æ•°å§”æ‰˜åˆ°å¦ä¸€ä¸ªå…ƒç´ </p>
<p>å‰é¢è®²åˆ°ï¼Œäº‹ä»¶æµçš„éƒ½ä¼šç»è¿‡ä¸‰ä¸ªé˜¶æ®µï¼š æ•è·é˜¶æ®µ -&gt; ç›®æ ‡é˜¶æ®µ -&gt; å†’æ³¡é˜¶æ®µï¼Œè€Œäº‹ä»¶å§”æ‰˜å°±æ˜¯åœ¨å†’æ³¡é˜¶æ®µå®Œæˆ</p>
<p>äº‹ä»¶å§”æ‰˜ï¼Œä¼šæŠŠä¸€ä¸ªæˆ–è€…ä¸€ç»„å…ƒç´ çš„äº‹ä»¶å§”æ‰˜åˆ°å®ƒçš„çˆ¶å±‚æˆ–è€…æ›´å¤–å±‚å…ƒç´ ä¸Šï¼ŒçœŸæ­£ç»‘å®šäº‹ä»¶çš„æ˜¯å¤–å±‚å…ƒç´ ï¼Œè€Œä¸æ˜¯ç›®æ ‡å…ƒç´ </p>
<p>å½“äº‹ä»¶å“åº”åˆ°ç›®æ ‡å…ƒç´ ä¸Šæ—¶ï¼Œä¼šé€šè¿‡äº‹ä»¶å†’æ³¡æœºåˆ¶ä»è€Œè§¦å‘å®ƒçš„å¤–å±‚å…ƒç´ çš„ç»‘å®šäº‹ä»¶ä¸Šï¼Œç„¶ååœ¨å¤–å±‚å…ƒç´ ä¸Šå»æ‰§è¡Œå‡½æ•°</p>
<p>ä¸‹é¢ä¸¾ä¸ªä¾‹å­ï¼š</p>
<p>æ¯”å¦‚ä¸€ä¸ªå®¿èˆçš„åŒå­¦åŒæ—¶å¿«é€’åˆ°äº†ï¼Œä¸€ç§ç¬¨æ–¹æ³•å°±æ˜¯ä»–ä»¬ä¸€ä¸ªä¸ªå»é¢†å–</p>
<p>è¾ƒä¼˜æ–¹æ³•å°±æ˜¯æŠŠè¿™ä»¶äº‹æƒ…å§”æ‰˜ç»™å®¿èˆé•¿ï¼Œè®©ä¸€ä¸ªäººå‡ºå»æ‹¿å¥½æ‰€æœ‰å¿«é€’ï¼Œç„¶åå†æ ¹æ®æ”¶ä»¶äººä¸€ä¸€åˆ†å‘ç»™æ¯ä¸ªåŒå­¦</p>
<p>åœ¨è¿™é‡Œï¼Œå–å¿«é€’å°±æ˜¯ä¸€ä¸ªäº‹ä»¶ï¼Œæ¯ä¸ªåŒå­¦æŒ‡çš„æ˜¯éœ€è¦å“åº”äº‹ä»¶çš„ <code>DOM</code> å…ƒç´ ï¼Œè€Œå‡ºå»ç»Ÿä¸€é¢†å–å¿«é€’çš„å®¿èˆé•¿å°±æ˜¯ä»£ç†çš„å…ƒç´ </p>
<p>æ‰€ä»¥çœŸæ­£ç»‘å®šäº‹ä»¶çš„æ˜¯è¿™ä¸ªå…ƒç´ ï¼ŒæŒ‰ç…§æ”¶ä»¶äººåˆ†å‘å¿«é€’çš„è¿‡ç¨‹å°±æ˜¯åœ¨äº‹ä»¶æ‰§è¡Œä¸­ï¼Œéœ€è¦åˆ¤æ–­å½“å‰å“åº”çš„äº‹ä»¶åº”è¯¥åŒ¹é…åˆ°è¢«ä»£ç†å…ƒç´ ä¸­çš„å“ªä¸€ä¸ªæˆ–è€…å“ªå‡ ä¸ª</p>
<h3 id="2-åº”ç”¨åœºæ™¯"><a href="#2-åº”ç”¨åœºæ™¯" class="headerlink" title="2.åº”ç”¨åœºæ™¯"></a>2.åº”ç”¨åœºæ™¯</h3><p>å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨ä¹‹ä¸­æœ‰å¤§é‡çš„åˆ—è¡¨é¡¹ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ç‚¹å‡»åˆ—è¡¨é¡¹çš„æ—¶å€™å“åº”ä¸€ä¸ªäº‹ä»¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul id=<span class="string">&quot;list&quot;</span>&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>item 1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>item 2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">li</span>&gt;</span>item 3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line">  ......</span><br><span class="line">  &lt;li&gt;item n&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœç»™æ¯ä¸ªåˆ—è¡¨é¡¹ä¸€ä¸€éƒ½ç»‘å®šä¸€ä¸ªå‡½æ•°ï¼Œé‚£å¯¹äºå†…å­˜æ¶ˆè€—æ˜¯éå¸¸å¤§çš„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–ç›®æ ‡å…ƒç´ </span></span><br><span class="line"><span class="keyword">const</span> lis = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&#x27;li&#x27;</span>)</span><br><span class="line"><span class="comment">// å¾ªç¯éå†ç»‘å®šäº‹ä»¶</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; lis.<span class="property">length</span>; i++) &#123;</span><br><span class="line">  lis[i].<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">target</span>.<span class="property">innerHTML</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ—¶å€™å°±å¯ä»¥äº‹ä»¶å§”æ‰˜ï¼ŒæŠŠç‚¹å‡»äº‹ä»¶ç»‘å®šåœ¨çˆ¶çº§å…ƒç´  ul ä¸Šé¢ï¼Œç„¶åæ‰§è¡Œäº‹ä»¶çš„æ—¶å€™å†å»åŒ¹é…ç›®æ ‡å…ƒç´ </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç»™çˆ¶å±‚å…ƒç´ ç»‘å®šäº‹ä»¶</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;list&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">  <span class="comment">// å…¼å®¹æ€§å¤„ç†</span></span><br><span class="line">  <span class="keyword">var</span> event = e || <span class="variable language_">window</span>.<span class="property">event</span></span><br><span class="line">  <span class="keyword">var</span> target = event.<span class="property">target</span> || event.<span class="property">srcElement</span></span><br><span class="line">  <span class="comment">// åˆ¤æ–­æ˜¯å¦åŒ¹é…ç›®æ ‡å…ƒç´ </span></span><br><span class="line">  <span class="keyword">if</span> (target.<span class="property">nodeName</span>.<span class="property">toLocaleLowerCase</span> === <span class="string">&#x27;li&#x27;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;the content is: &#x27;</span>, target.<span class="property">innerHTML</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>è¿˜æœ‰ä¸€ç§åœºæ™¯æ˜¯ä¸Šè¿°åˆ—è¡¨é¡¹å¹¶ä¸å¤šï¼Œæˆ‘ä»¬ç»™æ¯ä¸ªåˆ—è¡¨é¡¹éƒ½ç»‘å®šäº†äº‹ä»¶</p>
<p>ä½†æ˜¯å¦‚æœç”¨æˆ·èƒ½å¤Ÿéšæ—¶åŠ¨æ€çš„å¢åŠ æˆ–è€…å»é™¤åˆ—è¡¨é¡¹å…ƒç´ ï¼Œé‚£ä¹ˆåœ¨æ¯ä¸€æ¬¡æ”¹å˜çš„æ—¶å€™éƒ½éœ€è¦é‡æ–°ç»™æ–°å¢çš„å…ƒç´ ç»‘å®šäº‹ä»¶ï¼Œç»™å³å°†åˆ å»çš„å…ƒç´ è§£ç»‘äº‹ä»¶</p>
<p>å¦‚æœç”¨äº†äº‹ä»¶å§”æ‰˜å°±æ²¡æœ‰è¿™ç§éº»çƒ¦äº†ï¼Œå› ä¸ºäº‹ä»¶æ˜¯ç»‘å®šåœ¨çˆ¶å±‚çš„ï¼Œå’Œç›®æ ‡å…ƒç´ çš„å¢å‡æ˜¯æ²¡æœ‰å…³ç³»çš„ï¼Œæ‰§è¡Œåˆ°ç›®æ ‡å…ƒç´ æ˜¯åœ¨çœŸæ­£å“åº”æ‰§è¡Œäº‹ä»¶å‡½æ•°çš„è¿‡ç¨‹ä¸­å»åŒ¹é…çš„</p>
<p>ä¸¾ä¸ªä¾‹å­:<br>ä¸‹é¢<code>html</code>ç»“æ„ä¸­ï¼Œç‚¹å‡»<code>input</code>å¯ä»¥åŠ¨æ€æ·»åŠ å…ƒç´ </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">name</span>=<span class="string">&quot;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æ·»åŠ &quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;ul1&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>item 1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>item 2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>item 3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>item 4<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨äº‹ä»¶å§”æ‰˜</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> oBtn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;btn&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> oUl = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;ul1&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> num = <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//äº‹ä»¶å§”æ‰˜ï¼Œæ·»åŠ çš„å­å…ƒç´ ä¹Ÿæœ‰äº‹ä»¶</span></span><br><span class="line">oUl.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params">ev</span>) &#123;</span><br><span class="line">  ev = ev || <span class="variable language_">window</span>.<span class="property">event</span></span><br><span class="line">  <span class="keyword">const</span> target = ev.<span class="property">target</span> || ev.<span class="property">srcElement</span></span><br><span class="line">  <span class="keyword">if</span> (target.<span class="property">nodeName</span>.<span class="title function_">toLowerCase</span>() == <span class="string">&#x27;li&#x27;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;the content is: &#x27;</span>, target.<span class="property">innerHTML</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·»åŠ æ–°èŠ‚ç‚¹</span></span><br><span class="line">oBtn.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  num++</span><br><span class="line">  <span class="keyword">const</span> oLi = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;li&#x27;</span>)</span><br><span class="line">  oLi.<span class="property">innerHTML</span> = <span class="string">`item <span class="subst">$&#123;num&#125;</span>`</span></span><br><span class="line">  oUl.<span class="title function_">appendChild</span>(oLi)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨äº‹ä»¶å§”æ‰˜ï¼Œåœ¨åŠ¨æ€ç»‘å®šäº‹ä»¶çš„æƒ…å†µä¸‹æ˜¯å¯ä»¥å‡å°‘å¾ˆå¤šé‡å¤å·¥ä½œçš„</p>
<h3 id="3-æ€»ç»“-2"><a href="#3-æ€»ç»“-2" class="headerlink" title="3.æ€»ç»“"></a>3.æ€»ç»“</h3><p>é€‚åˆäº‹ä»¶å§”æ‰˜çš„äº‹ä»¶æœ‰ï¼š<code>click</code>ï¼Œ<code>mousedown</code>ï¼Œ<code>mouseup</code>ï¼Œ<code>keydown</code>ï¼Œ<code>keyup</code>ï¼Œ<code>keypress</code><br>ä»ä¸Šé¢åº”ç”¨åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°ä½¿ç”¨äº‹ä»¶å§”æ‰˜å­˜åœ¨ä¸¤å¤§ä¼˜ç‚¹ï¼š</p>
<li>å‡å°‘æ•´ä¸ªé¡µé¢æ‰€éœ€çš„å†…å­˜ï¼Œæå‡æ•´ä½“æ€§èƒ½</li>
<li>åŠ¨æ€ç»‘å®šï¼Œå‡å°‘é‡å¤å·¥ä½œ</li>

<p>ä½†æ˜¯ä½¿ç”¨äº‹ä»¶å§”æ‰˜ä¹Ÿæ˜¯å­˜åœ¨å±€é™æ€§ï¼š</p>
<li>focusã€blurè¿™äº›äº‹ä»¶æ²¡æœ‰äº‹ä»¶å†’æ³¡æœºåˆ¶ï¼Œæ‰€ä»¥æ— æ³•è¿›è¡Œå§”æ‰˜ç»‘å®šäº‹ä»¶</li>
<li>mousemoveã€mouseoutè¿™æ ·çš„äº‹ä»¶ï¼Œè™½ç„¶æœ‰äº‹ä»¶å†’æ³¡ï¼Œä½†æ˜¯åªèƒ½ä¸æ–­é€šè¿‡ä½ç½®å»è®¡ç®—å®šä½ï¼Œå¯¹æ€§èƒ½æ¶ˆè€—é«˜ï¼Œå› æ­¤ä¹Ÿæ˜¯ä¸é€‚åˆäºäº‹ä»¶å§”æ‰˜çš„</li>

<p>å¦‚æœæŠŠæ‰€æœ‰äº‹ä»¶éƒ½ç”¨äº‹ä»¶ä»£ç†ï¼Œå¯èƒ½ä¼šå‡ºç°äº‹ä»¶è¯¯åˆ¤ï¼Œå³æœ¬ä¸è¯¥è¢«è§¦å‘çš„äº‹ä»¶è¢«ç»‘å®šä¸Šäº†äº‹ä»¶</p>
<h2 id="new-æ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆ"><a href="#new-æ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆ" class="headerlink" title="new æ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆ"></a>new æ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆ</h2><h3 id="1-æ˜¯ä»€ä¹ˆ-3"><a href="#1-æ˜¯ä»€ä¹ˆ-3" class="headerlink" title="1.æ˜¯ä»€ä¹ˆ"></a>1.æ˜¯ä»€ä¹ˆ</h3><p>åœ¨<code>JavaScript</code>ä¸­ï¼Œnew æ“ä½œç¬¦ç”¨äºåˆ›å»ºä¸€ä¸ªç»™å®šæ„é€ å‡½æ•°çš„å®ä¾‹å¯¹è±¡</p>
<p>ä¾‹å­</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">sayName</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> person1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;Tom&#x27;</span>, <span class="number">20</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person1) <span class="comment">// Person &#123;name: &quot;Tom&quot;, age: 20&#125;</span></span><br><span class="line">t.<span class="title function_">sayName</span>() <span class="comment">// &#x27;Tom&#x27;</span></span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼š</p>
<li>new é€šè¿‡æ„é€ å‡½æ•° Person åˆ›å»ºå‡ºæ¥çš„å®ä¾‹å¯ä»¥è®¿é—®åˆ°æ„é€ å‡½æ•°ä¸­çš„å±æ€§</li>
<li>new é€šè¿‡æ„é€ å‡½æ•° Person åˆ›å»ºå‡ºæ¥çš„å®ä¾‹å¯ä»¥è®¿é—®åˆ°æ„é€ å‡½æ•°åŸå‹é“¾ä¸­çš„å±æ€§ï¼ˆå³å®ä¾‹ä¸æ„é€ å‡½æ•°é€šè¿‡åŸå‹é“¾è¿æ¥äº†èµ·æ¥ï¼‰</li>

<p>ç°åœ¨åœ¨æ„å»ºå‡½æ•°ä¸­æ˜¾å¼åŠ ä¸Šè¿”å›å€¼ï¼Œå¹¶ä¸”è¿™ä¸ªè¿”å›å€¼æ˜¯ä¸€ä¸ªåŸå§‹ç±»å‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Test</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">  <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> t = <span class="keyword">new</span> <span class="title class_">Test</span>(<span class="string">&#x27;xxx&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(t.<span class="property">name</span>) <span class="comment">// &#x27;xxx&#x27;</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥å‘ç°,æ„é€ å‡½æ•°ä¸­è¿”å›ä¸€ä¸ªåŸå§‹å€¼ï¼Œç„¶è€Œè¿™ä¸ªè¿”å›å€¼å¹¶æ²¡æœ‰ä½œç”¨</p>
<p>ä¸‹é¢åœ¨æ„é€ å‡½æ•°ä¸­è¿”å›ä¸€ä¸ªå¯¹è±¡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Test</span>(<span class="params">name</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>) <span class="comment">// Test &#123; name: &#x27;xxx&#x27; &#125;</span></span><br><span class="line">  <span class="keyword">return</span> &#123; <span class="attr">age</span>: <span class="number">26</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> t = <span class="keyword">new</span> <span class="title class_">Test</span>(<span class="string">&#x27;xxx&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(t) <span class="comment">// &#123; age: 26 &#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(t.<span class="property">name</span>) <span class="comment">// &#x27;undefined&#x27;</span></span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šé¢å¯ä»¥å‘ç°ï¼Œæ„é€ å‡½æ•°å¦‚æœè¿”å›å€¼ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆè¿™ä¸ªè¿”å›å€¼ä¼šè¢«æ­£å¸¸ä½¿ç”¨</p>
<h3 id="2-æµç¨‹"><a href="#2-æµç¨‹" class="headerlink" title="2.æµç¨‹"></a>2.æµç¨‹</h3><p>ä»ä¸Šé¢ä»‹ç»ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° new å…³é”®å­—ä¸»è¦åšäº†ä»¥ä¸‹çš„å·¥ä½œï¼š</p>
<li>åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ obj</li>
<li>å°†å¯¹è±¡ä¸æ„å»ºå‡½æ•°é€šè¿‡åŸå‹é“¾è¿æ¥èµ·æ¥</li>
<li>å°†æ„å»ºå‡½æ•°ä¸­çš„ this ç»‘å®šåˆ°æ–°å»ºçš„å¯¹è±¡ obj ä¸Š</li>
<li>æ ¹æ®æ„å»ºå‡½æ•°è¿”å›ç±»å‹åšåˆ¤æ–­ï¼Œå¦‚æœè¿”å›ç±»å‹åŸå§‹å€¼åˆ™è¢«å¿½ç•¥ï¼Œå¦‚æœè¿”å›çš„æ˜¯å¯¹è±¡ï¼Œåˆ™æ­£å¸¸å¤„ç†</li>

<p>ä¸¾ä¸ªä¾‹å­:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> person1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;Tom&#x27;</span>, <span class="number">20</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(person1) <span class="comment">// Person &#123;name: &quot;Tom&quot;, age: 20&#125;</span></span><br><span class="line">t.<span class="title function_">sayName</span>() <span class="comment">// &#x27;Tom&#x27;</span></span><br></pre></td></tr></table></figure>
<p>æµç¨‹å›¾å¦‚ä¸‹:<br><div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/new1.png"/></div></div></p>
<h3 id="3-æ‰‹å†™-new-æ“ä½œç¬¦"><a href="#3-æ‰‹å†™-new-æ“ä½œç¬¦" class="headerlink" title="3.æ‰‹å†™ new æ“ä½œç¬¦"></a>3.æ‰‹å†™ new æ“ä½œç¬¦</h3><p>ç°åœ¨æˆ‘ä»¬å·²ç»æ¸…æ¥šåœ°æŒæ¡äº†<code>new</code>çš„æ‰§è¡Œè¿‡ç¨‹</p>
<p>é‚£ä¹ˆæˆ‘ä»¬å°±åŠ¨æ‰‹æ¥å®ç°ä¸€ä¸‹<code>new</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">mynew</span>(<span class="params">Func, ...args</span>) &#123;</span><br><span class="line">  <span class="comment">// 1.åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line">  <span class="comment">// 2.æ–°å¯¹è±¡åŸå‹æŒ‡å‘æ„é€ å‡½æ•°åŸå‹å¯¹è±¡</span></span><br><span class="line">  obj.<span class="property">__proto__</span> = <span class="title class_">Func</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line">  <span class="comment">// 3.å°†æ„å»ºå‡½æ•°çš„thisæŒ‡å‘æ–°å¯¹è±¡</span></span><br><span class="line">  <span class="keyword">let</span> result = <span class="title class_">Func</span>.<span class="title function_">apply</span>(obj, args)</span><br><span class="line">  <span class="comment">// 4.æ ¹æ®è¿”å›å€¼åˆ¤æ–­</span></span><br><span class="line">  <span class="keyword">return</span> result <span class="keyword">instanceof</span> <span class="title class_">Object</span> ? result : obj</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">mynew</span>(<span class="params">func, ...args</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> obj = &#123;&#125;</span><br><span class="line">  obj.<span class="property">__proto__</span> = func.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line">  <span class="keyword">let</span> result = func.<span class="title function_">apply</span>(obj, args)</span><br><span class="line">  <span class="keyword">return</span> result <span class="keyword">instanceof</span> <span class="title class_">Object</span> ? result : obj</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">name</span> = name</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">age</span> = age</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">say</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p = <span class="title function_">mynew</span>(<span class="title class_">Person</span>, <span class="string">&#x27;huihui&#x27;</span>, <span class="number">123</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(p) <span class="comment">// Person &#123;name: &quot;huihui&quot;, age: 123&#125;</span></span><br><span class="line">p.<span class="title function_">say</span>() <span class="comment">// huihui</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥å‘ç° ä»£ç è™½ç„¶çŸ­ ä½†æ˜¯èƒ½å¤Ÿæ¨¡æ‹Ÿå®ç° <code>new</code></p>
<h2 id="ajax-åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°"><a href="#ajax-åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°" class="headerlink" title="ajax åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°"></a>ajax åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°</h2><h3 id="1-æ˜¯ä»€ä¹ˆ-4"><a href="#1-æ˜¯ä»€ä¹ˆ-4" class="headerlink" title="1.æ˜¯ä»€ä¹ˆ"></a>1.æ˜¯ä»€ä¹ˆ</h3><p><code>AJAX</code>å…¨ç§°(Async Javascript and XML)</p>
<p>å³å¼‚æ­¥çš„<code>JavaScript</code> å’Œ<code>XML</code>ï¼Œæ˜¯ä¸€ç§åˆ›å»ºäº¤äº’å¼ç½‘é¡µåº”ç”¨çš„ç½‘é¡µå¼€å‘æŠ€æœ¯ï¼Œå¯ä»¥åœ¨ä¸é‡æ–°åŠ è½½æ•´ä¸ªç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œä¸æœåŠ¡å™¨äº¤æ¢æ•°æ®ï¼Œå¹¶ä¸”æ›´æ–°éƒ¨åˆ†ç½‘é¡µ</p>
<p><code>Ajax</code>çš„åŸç†ç®€å•æ¥è¯´é€šè¿‡<code>XmlHttpRequest</code>å¯¹è±¡æ¥å‘æœåŠ¡å™¨å‘å¼‚æ­¥è¯·æ±‚ï¼Œä»æœåŠ¡å™¨è·å¾—æ•°æ®ï¼Œç„¶åç”¨<code>JavaScript</code>æ¥æ“ä½œ<code>DOM</code>è€Œæ›´æ–°é¡µé¢</p>
<p>æµç¨‹å›¾å¦‚ä¸‹:<br><div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/ajax1.png"/></div></div></p>
<p>ä¸‹é¢ä¸¾ä¸ªä¾‹å­:<br>é¢†å¯¼æƒ³æ‰¾å°ææ±‡æŠ¥ä¸€ä¸‹å·¥ä½œï¼Œå°±å§”æ‰˜ç§˜ä¹¦å»å«å°æï¼Œè‡ªå·±å°±æ¥ç€åšå…¶ä»–äº‹æƒ…ï¼Œç›´åˆ°ç§˜ä¹¦å‘Šè¯‰ä»–å°æå·²ç»åˆ°äº†ï¼Œæœ€åå°æè·Ÿé¢†å¯¼æ±‡æŠ¥å·¥ä½œ</p>
<p>Ajax è¯·æ±‚æ•°æ®æµç¨‹ä¸â€œé¢†å¯¼æƒ³æ‰¾å°ææ±‡æŠ¥ä¸€ä¸‹å·¥ä½œâ€ç±»ä¼¼ï¼Œä¸Šè¿°ç§˜ä¹¦å°±ç›¸å½“äº XMLHttpRequest å¯¹è±¡ï¼Œé¢†å¯¼ç›¸å½“äºæµè§ˆå™¨ï¼Œå“åº”æ•°æ®ç›¸å½“äºå°æ</p>
<p>æµè§ˆå™¨å¯ä»¥å‘é€ HTTP è¯·æ±‚åï¼Œæ¥ç€åšå…¶ä»–äº‹æƒ…ï¼Œç­‰æ”¶åˆ° XHR è¿”å›æ¥çš„æ•°æ®å†è¿›è¡Œæ“ä½œ</p>
<h3 id="2-å®ç°è¿‡ç¨‹"><a href="#2-å®ç°è¿‡ç¨‹" class="headerlink" title="2.å®ç°è¿‡ç¨‹"></a>2.å®ç°è¿‡ç¨‹</h3><p>å®ç° <code>Ajax</code>å¼‚æ­¥äº¤äº’éœ€è¦æœåŠ¡å™¨é€»è¾‘è¿›è¡Œé…åˆï¼Œéœ€è¦å®Œæˆä»¥ä¸‹æ­¥éª¤ï¼š</p>
<li>åˆ›å»º Ajaxçš„æ ¸å¿ƒå¯¹è±¡ XMLHttpRequestå¯¹è±¡</li>
<li>é€šè¿‡ XMLHttpRequest å¯¹è±¡çš„ open() æ–¹æ³•ä¸æœåŠ¡ç«¯å»ºç«‹è¿æ¥</li>
<li>æ„å»ºè¯·æ±‚æ‰€éœ€çš„æ•°æ®å†…å®¹ï¼Œå¹¶é€šè¿‡XMLHttpRequest å¯¹è±¡çš„ send() æ–¹æ³•å‘é€ç»™æœåŠ¡å™¨ç«¯</li>
<li>é€šè¿‡ XMLHttpRequest å¯¹è±¡æä¾›çš„ onreadystatechange äº‹ä»¶ç›‘å¬æœåŠ¡å™¨ç«¯ä½ çš„é€šä¿¡çŠ¶æ€</li>
<li>æ¥å—å¹¶å¤„ç†æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å“åº”çš„æ•°æ®ç»“æœ</li>
<li>å°†å¤„ç†ç»“æœæ›´æ–°åˆ° HTMLé¡µé¢ä¸­</li>

<h3 id="3-å°è£…"><a href="#3-å°è£…" class="headerlink" title="3.å°è£…"></a>3.å°è£…</h3><p>é€šè¿‡ä¸Šé¢å¯¹<code>XMLHttpRequest</code>å¯¹è±¡çš„äº†è§£ï¼Œä¸‹é¢æ¥å°è£…ä¸€ä¸ªç®€å•çš„ ajax è¯·æ±‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°è£…ä¸€ä¸ªajaxè¯·æ±‚</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">ajax</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="comment">//åˆ›å»ºXMLHttpRequestå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–å‚æ•°çš„å†…å®¹</span></span><br><span class="line">    options = options || &#123;&#125;</span><br><span class="line">    options.<span class="property">type</span> = (options.<span class="property">type</span> || <span class="string">&#x27;GET&#x27;</span>).<span class="title function_">toUpperCase</span>()</span><br><span class="line">    options.<span class="property">dataType</span> = options.<span class="property">dataType</span> || <span class="string">&#x27;json&#x27;</span></span><br><span class="line">    <span class="keyword">const</span> params = options.<span class="property">data</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//å‘é€è¯·æ±‚</span></span><br><span class="line">    <span class="keyword">if</span> (options.<span class="property">type</span> === <span class="string">&#x27;GET&#x27;</span>) &#123;</span><br><span class="line">        xhr.<span class="title function_">open</span>(<span class="string">&#x27;GET&#x27;</span>, options.<span class="property">url</span> + <span class="string">&#x27;?&#x27;</span> + params, <span class="literal">true</span>)</span><br><span class="line">        xhr.<span class="title function_">send</span>(<span class="literal">null</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (options.<span class="property">type</span> === <span class="string">&#x27;POST&#x27;</span>) &#123;</span><br><span class="line">        xhr.<span class="title function_">open</span>(<span class="string">&#x27;POST&#x27;</span>, options.<span class="property">url</span>, <span class="literal">true</span>)</span><br><span class="line">        xhr.<span class="title function_">send</span>(params)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ¥æ”¶è¯·æ±‚</span></span><br><span class="line">    xhr.<span class="property">onreadystatechange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span>) &#123;</span><br><span class="line">            <span class="keyword">let</span> status = xhr.<span class="property">status</span></span><br><span class="line">            <span class="keyword">if</span> (status &gt;= <span class="number">200</span> &amp;&amp; status &lt; <span class="number">300</span>) &#123;</span><br><span class="line">                options.<span class="property">success</span> &amp;&amp; options.<span class="title function_">success</span>(xhr.<span class="property">responseText</span>, xhr.<span class="property">responseXML</span>)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                options.<span class="property">fail</span> &amp;&amp; options.<span class="title function_">fail</span>(status)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨æ–¹å¼å¦‚ä¸‹:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">ajax</span>(&#123;</span><br><span class="line">  <span class="attr">type</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">  <span class="attr">dataType</span>: <span class="string">&#x27;json&#x27;</span>,</span><br><span class="line">  <span class="attr">data</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;https://xxxx&#x27;</span>,</span><br><span class="line">  <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">text, xml</span>) &#123;</span><br><span class="line">    <span class="comment">//è¯·æ±‚æˆåŠŸåçš„å›è°ƒå‡½æ•°</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(text)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">fail</span>: <span class="keyword">function</span> (<span class="params">status</span>) &#123;</span><br><span class="line">    <span class="comment">////è¯·æ±‚å¤±è´¥åçš„å›è°ƒå‡½æ•°</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(status)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="bind-call-apply-åŒºåˆ«"><a href="#bind-call-apply-åŒºåˆ«" class="headerlink" title="bind,call,apply åŒºåˆ«"></a>bind,call,apply åŒºåˆ«</h2><h3 id="1-ä½œç”¨"><a href="#1-ä½œç”¨" class="headerlink" title="1.ä½œç”¨"></a>1.ä½œç”¨</h3><p><code>call</code>ã€<code>apply</code>ã€<code>bind</code>ä½œç”¨æ˜¯æ”¹å˜å‡½æ•°æ‰§è¡Œæ—¶çš„ä¸Šä¸‹æ–‡ï¼Œç®€è€Œè¨€ä¹‹å°±æ˜¯æ”¹å˜å‡½æ•°è¿è¡Œæ—¶çš„ this æŒ‡å‘</p>
<p>é‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦æ”¹å˜ this çš„æŒ‡å‘å‘¢ï¼Ÿä¸‹é¢ä¸¾ä¸ªä¾‹å­</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = <span class="string">&#x27;lucy&#x27;</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;martin&#x27;</span>,</span><br><span class="line">  <span class="attr">say</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="title function_">say</span>() <span class="comment">// martinï¼Œthis æŒ‡å‘ obj å¯¹è±¡</span></span><br><span class="line"><span class="built_in">setTimeout</span>(obj.<span class="property">say</span>, <span class="number">0</span>) <span class="comment">// lucyï¼Œthis æŒ‡å‘ window å¯¹è±¡</span></span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œæ­£å¸¸æƒ…å†µ say æ–¹æ³•è¾“å‡º martin</p>
<p>ä½†æ˜¯æˆ‘ä»¬æŠŠ say æ”¾åœ¨ setTimeout æ–¹æ³•ä¸­ï¼Œåœ¨å®šæ—¶å™¨ä¸­æ˜¯ä½œä¸ºå›è°ƒå‡½æ•°æ¥æ‰§è¡Œçš„ï¼Œå› æ­¤å›åˆ°ä¸»æ ˆæ‰§è¡Œæ—¶æ˜¯åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç¯å¢ƒä¸­æ‰§è¡Œçš„ï¼Œè¿™æ—¶å€™ this æŒ‡å‘ windowï¼Œæ‰€ä»¥è¾“å‡º lucy</p>
<p>æˆ‘ä»¬å®é™…éœ€è¦çš„æ˜¯ this æŒ‡å‘ obj å¯¹è±¡ï¼Œè¿™æ—¶å€™å°±éœ€è¦è¯¥æ”¹å˜ this æŒ‡å‘äº†</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(obj.<span class="property">say</span>.<span class="title function_">bind</span>(obj), <span class="number">0</span>) <span class="comment">//martinï¼ŒthisæŒ‡å‘objå¯¹è±¡</span></span><br></pre></td></tr></table></figure>
<h3 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h3><p>ä¸‹é¢å†æ¥çœ‹çœ‹<code>apply</code>ã€<code>call</code>ã€<code>bind</code>çš„ä½¿ç”¨</p>
<p><strong>apply</strong></p>
<p><code>apply</code>æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯<code>this</code>çš„æŒ‡å‘ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å‡½æ•°æ¥å—çš„å‚æ•°ï¼Œä»¥æ•°ç»„çš„å½¢å¼ä¼ å…¥</p>
<p>æ”¹å˜<code>this</code>æŒ‡å‘ååŸå‡½æ•°ä¼šç«‹å³æ‰§è¡Œï¼Œä¸”æ­¤æ–¹æ³•åªæ˜¯ä¸´æ—¶æ”¹å˜<code>this</code>æŒ‡å‘ä¸€æ¬¡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>, args)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">myname</span>: <span class="string">&#x27;å¼ ä¸‰&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn.<span class="title function_">apply</span>(obj, [<span class="number">1</span>, <span class="number">2</span>]) <span class="comment">// thisä¼šå˜æˆä¼ å…¥çš„objï¼Œä¼ å…¥çš„å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªæ•°ç»„ï¼›</span></span><br><span class="line"><span class="title function_">fn</span>(<span class="number">1</span>, <span class="number">2</span>) <span class="comment">// thisæŒ‡å‘window</span></span><br></pre></td></tr></table></figure>
<p>å½“ç¬¬ä¸€ä¸ªå‚æ•°ä¸º<code>null</code>ã€<code>undefined</code>çš„æ—¶å€™ï¼Œé»˜è®¤æŒ‡å‘<code>window</code>(åœ¨æµè§ˆå™¨ä¸­)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fn.<span class="title function_">apply</span>(<span class="literal">null</span>, [<span class="number">1</span>, <span class="number">2</span>]) <span class="comment">// thisæŒ‡å‘window</span></span><br><span class="line">fn.<span class="title function_">apply</span>(<span class="literal">undefined</span>, [<span class="number">1</span>, <span class="number">2</span>]) <span class="comment">// thisæŒ‡å‘window</span></span><br></pre></td></tr></table></figure>
<p><strong>call</strong></p>
<p><code>call</code>æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¹Ÿæ˜¯<code>this</code>çš„æŒ‡å‘ï¼Œåé¢ä¼ å…¥çš„æ˜¯ä¸€ä¸ªå‚æ•°åˆ—è¡¨</p>
<p>è·Ÿ apply ä¸€æ ·ï¼Œæ”¹å˜<code>this</code>æŒ‡å‘ååŸå‡½æ•°ä¼šç«‹å³æ‰§è¡Œï¼Œä¸”æ­¤æ–¹æ³•åªæ˜¯ä¸´æ—¶æ”¹å˜<code>this</code>æŒ‡å‘ä¸€æ¬¡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>, args)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">myname</span>: <span class="string">&#x27;å¼ ä¸‰&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn.<span class="title function_">call</span>(obj, <span class="number">1</span>, <span class="number">2</span>) <span class="comment">// thisä¼šå˜æˆä¼ å…¥çš„objï¼Œä¼ å…¥çš„å‚æ•°å¿…é¡»æ˜¯ä¸€ä¸ªæ•°ç»„ï¼›</span></span><br><span class="line"><span class="title function_">fn</span>(<span class="number">1</span>, <span class="number">2</span>) <span class="comment">// thisæŒ‡å‘window</span></span><br></pre></td></tr></table></figure>
<p>åŒæ ·çš„ï¼Œå½“ç¬¬ä¸€ä¸ªå‚æ•°ä¸º<code>null</code>ã€<code>undefined</code>çš„æ—¶å€™ï¼Œé»˜è®¤æŒ‡å‘<code>window</code>(åœ¨æµè§ˆå™¨ä¸­)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fn.<span class="title function_">call</span>(<span class="literal">null</span>, [<span class="number">1</span>, <span class="number">2</span>]) <span class="comment">// thisæŒ‡å‘window</span></span><br><span class="line">fn.<span class="title function_">call</span>(<span class="literal">undefined</span>, [<span class="number">1</span>, <span class="number">2</span>]) <span class="comment">// thisæŒ‡å‘window</span></span><br></pre></td></tr></table></figure>
<p><strong>bind</strong></p>
<p>bind æ–¹æ³•å’Œ call å¾ˆç›¸ä¼¼ï¼Œç¬¬ä¸€å‚æ•°ä¹Ÿæ˜¯<code>this</code>çš„æŒ‡å‘ï¼Œåé¢ä¼ å…¥çš„ä¹Ÿæ˜¯ä¸€ä¸ªå‚æ•°åˆ—è¡¨(ä½†æ˜¯è¿™ä¸ªå‚æ•°åˆ—è¡¨å¯ä»¥åˆ†å¤šæ¬¡ä¼ å…¥)</p>
<p>æ”¹å˜<code>this</code>æŒ‡å‘åä¸ä¼šç«‹å³æ‰§è¡Œï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ°¸ä¹…æ”¹å˜<code>this</code>æŒ‡å‘çš„å‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">...args</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>, args)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">  <span class="attr">myname</span>: <span class="string">&#x27;å¼ ä¸‰&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> bindFn = fn.<span class="title function_">bind</span>(obj) <span class="comment">// this ä¹Ÿä¼šå˜æˆä¼ å…¥çš„obj ï¼Œbindä¸æ˜¯ç«‹å³æ‰§è¡Œéœ€è¦æ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line"><span class="title function_">bindFn</span>(<span class="number">1</span>, <span class="number">2</span>) <span class="comment">// thisæŒ‡å‘obj</span></span><br><span class="line"><span class="title function_">fn</span>(<span class="number">1</span>, <span class="number">2</span>) <span class="comment">// thisæŒ‡å‘window</span></span><br></pre></td></tr></table></figure>
<p><strong>å°ç»“</strong></p>
<p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œ<code>apply</code>ã€<code>call</code>ã€<code>bind</code>ä¸‰è€…çš„åŒºåˆ«åœ¨äºï¼š</p>
<li>ä¸‰è€…éƒ½å¯ä»¥æ”¹å˜å‡½æ•°çš„thiså¯¹è±¡æŒ‡å‘</li>
<li>ä¸‰è€…ç¬¬ä¸€ä¸ªå‚æ•°éƒ½æ˜¯thisè¦æŒ‡å‘çš„å¯¹è±¡ï¼Œå¦‚æœå¦‚æœæ²¡æœ‰è¿™ä¸ªå‚æ•°æˆ–å‚æ•°ä¸ºundefinedæˆ–nullï¼Œåˆ™é»˜è®¤æŒ‡å‘å…¨å±€window</li>
<li>ä¸‰è€…éƒ½å¯ä»¥ä¼ å‚ï¼Œä½†æ˜¯applyæ˜¯æ•°ç»„ï¼Œè€Œcallæ˜¯å‚æ•°åˆ—è¡¨ï¼Œä¸”applyå’Œcallæ˜¯ä¸€æ¬¡æ€§ä¼ å…¥å‚æ•°ï¼Œè€Œbindå¯ä»¥åˆ†ä¸ºå¤šæ¬¡ä¼ å…¥</li>
<li>bindæ˜¯è¿”å›ç»‘å®šthisä¹‹åçš„å‡½æ•°ï¼Œapplyã€call åˆ™æ˜¯ç«‹å³æ‰§è¡Œ</li>

<h3 id="3-å®ç°"><a href="#3-å®ç°" class="headerlink" title="3.å®ç°"></a>3.å®ç°</h3><p>å®ç°<code>bind</code>çš„æ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥åˆ†è§£æˆä¸ºä¸‰éƒ¨åˆ†ï¼š</p>
<li>ä¿®æ”¹thisæŒ‡å‘</li>
<li>åŠ¨æ€ä¼ é€’å‚æ•°</li>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–¹å¼ä¸€ï¼šåªåœ¨bindä¸­ä¼ é€’å‡½æ•°å‚æ•°</span></span><br><span class="line">fn.<span class="title function_">bind</span>(obj, <span class="number">1</span>, <span class="number">2</span>)()</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹å¼äºŒï¼šåœ¨bindä¸­ä¼ é€’å‡½æ•°å‚æ•°ï¼Œä¹Ÿåœ¨è¿”å›å‡½æ•°ä¸­ä¼ é€’å‚æ•°</span></span><br><span class="line">fn.<span class="title function_">bind</span>(obj, <span class="number">1</span>)(<span class="number">2</span>)</span><br></pre></td></tr></table></figure>
<li>å…¼å®¹newå…³é”®å­—</li>

<p>æ•´ä½“å®ç°ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myBind</span> = <span class="keyword">function</span> (<span class="params">context</span>) &#123;</span><br><span class="line">  <span class="comment">// åˆ¤æ–­è°ƒç”¨å¯¹è±¡æ˜¯å¦ä¸ºå‡½æ•°</span></span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable language_">this</span> !== <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">TypeError</span>(<span class="string">&#x27;Error&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è·å–å‚æ•°</span></span><br><span class="line">  <span class="keyword">const</span> args = [...<span class="variable language_">arguments</span>].<span class="title function_">slice</span>(<span class="number">1</span>),</span><br><span class="line">    fn = <span class="variable language_">this</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> <span class="title function_">Fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// æ ¹æ®è°ƒç”¨æ–¹å¼ï¼Œä¼ å…¥ä¸åŒç»‘å®šå€¼</span></span><br><span class="line">    <span class="keyword">return</span> fn.<span class="title function_">apply</span>(</span><br><span class="line">      <span class="variable language_">this</span> <span class="keyword">instanceof</span> <span class="title class_">Fn</span> ? <span class="keyword">new</span> <span class="title function_">fn</span>(...<span class="variable language_">arguments</span>) : context,</span><br><span class="line">      args.<span class="title function_">concat</span>(...<span class="variable language_">arguments</span>)</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="æ­£åˆ™è¡¨è¾¾å¼çš„ç†è§£-åº”ç”¨åœºæ™¯"><a href="#æ­£åˆ™è¡¨è¾¾å¼çš„ç†è§£-åº”ç”¨åœºæ™¯" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼çš„ç†è§£ åº”ç”¨åœºæ™¯"></a>æ­£åˆ™è¡¨è¾¾å¼çš„ç†è§£ åº”ç”¨åœºæ™¯</h2><h3 id="1-æ˜¯ä»€ä¹ˆ-5"><a href="#1-æ˜¯ä»€ä¹ˆ-5" class="headerlink" title="1.æ˜¯ä»€ä¹ˆ"></a>1.æ˜¯ä»€ä¹ˆ</h3><p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç§ç”¨æ¥åŒ¹é…å­—ç¬¦ä¸²çš„å¼ºæœ‰åŠ›çš„æ­¦å™¨</p>
<p>å®ƒçš„è®¾è®¡æ€æƒ³æ˜¯ç”¨ä¸€ç§æè¿°æ€§çš„è¯­è¨€å®šä¹‰ä¸€ä¸ªè§„åˆ™ï¼Œå‡¡æ˜¯ç¬¦åˆè§„åˆ™çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºå®ƒâ€œåŒ¹é…â€äº†ï¼Œå¦åˆ™ï¼Œè¯¥å­—ç¬¦ä¸²å°±æ˜¯ä¸åˆæ³•çš„</p>
<p>åœ¨ <code>JavaScript</code>ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ˜¯å¯¹è±¡ï¼Œæ„å»ºæ­£åˆ™è¡¨è¾¾å¼æœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ol>
<li>å­—é¢é‡åˆ›å»ºï¼Œå…¶ç”±åŒ…å«åœ¨æ–œæ ä¹‹é—´çš„æ¨¡å¼ç»„æˆ</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> re = <span class="regexp">/\d+/g</span></span><br></pre></td></tr></table></figure>
<ol>
<li>è°ƒç”¨ RegExp å¯¹è±¡çš„æ„é€ å‡½æ•°</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> re = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">&#x27;\\d+&#x27;</span>, <span class="string">&#x27;g&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> rul = <span class="string">&#x27;\\d+&#x27;</span></span><br><span class="line"><span class="keyword">const</span> re1 = <span class="keyword">new</span> <span class="title class_">RegExp</span>(rul, <span class="string">&#x27;g&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨æ„å»ºå‡½æ•°åˆ›å»ºï¼Œç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸€ä¸ªå˜é‡ï¼Œé‡åˆ°ç‰¹æ®Šå­—ç¬¦\éœ€è¦ä½¿ç”¨\è¿›è¡Œè½¬ä¹‰</p>
<h3 id="2-åŒ¹é…è§„åˆ™"><a href="#2-åŒ¹é…è§„åˆ™" class="headerlink" title="2.åŒ¹é…è§„åˆ™"></a>2.åŒ¹é…è§„åˆ™</h3><p>å¸¸è§çš„åŒ¹é…è§„åˆ™å¦‚ä¸‹:</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>è§„åˆ™</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td>\</td>
<td>è½¬ä¹‰</td>
</tr>
<tr>
<td>^</td>
<td>åŒ¹é…è¾“å…¥çš„å¼€å§‹</td>
</tr>
<tr>
<td>$</td>
<td>åŒ¹é…è¾“å…¥çš„ç»“æŸ</td>
</tr>
<tr>
<td>*</td>
<td>åŒ¹é…å‰ä¸€ä¸ªè¡¨è¾¾å¼ 0 æ¬¡æˆ–å¤šæ¬¡</td>
</tr>
<tr>
<td>+</td>
<td>åŒ¹é…å‰é¢ä¸€ä¸ªè¡¨è¾¾å¼ 1 æ¬¡æˆ–è€…å¤šæ¬¡ã€‚ç­‰ä»·äº {1,}</td>
</tr>
<tr>
<td>?</td>
<td>åŒ¹é…å‰é¢ä¸€ä¸ªè¡¨è¾¾å¼ 0 æ¬¡æˆ–è€… 1 æ¬¡ã€‚ç­‰ä»·äº{0,1}</td>
</tr>
<tr>
<td>.</td>
<td>é»˜è®¤åŒ¹é…é™¤æ¢è¡Œç¬¦ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>â€¦</td>
<td>â€¦</td>
</tr>
</tbody>
</table>
</div>
<h2 id="å¯¹äº‹ä»¶å¾ªç¯çš„ç†è§£"><a href="#å¯¹äº‹ä»¶å¾ªç¯çš„ç†è§£" class="headerlink" title="å¯¹äº‹ä»¶å¾ªç¯çš„ç†è§£"></a>å¯¹äº‹ä»¶å¾ªç¯çš„ç†è§£</h2><h3 id="1-æ˜¯ä»€ä¹ˆ-6"><a href="#1-æ˜¯ä»€ä¹ˆ-6" class="headerlink" title="1.æ˜¯ä»€ä¹ˆ"></a>1.æ˜¯ä»€ä¹ˆ</h3><p>é¦–å…ˆï¼Œ<code>JavaScript</code>æ˜¯ä¸€é—¨å•çº¿ç¨‹çš„è¯­è¨€ï¼Œæ„å‘³ç€åŒä¸€æ—¶é—´å†…åªèƒ½åšä¸€ä»¶äº‹ï¼Œä½†æ˜¯è¿™å¹¶ä¸æ„å‘³ç€å•çº¿ç¨‹å°±æ˜¯é˜»å¡ï¼Œè€Œå®ç°å•çº¿ç¨‹éé˜»å¡çš„æ–¹æ³•å°±æ˜¯äº‹ä»¶å¾ªç¯</p>
<p>åœ¨<code>JavaScript</code>ä¸­ï¼Œæ‰€æœ‰çš„ä»»åŠ¡éƒ½å¯ä»¥åˆ†ä¸º</p>
<li>åŒæ­¥ä»»åŠ¡ï¼šç«‹å³æ‰§è¡Œçš„ä»»åŠ¡ï¼ŒåŒæ­¥ä»»åŠ¡ä¸€èˆ¬ä¼šç›´æ¥è¿›å…¥åˆ°ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œ</li>
<li>å¼‚æ­¥ä»»åŠ¡ï¼šå¼‚æ­¥æ‰§è¡Œçš„ä»»åŠ¡ï¼Œæ¯”å¦‚ajaxç½‘ç»œè¯·æ±‚ï¼ŒsetTimeoutå®šæ—¶å‡½æ•°ç­‰</li>

<p>åŒæ­¥ä»»åŠ¡ä¸å¼‚æ­¥ä»»åŠ¡çš„è¿è¡Œæµç¨‹å›¾å¦‚ä¸‹ï¼š</p>
<div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/äº‹ä»¶å¾ªç¯1.png"/></div></div>
<p>ä»ä¸Šé¢æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒåŒæ­¥ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹ï¼Œå³ä¸»æ‰§è¡Œæ ˆï¼Œå¼‚æ­¥ä»»åŠ¡è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œä¸»çº¿ç¨‹å†…çš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸ºç©ºï¼Œä¼šå»ä»»åŠ¡é˜Ÿåˆ—è¯»å–å¯¹åº”çš„ä»»åŠ¡ï¼Œæ¨å…¥ä¸»çº¿ç¨‹æ‰§è¡Œã€‚ä¸Šè¿°è¿‡ç¨‹çš„ä¸æ–­é‡å¤å°±äº‹ä»¶å¾ªç¯</p>
<h3 id="2-å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡"><a href="#2-å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡" class="headerlink" title="2.å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡"></a>2.å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡</h3><p>å¦‚æœå°†ä»»åŠ¡åˆ’åˆ†ä¸ºåŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡å¹¶ä¸æ˜¯é‚£ä¹ˆçš„å‡†ç¡®ï¼Œä¸¾ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;new Promise&#x27;</span>)</span><br><span class="line">  <span class="title function_">resolve</span>()</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;then&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæŒ‰ç…§ä¸Šé¢æµç¨‹å›¾æ¥åˆ†æä»£ç ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸‹é¢çš„æ‰§è¡Œæ­¥éª¤ï¼š</p>
<li>console.log(1)ï¼ŒåŒæ­¥ä»»åŠ¡ï¼Œä¸»çº¿ç¨‹ä¸­æ‰§è¡Œ</li>
<li>setTimeout() ï¼Œå¼‚æ­¥ä»»åŠ¡ï¼Œæ”¾åˆ° Event Tableï¼Œ0 æ¯«ç§’åconsole.log(2)å›è°ƒæ¨å…¥ Event Queue ä¸­</li>
<li>new Promise ï¼ŒåŒæ­¥ä»»åŠ¡ï¼Œä¸»çº¿ç¨‹ç›´æ¥æ‰§è¡Œ</li>
<li>.then ï¼Œå¼‚æ­¥ä»»åŠ¡ï¼Œæ”¾åˆ° Event Table</li>
<li>console.log(3)ï¼ŒåŒæ­¥ä»»åŠ¡ï¼Œä¸»çº¿ç¨‹æ‰§è¡Œ</li>

<p>æ‰€ä»¥æŒ‰ç…§åˆ†æï¼Œå®ƒçš„ç»“æœåº”è¯¥æ˜¯ <code>1 =&gt; &#39;new Promise&#39; =&gt; 3 =&gt; 2 =&gt; &#39;then&#39;</code></p>
<p>ä½†æ˜¯å®é™…ç»“æœæ˜¯ï¼š<code>1=&gt;&#39;new Promise&#39;=&gt; 3 =&gt; &#39;then&#39; =&gt; 2</code></p>
<p>å‡ºç°åˆ†æ­§çš„åŸå› åœ¨äºå¼‚æ­¥ä»»åŠ¡æ‰§è¡Œé¡ºåºï¼Œäº‹ä»¶é˜Ÿåˆ—å…¶å®æ˜¯ä¸€ä¸ª<code>â€œå…ˆè¿›å…ˆå‡ºâ€</code>çš„æ•°æ®ç»“æ„ï¼Œæ’åœ¨å‰é¢çš„äº‹ä»¶ä¼šä¼˜å…ˆè¢«ä¸»çº¿ç¨‹è¯»å–</p>
<p>ä¾‹å­ä¸­ <code>setTimeout</code>å›è°ƒäº‹ä»¶æ˜¯å…ˆè¿›å…¥é˜Ÿåˆ—ä¸­çš„ï¼ŒæŒ‰ç†è¯´åº”è¯¥å…ˆäº .then ä¸­çš„æ‰§è¡Œï¼Œä½†æ˜¯ç»“æœå´åå<code>ç›¸å</code></p>
<p>åŸå› åœ¨äºå¼‚æ­¥ä»»åŠ¡è¿˜å¯ä»¥ç»†åˆ†ä¸º<code>å®ä»»åŠ¡</code>ä¸<code>å¾®ä»»åŠ¡</code></p>
<p><strong>å®ä»»åŠ¡</strong><br>å®ä»»åŠ¡çš„æ—¶é—´ç²’åº¦æ¯”è¾ƒå¤§ï¼Œæ‰§è¡Œçš„æ—¶é—´é—´éš”æ˜¯ä¸èƒ½ç²¾ç¡®æ§åˆ¶çš„ï¼Œå¯¹ä¸€äº›é«˜å®æ—¶æ€§çš„éœ€æ±‚å°±ä¸å¤ªç¬¦åˆ<br>å¸¸è§çš„å®ä»»åŠ¡æœ‰ï¼š</p>
<li>script (å¯ä»¥ç†è§£ä¸ºå¤–å±‚åŒæ­¥ä»£ç )</li>
<li>setTimeout/setInterval</li>
<li>UI rendering/UIäº‹ä»¶</li>
<li>postMessageã€MessageChannel</li>
<li>setImmediateã€I/Oï¼ˆNode.jsï¼‰</li>

<p><strong>å¾®ä»»åŠ¡</strong><br>ä¸€ä¸ªéœ€è¦å¼‚æ­¥æ‰§è¡Œçš„å‡½æ•°ï¼Œæ‰§è¡Œæ—¶æœºæ˜¯åœ¨ä¸»å‡½æ•°æ‰§è¡Œç»“æŸä¹‹åã€å½“å‰å®ä»»åŠ¡ç»“æŸä¹‹å‰</p>
<p>å¸¸è§çš„å¾®ä»»åŠ¡æœ‰ï¼š</p>
<li>Promise.then</li>
<li>MutaionObserver</li>
<li>Object.observeï¼ˆå·²åºŸå¼ƒï¼›Proxy å¯¹è±¡æ›¿ä»£ï¼‰</li>
<li>process.nextTickï¼ˆNode.jsï¼‰</li>

<p>è¿™æ—¶å€™ï¼Œäº‹ä»¶å¾ªç¯ï¼Œé‚£ä¸ªä»»åŠ¡ï¼Œå¾®ä»»åŠ¡çš„å…³ç³»å¦‚å›¾æ‰€ç¤º:<br><div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/äº‹ä»¶å¾ªç¯2.png"/></div></div></p>
<p>æŒ‰ç…§è¿™ä¸ªæµç¨‹ï¼Œå®ƒçš„æ‰§è¡Œæœºåˆ¶æ˜¯ï¼š</p>
<li>æ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡ï¼Œå¦‚æœé‡åˆ°å¾®ä»»åŠ¡å°±å°†å®ƒæ”¾åˆ°å¾®ä»»åŠ¡çš„äº‹ä»¶é˜Ÿåˆ—ä¸­</li>
<li>å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œæˆåï¼Œä¼šæŸ¥çœ‹å¾®ä»»åŠ¡çš„äº‹ä»¶é˜Ÿåˆ—ï¼Œç„¶åå°†é‡Œé¢çš„æ‰€æœ‰å¾®ä»»åŠ¡ä¾æ¬¡æ‰§è¡Œå®Œ</li>

<p>å›åˆ°ä¸Šé¢é¢˜ç›®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>)</span><br><span class="line">&#125;, <span class="number">0</span>)</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;new Promise&#x27;</span>)</span><br><span class="line">  <span class="title function_">resolve</span>()</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;then&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p>æµç¨‹å¦‚ä¸‹:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é‡åˆ° console.log(1) ï¼Œç›´æ¥æ‰“å° 1</span></span><br><span class="line"><span class="comment">// é‡åˆ°å®šæ—¶å™¨ï¼Œå±äºæ–°çš„å®ä»»åŠ¡ï¼Œç•™ç€åé¢æ‰§è¡Œ</span></span><br><span class="line"><span class="comment">// é‡åˆ° new Promiseï¼Œè¿™ä¸ªæ˜¯ç›´æ¥æ‰§è¡Œçš„ï¼Œæ‰“å° &#x27;new Promise&#x27;</span></span><br><span class="line"><span class="comment">// .then å±äºå¾®ä»»åŠ¡ï¼Œæ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œåé¢å†æ‰§è¡Œ</span></span><br><span class="line"><span class="comment">// é‡åˆ° console.log(3) ç›´æ¥æ‰“å° 3</span></span><br><span class="line"><span class="comment">// å¥½äº†æœ¬è½®å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç°åœ¨å»å¾®ä»»åŠ¡åˆ—è¡¨æŸ¥çœ‹æ˜¯å¦æœ‰å¾®ä»»åŠ¡ï¼Œå‘ç° .then çš„å›è°ƒï¼Œæ‰§è¡Œå®ƒï¼Œæ‰“å° &#x27;then&#x27;</span></span><br><span class="line"><span class="comment">// å½“ä¸€æ¬¡å®ä»»åŠ¡æ‰§è¡Œå®Œï¼Œå†å»æ‰§è¡Œæ–°çš„å®ä»»åŠ¡ï¼Œè¿™é‡Œå°±å‰©ä¸€ä¸ªå®šæ—¶å™¨çš„å®ä»»åŠ¡äº†ï¼Œæ‰§è¡Œå®ƒï¼Œæ‰“å° 2</span></span><br></pre></td></tr></table></figure>
<h3 id="async-ä¸-await"><a href="#async-ä¸-await" class="headerlink" title="async ä¸ await"></a>async ä¸ await</h3><p><code>async</code> æ˜¯å¼‚æ­¥çš„æ„æ€ï¼Œawait åˆ™å¯ä»¥ç†è§£ä¸º <code>async wait</code>ã€‚æ‰€ä»¥å¯ä»¥ç†è§£<code>async</code>å°±æ˜¯ç”¨æ¥å£°æ˜ä¸€ä¸ªå¼‚æ­¥æ–¹æ³•ï¼Œè€Œ <code>await</code>æ˜¯ç”¨æ¥ç­‰å¾…å¼‚æ­¥æ–¹æ³•æ‰§è¡Œ</p>
<p><strong>async</strong></p>
<p>async å‡½æ•°è¿”å›ä¸€ä¸ª promise å¯¹è±¡ï¼Œä¸‹é¢ä¸¤ç§æ–¹æ³•æ˜¯ç­‰æ•ˆçš„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(<span class="string">&#x27;TEST&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// asyncF is equivalent to f!</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">asyncF</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;TEST&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>await</strong></p>
<p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œ<code>await</code>å‘½ä»¤åé¢æ˜¯ä¸€ä¸ª <code>Promise</code>å¯¹è±¡ï¼Œè¿”å›è¯¥å¯¹è±¡çš„ç»“æœã€‚å¦‚æœä¸æ˜¯ <code>Promise</code>å¯¹è±¡ï¼Œå°±ç›´æ¥è¿”å›å¯¹åº”çš„å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// ç­‰åŒäº</span></span><br><span class="line">  <span class="comment">// return 123</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> <span class="number">123</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">f</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">v</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(v)) <span class="comment">// 123</span></span><br></pre></td></tr></table></figure>
<p>ä¸ç®¡<code>await</code>åé¢è·Ÿç€çš„æ˜¯ä»€ä¹ˆï¼Œ<code>await</code>éƒ½ä¼šé˜»å¡åé¢çš„ä»£ç </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fn1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line">  <span class="keyword">await</span> <span class="title function_">fn2</span>()</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>) <span class="comment">// é˜»å¡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fn2</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;fn2&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fn1</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ<code>await</code> ä¼šé˜»å¡ä¸‹é¢çš„ä»£ç ï¼ˆå³åŠ å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼‰ï¼Œå…ˆæ‰§è¡Œ <code>async</code>å¤–é¢çš„åŒæ­¥ä»£ç ï¼ŒåŒæ­¥ä»£ç æ‰§è¡Œå®Œï¼Œå†å›åˆ° async å‡½æ•°ä¸­ï¼Œå†æ‰§è¡Œä¹‹å‰é˜»å¡çš„ä»£ç </p>
<p>æ‰€ä»¥ä¸Šè¿°è¾“å‡ºç»“æœä¸ºï¼š<code>1</code>ï¼Œ<code>fn2</code>ï¼Œ<code>3</code>ï¼Œ<code>2</code></p>
<h3 id="4-æµç¨‹åˆ†æ"><a href="#4-æµç¨‹åˆ†æ" class="headerlink" title="4.æµç¨‹åˆ†æ"></a>4.æµç¨‹åˆ†æ</h3><p>é€šè¿‡å¯¹ä¸Šé¢çš„äº†è§£ï¼Œæˆ‘ä»¬å¯¹ JavaScript å¯¹å„ç§åœºæ™¯çš„æ‰§è¡Œé¡ºåºæœ‰äº†å¤§è‡´çš„äº†è§£</p>
<p>è¿™é‡Œç›´æ¥ä¸Šä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async1</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async1 start&#x27;</span>)</span><br><span class="line">  <span class="keyword">await</span> <span class="title function_">async2</span>()</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async1 end&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">async2</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;async2&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script start&#x27;</span>)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;settimeout&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="title function_">async1</span>()</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise1&#x27;</span>)</span><br><span class="line">  <span class="title function_">resolve</span>()</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;promise2&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;script end&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>åˆ†æè¿‡ç¨‹:</p>
<ol>
<li>æ‰§è¡Œæ•´æ®µä»£ç ï¼Œé‡åˆ° <code>console.log(&#39;script start&#39;)</code> ç›´æ¥æ‰“å°ç»“æœï¼Œè¾“å‡º <code>script start</code></li>
<li>é‡åˆ°å®šæ—¶å™¨äº†ï¼Œå®ƒæ˜¯å®ä»»åŠ¡ï¼Œå…ˆæ”¾ç€ä¸æ‰§è¡Œ</li>
<li>é‡åˆ° <code>async1()</code>ï¼Œæ‰§è¡Œ <code>async1</code> å‡½æ•°ï¼Œå…ˆæ‰“å° <code>async1 start</code>ï¼Œä¸‹é¢é‡åˆ° await æ€ä¹ˆåŠï¼Ÿå…ˆæ‰§è¡Œ<code>async2</code>ï¼Œæ‰“å° <code>async2</code>ï¼Œç„¶åé˜»å¡ä¸‹é¢ä»£ç ï¼ˆå³åŠ å…¥å¾®ä»»åŠ¡åˆ—è¡¨ï¼‰ï¼Œè·³å‡ºå»æ‰§è¡ŒåŒæ­¥ä»£ç </li>
<li>è·³åˆ° <code>new Promise</code> è¿™é‡Œï¼Œç›´æ¥æ‰§è¡Œï¼Œæ‰“å° <code>promise1</code>ï¼Œä¸‹é¢é‡åˆ° <code>.then()</code>ï¼Œå®ƒæ˜¯<code>å¾®ä»»åŠ¡</code>ï¼Œæ”¾åˆ°å¾®ä»»åŠ¡åˆ—è¡¨ç­‰å¾…æ‰§è¡Œ</li>
<li>æœ€åä¸€è¡Œç›´æ¥æ‰“å° <code>script end</code>ï¼Œç°åœ¨åŒæ­¥ä»£ç æ‰§è¡Œå®Œäº†ï¼Œå¼€å§‹æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œå³ <code>await</code> ä¸‹é¢çš„ä»£ç ï¼Œæ‰“å° <code>async1 end</code></li>
<li>ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªå¾®ä»»åŠ¡ï¼Œå³æ‰§è¡Œ <code>then</code>çš„å›è°ƒï¼Œæ‰“å° <code>promise2</code></li>
<li>ä¸Šä¸€ä¸ªå®ä»»åŠ¡æ‰€æœ‰äº‹éƒ½åšå®Œäº†ï¼Œå¼€å§‹ä¸‹ä¸€ä¸ªå®ä»»åŠ¡ï¼Œå°±æ˜¯å®šæ—¶å™¨ï¼Œæ‰“å° <code>settimeout</code></li>
</ol>
<p>æ‰€ä»¥æœ€åçš„ç»“æœæ˜¯ï¼š<code>script start</code>ã€<code>async1 start</code>ã€<code>async2</code>ã€<code>promise1</code>ã€<code>script end</code>ã€<code>async1 end</code>ã€<code>promise2</code>ã€<code>settimeout</code></p>
<h2 id="JavaScript-å†…å­˜æ³„æ¼"><a href="#JavaScript-å†…å­˜æ³„æ¼" class="headerlink" title="JavaScript å†…å­˜æ³„æ¼"></a>JavaScript å†…å­˜æ³„æ¼</h2><h3 id="1-æ˜¯ä»€ä¹ˆ-7"><a href="#1-æ˜¯ä»€ä¹ˆ-7" class="headerlink" title="1.æ˜¯ä»€ä¹ˆ"></a>1.æ˜¯ä»€ä¹ˆ</h3><p>å†…å­˜æ³„æ¼ï¼ˆMemory leakï¼‰æ˜¯åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œç”±äºç–å¿½æˆ–é”™è¯¯é€ æˆç¨‹åºæœªèƒ½é‡Šæ”¾å·²ç»ä¸å†ä½¿ç”¨çš„å†…å­˜</p>
<p>å¹¶éæŒ‡å†…å­˜åœ¨ç‰©ç†ä¸Šçš„æ¶ˆå¤±ï¼Œè€Œæ˜¯åº”ç”¨ç¨‹åºåˆ†é…æŸæ®µå†…å­˜åï¼Œç”±äºè®¾è®¡é”™è¯¯ï¼Œå¯¼è‡´åœ¨é‡Šæ”¾è¯¥æ®µå†…å­˜ä¹‹å‰å°±å¤±å»äº†å¯¹è¯¥æ®µå†…å­˜çš„æ§åˆ¶ï¼Œä»è€Œé€ æˆäº†å†…å­˜çš„æµªè´¹</p>
<p>ç¨‹åºçš„è¿è¡Œéœ€è¦å†…å­˜ã€‚åªè¦ç¨‹åºæå‡ºè¦æ±‚ï¼Œæ“ä½œç³»ç»Ÿæˆ–è€…è¿è¡Œæ—¶å°±å¿…é¡»ä¾›ç»™å†…å­˜</p>
<p>å¯¹äºæŒç»­è¿è¡Œçš„æœåŠ¡è¿›ç¨‹ï¼Œå¿…é¡»åŠæ—¶é‡Šæ”¾ä¸å†ç”¨åˆ°çš„å†…å­˜ã€‚å¦åˆ™ï¼Œå†…å­˜å ç”¨è¶Šæ¥è¶Šé«˜ï¼Œè½»åˆ™å½±å“ç³»ç»Ÿæ€§èƒ½ï¼Œé‡åˆ™å¯¼è‡´è¿›ç¨‹å´©æºƒ</p>
<h3 id="2-åƒåœ¾å›æ”¶æœºåˆ¶"><a href="#2-åƒåœ¾å›æ”¶æœºåˆ¶" class="headerlink" title="2.åƒåœ¾å›æ”¶æœºåˆ¶"></a>2.åƒåœ¾å›æ”¶æœºåˆ¶</h3><p>Javascript å…·æœ‰è‡ªåŠ¨åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGCï¼šGarbage Collecationï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰§è¡Œç¯å¢ƒä¼šè´Ÿè´£ç®¡ç†ä»£ç æ‰§è¡Œè¿‡ç¨‹ä¸­ä½¿ç”¨çš„å†…å­˜</p>
<p>åŸç†ï¼šåƒåœ¾æ”¶é›†å™¨ä¼šå®šæœŸï¼ˆå‘¨æœŸæ€§ï¼‰æ‰¾å‡ºé‚£äº›ä¸åœ¨ç»§ç»­ä½¿ç”¨çš„å˜é‡ï¼Œç„¶åé‡Šæ”¾å…¶å†…å­˜</p>
<p>é€šå¸¸æƒ…å†µä¸‹æœ‰ä¸¤ç§å®ç°æ–¹å¼ï¼š</p>
<li>æ ‡è®°æ¸…é™¤</li>
<li>å¼•ç”¨è®¡æ•°</li>

<p><strong>æ ‡è®°æ¸…é™¤</strong></p>
<p><code>JavaScript</code>æœ€å¸¸ç”¨çš„åƒåœ¾æ”¶å›æœºåˆ¶</p>
<p>å½“å˜é‡è¿›å…¥æ‰§è¡Œç¯å¢ƒæ˜¯ï¼Œå°±æ ‡è®°è¿™ä¸ªå˜é‡ä¸ºâ€œè¿›å…¥ç¯å¢ƒâ€œã€‚è¿›å…¥ç¯å¢ƒçš„å˜é‡æ‰€å ç”¨çš„å†…å­˜å°±ä¸èƒ½é‡Šæ”¾ï¼Œå½“å˜é‡ç¦»å¼€ç¯å¢ƒæ—¶ï¼Œåˆ™å°†å…¶æ ‡è®°ä¸ºâ€œç¦»å¼€ç¯å¢ƒâ€œ</p>
<p>åƒåœ¾å›æ”¶ç¨‹åºè¿è¡Œçš„æ—¶å€™ï¼Œä¼šæ ‡è®°å†…å­˜ä¸­å­˜å‚¨çš„æ‰€æœ‰å˜é‡ã€‚ç„¶åï¼Œå®ƒä¼šå°†æ‰€æœ‰åœ¨ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡ï¼Œä»¥åŠè¢«åœ¨ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡å¼•ç”¨çš„å˜é‡çš„æ ‡è®°å»æ‰</p>
<p>åœ¨æ­¤ä¹‹åå†è¢«åŠ ä¸Šæ ‡è®°çš„å˜é‡å°±æ˜¯å¾…åˆ é™¤çš„äº†ï¼ŒåŸå› æ˜¯ä»»ä½•åœ¨ä¸Šä¸‹æ–‡ä¸­çš„å˜é‡éƒ½è®¿é—®ä¸åˆ°å®ƒä»¬äº†</p>
<p>éšååƒåœ¾å›æ”¶ç¨‹åºåšä¸€æ¬¡å†…å­˜æ¸…ç†ï¼Œé”€æ¯å¸¦æ ‡è®°çš„æ‰€æœ‰å€¼å¹¶æ”¶å›å®ƒä»¬çš„å†…å­˜</p>
<p>ä¸¾ä¸ªä¾‹å­</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> m = <span class="number">0</span>,</span><br><span class="line">  n = <span class="number">19</span> <span class="comment">// æŠŠ m,n,add() æ ‡è®°ä¸ºè¿›å…¥ç¯å¢ƒã€‚</span></span><br><span class="line"><span class="title function_">add</span>(m, n) <span class="comment">// æŠŠ a, b, cæ ‡è®°ä¸ºè¿›å…¥ç¯å¢ƒã€‚</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(n) <span class="comment">// a,b,cæ ‡è®°ä¸ºç¦»å¼€ç¯å¢ƒï¼Œç­‰å¾…åƒåœ¾å›æ”¶ã€‚</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  a++</span><br><span class="line">  <span class="keyword">var</span> c = a + b</span><br><span class="line">  <span class="keyword">return</span> c</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>å¼•ç”¨è®¡æ•°</strong><br>è¯­è¨€å¼•æ“æœ‰ä¸€å¼ â€å¼•ç”¨è¡¨â€ï¼Œä¿å­˜äº†å†…å­˜é‡Œé¢æ‰€æœ‰çš„èµ„æºï¼ˆé€šå¸¸æ˜¯å„ç§å€¼ï¼‰çš„å¼•ç”¨æ¬¡æ•°ã€‚å¦‚æœä¸€ä¸ªå€¼çš„å¼•ç”¨æ¬¡æ•°æ˜¯ 0ï¼Œå°±è¡¨ç¤ºè¿™ä¸ªå€¼ä¸å†ç”¨åˆ°äº†ï¼Œå› æ­¤å¯ä»¥å°†è¿™å—å†…å­˜é‡Šæ”¾</p>
<p>å¦‚æœä¸€ä¸ªå€¼ä¸å†éœ€è¦äº†ï¼Œå¼•ç”¨æ•°å´ä¸ä¸º 0ï¼Œåƒåœ¾å›æ”¶æœºåˆ¶æ— æ³•é‡Šæ”¾è¿™å—å†…å­˜ï¼Œä»è€Œå¯¼è‡´å†…å­˜æ³„æ¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;hello world&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢ä»£ç ä¸­ï¼Œæ•°ç»„[1, 2, 3, 4]æ˜¯ä¸€ä¸ªå€¼ï¼Œä¼šå ç”¨å†…å­˜ã€‚å˜é‡ arr æ˜¯ä»…æœ‰çš„å¯¹è¿™ä¸ªå€¼çš„å¼•ç”¨ï¼Œå› æ­¤å¼•ç”¨æ¬¡æ•°ä¸º 1ã€‚å°½ç®¡åé¢çš„ä»£ç æ²¡æœ‰ç”¨åˆ° arrï¼Œå®ƒè¿˜æ˜¯ä¼šæŒç»­å ç”¨å†…å­˜</p>
<p>å¦‚æœéœ€è¦è¿™å—å†…å­˜è¢«åƒåœ¾å›æ”¶æœºåˆ¶é‡Šæ”¾ï¼Œåªéœ€è¦è®¾ç½®å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr = <span class="literal">null</span></span><br></pre></td></tr></table></figure>
<p>é€šè¿‡è®¾ç½® arr ä¸º nullï¼Œå°±è§£é™¤äº†å¯¹æ•°ç»„[1,2,3,4]çš„å¼•ç”¨ï¼Œå¼•ç”¨æ¬¡æ•°å˜ä¸º 0ï¼Œå°±è¢«åƒåœ¾å›æ”¶äº†</p>
<p><strong>å°ç»“</strong><br>æœ‰äº†åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œä¸ä»£è¡¨ä¸ç”¨å…³æ³¨å†…å­˜æ³„éœ²ã€‚é‚£äº›å¾ˆå ç©ºé—´çš„å€¼ï¼Œä¸€æ—¦ä¸å†ç”¨åˆ°ï¼Œéœ€è¦æ£€æŸ¥æ˜¯å¦è¿˜å­˜åœ¨å¯¹å®ƒä»¬çš„å¼•ç”¨ã€‚å¦‚æœæ˜¯çš„è¯ï¼Œå°±å¿…é¡»æ‰‹åŠ¨è§£é™¤å¼•ç”¨</p>
<h2 id="JavaScript-æœ¬åœ°å­˜å‚¨æ–¹å¼-åŒºåˆ«åŠåº”ç”¨åœºæ™¯"><a href="#JavaScript-æœ¬åœ°å­˜å‚¨æ–¹å¼-åŒºåˆ«åŠåº”ç”¨åœºæ™¯" class="headerlink" title="JavaScript æœ¬åœ°å­˜å‚¨æ–¹å¼ åŒºåˆ«åŠåº”ç”¨åœºæ™¯"></a>JavaScript æœ¬åœ°å­˜å‚¨æ–¹å¼ åŒºåˆ«åŠåº”ç”¨åœºæ™¯</h2><h3 id="1-æ–¹å¼"><a href="#1-æ–¹å¼" class="headerlink" title="1.æ–¹å¼"></a>1.æ–¹å¼</h3><p><code>javaScript</code>æœ¬åœ°ç¼“å­˜çš„æ–¹æ³•æˆ‘ä»¬ä¸»è¦è®²è¿°ä»¥ä¸‹å››ç§ï¼š</p>
<li>cookie</li>
<li>sessionStorage</li>
<li>localStorage</li>
<li>indexedDB</li>

<p><strong>cookie</strong></p>
<p><code>Cookie</code>ï¼Œç±»å‹ä¸ºã€Œå°å‹æ–‡æœ¬æ–‡ä»¶ã€ï¼ŒæŒ‡æŸäº›ç½‘ç«™ä¸ºäº†è¾¨åˆ«ç”¨æˆ·èº«ä»½è€Œå‚¨å­˜åœ¨ç”¨æˆ·æœ¬åœ°ç»ˆç«¯ä¸Šçš„æ•°æ®ã€‚æ˜¯ä¸ºäº†è§£å†³ HTTP æ— çŠ¶æ€å¯¼è‡´çš„é—®é¢˜</p>
<p>ä½œä¸ºä¸€æ®µä¸€èˆ¬ä¸è¶…è¿‡ 4KB çš„å°å‹æ–‡æœ¬æ•°æ®ï¼Œå®ƒç”±ä¸€ä¸ªåç§°ï¼ˆNameï¼‰ã€ä¸€ä¸ªå€¼ï¼ˆValueï¼‰å’Œå…¶å®ƒå‡ ä¸ªç”¨äºæ§åˆ¶ <code>cookie``æœ‰æ•ˆæœŸ</code>ã€<code>å®‰å…¨æ€§</code>ã€<code>ä½¿ç”¨èŒƒå›´</code>çš„å¯é€‰å±æ€§ç»„æˆ</p>
<p>ä½†æ˜¯<code>cookie</code>åœ¨æ¯æ¬¡è¯·æ±‚ä¸­éƒ½ä¼šè¢«å‘é€ï¼Œå¦‚æœä¸ä½¿ç”¨ <code>HTTPS</code>å¹¶å¯¹å…¶åŠ å¯†ï¼Œå…¶ä¿å­˜çš„ä¿¡æ¯å¾ˆå®¹æ˜“è¢«çªƒå–ï¼Œå¯¼è‡´å®‰å…¨é£é™©ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ä¸€äº›ä½¿ç”¨ <code>cookie</code>ä¿æŒç™»å½•æ€çš„ç½‘ç«™ä¸Šï¼Œå¦‚æœ <code>cookie</code>è¢«çªƒå–ï¼Œä»–äººå¾ˆå®¹æ˜“åˆ©ç”¨ä½ çš„ <code>cookie</code>æ¥å‡æ‰®æˆä½ ç™»å½•ç½‘ç«™</p>
<p>å…³äº cookie å¸¸ç”¨çš„å±æ€§å¦‚ä¸‹ï¼š<br>Expires ç”¨äºè®¾ç½® Cookie çš„è¿‡æœŸæ—¶é—´</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Expires</span>=<span class="title class_">Wed</span>, <span class="number">21</span> <span class="title class_">Oct</span> <span class="number">2015</span> <span class="number">07</span>:<span class="number">28</span>:<span class="number">00</span> <span class="variable constant_">GMT</span></span><br></pre></td></tr></table></figure>
<p>Max-Age ç”¨äºè®¾ç½®åœ¨ Cookie å¤±æ•ˆä¹‹å‰éœ€è¦ç»è¿‡çš„ç§’æ•°ï¼ˆä¼˜å…ˆçº§æ¯” Expires é«˜ï¼‰</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Max</span>-<span class="title class_">Age</span>=<span class="number">604800</span></span><br></pre></td></tr></table></figure>
<p><code>Domain</code>æŒ‡å®šäº† <code>Cookie</code>å¯ä»¥é€è¾¾çš„ä¸»æœºå<br><code>Path</code>æŒ‡å®šäº†ä¸€ä¸ª <code>URL</code>è·¯å¾„ï¼Œè¿™ä¸ªè·¯å¾„å¿…é¡»å‡ºç°åœ¨è¦è¯·æ±‚çš„èµ„æºçš„è·¯å¾„ä¸­æ‰å¯ä»¥å‘é€ <code>Cookie</code> é¦–éƒ¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Path</span>=<span class="regexp">/docs   # /</span>docs/<span class="title class_">Web</span>/ ä¸‹çš„èµ„æºä¼šå¸¦ <span class="title class_">Cookie</span> é¦–éƒ¨</span><br></pre></td></tr></table></figure>
<p>æ ‡è®°ä¸º <code>Secure</code>çš„ <code>Cookie</code>åªåº”é€šè¿‡è¢« HTTPS åè®®åŠ å¯†è¿‡çš„è¯·æ±‚å‘é€ç»™æœåŠ¡ç«¯</p>
<p>é€šè¿‡ä¸Šè¿°ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°<code>cookie</code>åˆå¼€å§‹çš„ä½œç”¨å¹¶ä¸æ˜¯ä¸ºäº†ç¼“å­˜è€Œè®¾è®¡å‡ºæ¥ï¼Œåªæ˜¯å€Ÿç”¨äº†<code>cookie</code>çš„ç‰¹æ€§å®ç°ç¼“å­˜</p>
<p>å…³äº<code>cookie</code>çš„ä½¿ç”¨å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span> = <span class="string">&#x27;åå­—=å€¼&#x27;</span></span><br></pre></td></tr></table></figure>
<p>å…³äº <code>cookie</code> çš„ä¿®æ”¹ï¼Œé¦–å…ˆè¦ç¡®å®š <code>domain</code>å’Œ <code>path</code> å±æ€§éƒ½æ˜¯ç›¸åŒçš„æ‰å¯ä»¥ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªä¸åŒå¾—æ—¶å€™éƒ½ä¼šåˆ›å»ºå‡ºä¸€ä¸ªæ–°çš„ <code>cookie</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Set</span>-<span class="title class_">Cookie</span>:name=aa; domain=aa.<span class="property">net</span>; path=/  # æœåŠ¡ç«¯è®¾ç½®</span><br><span class="line"><span class="variable language_">document</span>.<span class="property">cookie</span> =name=bb; domain=aa.<span class="property">net</span>; path=/  # å®¢æˆ·ç«¯è®¾ç½®</span><br></pre></td></tr></table></figure>
<p>æœ€å<code>cookie</code>çš„åˆ é™¤ï¼Œæœ€å¸¸ç”¨çš„æ–¹æ³•å°±æ˜¯ç»™ cookie è®¾ç½®ä¸€ä¸ªè¿‡æœŸçš„äº‹ä»¶ï¼Œè¿™æ · cookie è¿‡æœŸåä¼šè¢«æµè§ˆå™¨åˆ é™¤</p>
<p><strong>localStorage</strong><br>HTML5 æ–°æ–¹æ³•ï¼ŒIE8 åŠä»¥ä¸Šæµè§ˆå™¨éƒ½å…¼å®¹</p>
<p><strong>ç‰¹ç‚¹</strong></p>
<li>ç”Ÿå‘½å‘¨æœŸï¼šæŒä¹…åŒ–çš„æœ¬åœ°å­˜å‚¨ï¼Œé™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼Œå¦åˆ™æ•°æ®æ˜¯æ°¸è¿œä¸ä¼šè¿‡æœŸçš„</li>
<li>å­˜å‚¨çš„ä¿¡æ¯åœ¨åŒä¸€åŸŸä¸­æ˜¯å…±äº«çš„</li>
<li>å½“æœ¬é¡µæ“ä½œï¼ˆæ–°å¢ã€ä¿®æ”¹ã€åˆ é™¤ï¼‰äº†localStorageçš„æ—¶å€™ï¼Œæœ¬é¡µé¢ä¸ä¼šè§¦å‘storageäº‹ä»¶,ä½†æ˜¯åˆ«çš„é¡µé¢ä¼šè§¦å‘storageäº‹ä»¶ã€‚</li>
<li>å¤§å°ï¼š5Mï¼ˆè·Ÿæµè§ˆå™¨å‚å•†æœ‰å…³ç³»ï¼‰</li>
<li>localStorageæœ¬è´¨ä¸Šæ˜¯å¯¹å­—ç¬¦ä¸²çš„è¯»å–ï¼Œå¦‚æœå­˜å‚¨å†…å®¹å¤šçš„è¯ä¼šæ¶ˆè€—å†…å­˜ç©ºé—´ï¼Œä¼šå¯¼è‡´é¡µé¢å˜å¡</li>
<li>å—åŒæºç­–ç•¥çš„é™åˆ¶</li>

<p>ä¸‹é¢å†çœ‹çœ‹å…³äº<code>localStorage</code>çš„ä½¿ç”¨</p>
<p>è®¾ç½®</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;username&#x27;</span>, <span class="string">&#x27;cfangxu&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>è·å–</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;username&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>è·å–é”®å</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">key</span>(<span class="number">0</span>) <span class="comment">//è·å–ç¬¬ä¸€ä¸ªé”®å</span></span><br></pre></td></tr></table></figure>
<p>åˆ é™¤</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="string">&#x27;username&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>ä¸€æ¬¡æ€§æ¸…é™¤æ‰€æœ‰å­˜å‚¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">clear</span>()</span><br></pre></td></tr></table></figure>
<p><code>localStorage</code> ä¹Ÿä¸æ˜¯å®Œç¾çš„ï¼Œå®ƒæœ‰ä¸¤ä¸ªç¼ºç‚¹ï¼š</p>
<li>æ— æ³•åƒCookieä¸€æ ·è®¾ç½®è¿‡æœŸæ—¶é—´</li>
<li>åªèƒ½å­˜å…¥å­—ç¬¦ä¸²ï¼Œæ— æ³•ç›´æ¥å­˜å¯¹è±¡</li>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;key&#x27;</span>, &#123; <span class="attr">name</span>: <span class="string">&#x27;value&#x27;</span> &#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;key&#x27;</span>)) <span class="comment">// &#x27;[object, Object]&#x27;</span></span><br></pre></td></tr></table></figure>
<p><strong>sessionStorage</strong><br>sessionStorage å’Œ localStorage ä½¿ç”¨æ–¹æ³•åŸºæœ¬ä¸€è‡´ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ç”Ÿå‘½å‘¨æœŸï¼Œä¸€æ—¦é¡µé¢ï¼ˆä¼šè¯ï¼‰å…³é—­ï¼ŒsessionStorage å°†ä¼šåˆ é™¤æ•°æ®</p>
<p><strong>æ‰©å±•çš„å‰ç«¯å­˜å‚¨æ–¹å¼</strong><br>indexedDB æ˜¯ä¸€ç§ä½çº§ APIï¼Œç”¨äºå®¢æˆ·ç«¯å­˜å‚¨å¤§é‡ç»“æ„åŒ–æ•°æ®(åŒ…æ‹¬, æ–‡ä»¶/ blobs)ã€‚è¯¥ API ä½¿ç”¨ç´¢å¼•æ¥å®ç°å¯¹è¯¥æ•°æ®çš„é«˜æ€§èƒ½æœç´¢</p>
<p>è™½ç„¶ Web Storage å¯¹äºå­˜å‚¨è¾ƒå°‘é‡çš„æ•°æ®å¾ˆæœ‰ç”¨ï¼Œä½†å¯¹äºå­˜å‚¨æ›´å¤§é‡çš„ç»“æ„åŒ–æ•°æ®æ¥è¯´ï¼Œè¿™ç§æ–¹æ³•ä¸å¤ªæœ‰ç”¨ã€‚IndexedDB æä¾›äº†ä¸€ä¸ªè§£å†³æ–¹æ¡ˆ</p>
<p><strong>ä¼˜ç‚¹:</strong></p>
<li>å‚¨å­˜é‡ç†è®ºä¸Šæ²¡æœ‰ä¸Šé™</li>
<li>æ‰€æœ‰æ“ä½œéƒ½æ˜¯å¼‚æ­¥çš„ï¼Œç›¸æ¯” LocalStorage åŒæ­¥æ“ä½œæ€§èƒ½æ›´é«˜ï¼Œå°¤å…¶æ˜¯æ•°æ®é‡è¾ƒå¤§æ—¶</li>
<li>åŸç”Ÿæ”¯æŒå‚¨å­˜JSçš„å¯¹è±¡</li>
<li>æ˜¯ä¸ªæ­£ç»çš„æ•°æ®åº“ï¼Œæ„å‘³ç€æ•°æ®åº“èƒ½å¹²çš„äº‹å®ƒéƒ½èƒ½å¹²</li>

<p><strong>ç¼ºç‚¹:</strong></p>
<li>æ“ä½œéå¸¸ç¹ç</li>
<li>æœ¬èº«æœ‰ä¸€å®šé—¨æ§›</li>

<h3 id="2-åŒºåˆ«"><a href="#2-åŒºåˆ«" class="headerlink" title="2.åŒºåˆ«"></a>2.åŒºåˆ«</h3><p>å…³äº<code>cookie</code>ã€<code>sessionStorage</code>ã€<code>localStorage</code>ä¸‰è€…çš„åŒºåˆ«ä¸»è¦å¦‚ä¸‹ï¼š</p>
<li>å­˜å‚¨å¤§å°ï¼šcookieæ•°æ®å¤§å°ä¸èƒ½è¶…è¿‡4kï¼ŒsessionStorageå’ŒlocalStorageè™½ç„¶ä¹Ÿæœ‰å­˜å‚¨å¤§å°çš„é™åˆ¶ï¼Œä½†æ¯”cookieå¤§å¾—å¤šï¼Œå¯ä»¥è¾¾åˆ°5Mæˆ–æ›´å¤§</li>
<li>æœ‰æ•ˆæ—¶é—´ï¼šlocalStorageå­˜å‚¨æŒä¹…æ•°æ®ï¼Œæµè§ˆå™¨å…³é—­åæ•°æ®ä¸ä¸¢å¤±é™¤éä¸»åŠ¨åˆ é™¤æ•°æ®ï¼› sessionStorageæ•°æ®åœ¨å½“å‰æµè§ˆå™¨çª—å£å…³é—­åè‡ªåŠ¨åˆ é™¤ï¼›cookieè®¾ç½®çš„cookieè¿‡æœŸæ—¶é—´ä¹‹å‰ä¸€ç›´æœ‰æ•ˆï¼Œå³ä½¿çª—å£æˆ–æµè§ˆå™¨å…³é—­</li>
<li>æ•°æ®ä¸æœåŠ¡å™¨ä¹‹é—´çš„äº¤äº’æ–¹å¼ï¼Œcookieçš„æ•°æ®ä¼šè‡ªåŠ¨çš„ä¼ é€’åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ç«¯ä¹Ÿå¯ä»¥å†™cookieåˆ°å®¢æˆ·ç«¯ï¼› sessionStorageå’ŒlocalStorageä¸ä¼šè‡ªåŠ¨æŠŠæ•°æ®å‘ç»™æœåŠ¡å™¨ï¼Œä»…åœ¨æœ¬åœ°ä¿å­˜</li>

<h3 id="3-åº”ç”¨åœºæ™¯"><a href="#3-åº”ç”¨åœºæ™¯" class="headerlink" title="3.åº”ç”¨åœºæ™¯"></a>3.åº”ç”¨åœºæ™¯</h3><p>åœ¨äº†è§£äº†ä¸Šè¿°çš„å‰ç«¯çš„ç¼“å­˜æ–¹å¼åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹çœ‹é’ˆå¯¹ä¸å¯¹åœºæ™¯çš„ä½¿ç”¨é€‰æ‹©ï¼š</p>
<li>æ ‡è®°ç”¨æˆ·ä¸è·Ÿè¸ªç”¨æˆ·è¡Œä¸ºçš„æƒ…å†µï¼Œæ¨èä½¿ç”¨cookie</li>
<li>é€‚åˆé•¿æœŸä¿å­˜åœ¨æœ¬åœ°çš„æ•°æ®ï¼ˆä»¤ç‰Œï¼‰ï¼Œæ¨èä½¿ç”¨localStorage</li>
<li>æ•æ„Ÿè´¦å·ä¸€æ¬¡æ€§ç™»å½•ï¼Œæ¨èä½¿ç”¨sessionStorage</li>
<li>å­˜å‚¨å¤§é‡æ•°æ®çš„æƒ…å†µã€åœ¨çº¿æ–‡æ¡£ï¼ˆå¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼‰ä¿å­˜ç¼–è¾‘å†å²çš„æƒ…å†µï¼Œæ¨èä½¿ç”¨indexedDB</li>

<h2 id="JavaScript-æ•°å­—ç²¾åº¦ä¸¢å¤±çš„é—®é¢˜-å¦‚ä½•è§£å†³"><a href="#JavaScript-æ•°å­—ç²¾åº¦ä¸¢å¤±çš„é—®é¢˜-å¦‚ä½•è§£å†³" class="headerlink" title="JavaScript æ•°å­—ç²¾åº¦ä¸¢å¤±çš„é—®é¢˜,å¦‚ä½•è§£å†³"></a>JavaScript æ•°å­—ç²¾åº¦ä¸¢å¤±çš„é—®é¢˜,å¦‚ä½•è§£å†³</h2><h3 id="1-åœºæ™¯å¤ç°"><a href="#1-åœºæ™¯å¤ç°" class="headerlink" title="1.åœºæ™¯å¤ç°"></a>1.åœºæ™¯å¤ç°</h3><p>ä¸€ä¸ªç»å…¸çš„é¢è¯•é¢˜</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.1</span> + <span class="number">0.2</span> === <span class="number">0.3</span> <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>ä¸ºä»€ä¹ˆæ˜¯<code>false</code>å‘¢?</p>
<p>å…ˆçœ‹ä¸‹é¢è¿™ä¸ªæ¯”å–»</p>
<p>æ¯”å¦‚ä¸€ä¸ªæ•° 1Ã·3=0.33333333â€¦â€¦</p>
<p>3 ä¼šä¸€ç›´æ— é™å¾ªç¯ï¼Œæ•°å­¦å¯ä»¥è¡¨ç¤ºï¼Œä½†æ˜¯è®¡ç®—æœºè¦å­˜å‚¨ï¼Œæ–¹ä¾¿ä¸‹æ¬¡å–å‡ºæ¥å†ä½¿ç”¨ï¼Œä½† 0.333333â€¦â€¦ è¿™ä¸ªæ•°æ— é™å¾ªç¯ï¼Œå†å¤§çš„å†…å­˜å®ƒä¹Ÿå­˜ä¸ä¸‹ï¼Œæ‰€ä»¥ä¸èƒ½å­˜å‚¨ä¸€ä¸ªç›¸å¯¹äºæ•°å­¦æ¥è¯´çš„å€¼ï¼Œåªèƒ½å­˜å‚¨ä¸€ä¸ªè¿‘ä¼¼å€¼ï¼Œå½“è®¡ç®—æœºå­˜å‚¨åå†å–å‡ºæ—¶å°±ä¼šå‡ºç°ç²¾åº¦ä¸¢å¤±é—®é¢˜</p>
<h3 id="2-æµ®ç‚¹æ•°"><a href="#2-æµ®ç‚¹æ•°" class="headerlink" title="2.æµ®ç‚¹æ•°"></a>2.æµ®ç‚¹æ•°</h3><p>â€œæµ®ç‚¹æ•°â€æ˜¯ä¸€ç§è¡¨ç¤ºæ•°å­—çš„æ ‡å‡†ï¼Œæ•´æ•°ä¹Ÿå¯ä»¥ç”¨æµ®ç‚¹æ•°çš„æ ¼å¼æ¥å­˜å‚¨</p>
<p>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç†è§£æˆï¼Œæµ®ç‚¹æ•°å°±æ˜¯å°æ•°</p>
<p>åœ¨<code>JavaScript</code>ä¸­ï¼Œç°åœ¨ä¸»æµçš„æ•°å€¼ç±»å‹æ˜¯<code>Number</code>ï¼Œè€Œ<code>Number</code>é‡‡ç”¨çš„æ˜¯ IEEE754 è§„èŒƒä¸­ 64 ä½åŒç²¾åº¦æµ®ç‚¹æ•°ç¼–ç </p>
<p>è¿™æ ·çš„å­˜å‚¨ç»“æ„ä¼˜ç‚¹æ˜¯å¯ä»¥å½’ä¸€åŒ–å¤„ç†æ•´æ•°å’Œå°æ•°ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´</p>
<p>å¯¹äºä¸€ä¸ªæ•´æ•°ï¼Œå¯ä»¥å¾ˆè½»æ˜“è½¬åŒ–æˆåè¿›åˆ¶æˆ–è€…äºŒè¿›åˆ¶ã€‚ä½†æ˜¯å¯¹äºä¸€ä¸ªæµ®ç‚¹æ•°æ¥è¯´ï¼Œå› ä¸ºå°æ•°ç‚¹çš„å­˜åœ¨ï¼Œå°æ•°ç‚¹çš„ä½ç½®ä¸æ˜¯å›ºå®šçš„ã€‚è§£å†³æ€è·¯å°±æ˜¯ä½¿ç”¨ç§‘å­¦è®¡æ•°æ³•ï¼Œè¿™æ ·å°æ•°ç‚¹ä½ç½®å°±å›ºå®šäº†</p>
<h3 id="3-é—®é¢˜åˆ†æ"><a href="#3-é—®é¢˜åˆ†æ" class="headerlink" title="3.é—®é¢˜åˆ†æ"></a>3.é—®é¢˜åˆ†æ</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.1</span> + <span class="number">0.2</span> === <span class="number">0.3</span> <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ä¸Šé¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œåœ¨ javascript è¯­è¨€ä¸­ï¼Œ0.1 å’Œ 0.2 éƒ½è½¬åŒ–æˆäºŒè¿›åˆ¶åå†è¿›è¡Œè¿ç®—</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 0.1 å’Œ 0.2 éƒ½è½¬åŒ–æˆäºŒè¿›åˆ¶åå†è¿›è¡Œè¿ç®—</span></span><br><span class="line"><span class="number">0.00011001100110011001100110011001100110011001100110011010</span> +</span><br><span class="line"><span class="number">0.0011001100110011001100110011001100110011001100110011010</span> =</span><br><span class="line"><span class="number">0.0100110011001100110011001100110011001100110011001100111</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è½¬æˆåè¿›åˆ¶æ­£å¥½æ˜¯ 0.30000000000000004</span></span><br></pre></td></tr></table></figure>
<p>æ‰€ä»¥è¾“å‡º false</p>
<p>å†æ¥ä¸€ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆ<code>x=0.1</code>å¾—åˆ°<code>0.1</code>ï¼Ÿ</p>
<p>ä¸»è¦æ˜¯å­˜å‚¨äºŒè¿›åˆ¶æ—¶å°æ•°ç‚¹çš„åç§»é‡æœ€å¤§ä¸º 52 ä½ï¼Œæœ€å¤šå¯ä»¥è¡¨è¾¾çš„ä½æ•°æ˜¯<code>2^53=9007199254740992</code>ï¼Œå¯¹åº”ç§‘å­¦è®¡æ•°å°¾æ•°æ˜¯ <code>9.007199254740992</code>ï¼Œè¿™ä¹Ÿæ˜¯ JS æœ€å¤šèƒ½è¡¨ç¤ºçš„ç²¾åº¦</p>
<p>å®ƒçš„é•¿åº¦æ˜¯ 16ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ <code>toPrecision(16)</code>æ¥åšç²¾åº¦è¿ç®—ï¼Œè¶…è¿‡çš„ç²¾åº¦ä¼šè‡ªåŠ¨åšå‡‘æ•´å¤„ç†</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">;(<span class="number">0.10000000000000000555</span>).<span class="title function_">toPrecision</span>(<span class="number">16</span>)</span><br><span class="line"><span class="comment">// è¿”å› 0.1000000000000000ï¼Œå»æ‰æœ«å°¾çš„é›¶åæ­£å¥½ä¸º 0.1</span></span><br></pre></td></tr></table></figure>
<p>ä½†çœ‹åˆ°çš„ 0.1 å®é™…ä¸Šå¹¶ä¸æ˜¯ 0.1ã€‚ä¸ä¿¡ä½ å¯ç”¨æ›´é«˜çš„ç²¾åº¦è¯•è¯•ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.1</span>.<span class="title function_">toPrecision</span>(<span class="number">21</span>) = <span class="number">0.100000000000000005551</span></span><br></pre></td></tr></table></figure>
<p><strong>å°ç»“</strong><br>è®¡ç®—æœºå­˜å‚¨åŒç²¾åº¦æµ®ç‚¹æ•°éœ€è¦å…ˆæŠŠåè¿›åˆ¶æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶çš„ç§‘å­¦è®°æ•°æ³•çš„å½¢å¼ï¼Œç„¶åè®¡ç®—æœºä»¥è‡ªå·±çš„è§„åˆ™{ç¬¦å·ä½+(æŒ‡æ•°ä½+æŒ‡æ•°åç§»é‡çš„äºŒè¿›åˆ¶)+å°æ•°éƒ¨åˆ†}å­˜å‚¨äºŒè¿›åˆ¶çš„ç§‘å­¦è®°æ•°æ³•</p>
<p>å› ä¸ºå­˜å‚¨æ—¶æœ‰ä½æ•°é™åˆ¶ï¼ˆ64 ä½ï¼‰ï¼Œå¹¶ä¸”æŸäº›åè¿›åˆ¶çš„æµ®ç‚¹æ•°åœ¨è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ•°æ—¶ä¼šå‡ºç°æ— é™å¾ªç¯ï¼Œä¼šé€ æˆäºŒè¿›åˆ¶çš„èˆå…¥æ“ä½œ(0 èˆ 1 å…¥)ï¼Œå½“å†è½¬æ¢ä¸ºåè¿›åˆ¶æ—¶å°±é€ æˆäº†è®¡ç®—è¯¯å·®</p>
<h3 id="4-è§£å†³æ–¹æ¡ˆ"><a href="#4-è§£å†³æ–¹æ¡ˆ" class="headerlink" title="4.è§£å†³æ–¹æ¡ˆ"></a>4.è§£å†³æ–¹æ¡ˆ</h3><p>ç†è®ºä¸Šç”¨æœ‰é™çš„ç©ºé—´æ¥å­˜å‚¨æ— é™çš„å°æ•°æ˜¯ä¸å¯èƒ½ä¿è¯ç²¾ç¡®çš„ï¼Œä½†æˆ‘ä»¬å¯ä»¥å¤„ç†ä¸€ä¸‹å¾—åˆ°æˆ‘ä»¬æœŸæœ›çš„ç»“æœ</p>
<p>å½“ä½ æ‹¿åˆ° 1.4000000000000001 è¿™æ ·çš„æ•°æ®è¦å±•ç¤ºæ—¶ï¼Œå»ºè®®ä½¿ç”¨ toPrecision å‡‘æ•´å¹¶ parseFloat è½¬æˆæ•°å­—åå†æ˜¾ç¤ºï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseFloat</span>((<span class="number">1.4000000000000001</span>).<span class="title function_">toPrecision</span>(<span class="number">12</span>)) === <span class="number">1.4</span> <span class="comment">// True</span></span><br></pre></td></tr></table></figure>
<p>å°è£…æˆæ–¹æ³•å°±æ˜¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">strip</span>(<span class="params">num, precision = <span class="number">12</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> +<span class="built_in">parseFloat</span>(num.<span class="title function_">toPrecision</span>(precision))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹äºè¿ç®—ç±»æ“ä½œï¼Œå¦‚ +-*/ï¼Œå°±ä¸èƒ½ä½¿ç”¨ toPrecision äº†ã€‚æ­£ç¡®çš„åšæ³•æ˜¯æŠŠå°æ•°è½¬æˆæ•´æ•°åå†è¿ç®—ã€‚ä»¥åŠ æ³•ä¸ºä¾‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç²¾ç¡®åŠ æ³•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">num1, num2</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> num1Digits = (num1.<span class="title function_">toString</span>().<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>)[<span class="number">1</span>] || <span class="string">&#x27;&#x27;</span>).<span class="property">length</span></span><br><span class="line">  <span class="keyword">const</span> num2Digits = (num2.<span class="title function_">toString</span>().<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>)[<span class="number">1</span>] || <span class="string">&#x27;&#x27;</span>).<span class="property">length</span></span><br><span class="line">  <span class="keyword">const</span> baseNum = <span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="number">10</span>, <span class="title class_">Math</span>.<span class="title function_">max</span>(num1Digits, num2Digits))</span><br><span class="line">  <span class="keyword">return</span> (num1 * baseNum + num2 * baseNum) / baseNum</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœ€åè¿˜å¯ä»¥ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Œå¦‚<code>Math.js</code>ã€<code>BigDecimal.js</code></p>
<h2 id="ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµ"><a href="#ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµ" class="headerlink" title="ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµ"></a>ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµ</h2><h3 id="1-æ˜¯ä»€ä¹ˆ-8"><a href="#1-æ˜¯ä»€ä¹ˆ-8" class="headerlink" title="1.æ˜¯ä»€ä¹ˆ"></a>1.æ˜¯ä»€ä¹ˆ</h3><p>æœ¬è´¨ä¸Šæ˜¯ä¼˜åŒ–é«˜é¢‘ç‡æ‰§è¡Œä»£ç çš„ä¸€ç§æ‰‹æ®µ</p>
<p>å¦‚ï¼šæµè§ˆå™¨çš„<code>resize</code>ã€<code>scroll</code>ã€<code>keypress</code>ã€<code>mousemove</code> ç­‰äº‹ä»¶åœ¨è§¦å‘æ—¶ï¼Œä¼šä¸æ–­åœ°è°ƒç”¨ç»‘å®šåœ¨äº‹ä»¶ä¸Šçš„å›è°ƒå‡½æ•°ï¼Œæå¤§åœ°æµªè´¹èµ„æºï¼Œé™ä½å‰ç«¯æ€§èƒ½</p>
<p>ä¸ºäº†ä¼˜åŒ–ä½“éªŒï¼Œéœ€è¦å¯¹è¿™ç±»äº‹ä»¶è¿›è¡Œè°ƒç”¨æ¬¡æ•°çš„é™åˆ¶ï¼Œå¯¹æ­¤æˆ‘ä»¬å°±å¯ä»¥é‡‡ç”¨ <strong>é˜²æŠ–ï¼ˆdebounceï¼‰</strong> å’Œ <strong>èŠ‚æµï¼ˆthrottleï¼‰</strong> çš„æ–¹å¼æ¥å‡å°‘è°ƒç”¨é¢‘ç‡</p>
<p><strong>å®šä¹‰</strong></p>
<li>èŠ‚æµ: n ç§’å†…åªè¿è¡Œä¸€æ¬¡ï¼Œè‹¥åœ¨ n ç§’å†…é‡å¤è§¦å‘ï¼Œåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆ</li>
<li>é˜²æŠ–: n ç§’ååœ¨æ‰§è¡Œè¯¥äº‹ä»¶ï¼Œè‹¥åœ¨ n ç§’å†…è¢«é‡å¤è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶</li>

<p>ä¸€ä¸ªç»å…¸çš„æ¯”å–»:</p>
<p>æƒ³è±¡æ¯å¤©ä¸Šç­å¤§å¦åº•ä¸‹çš„ç”µæ¢¯ã€‚æŠŠç”µæ¢¯å®Œæˆä¸€æ¬¡è¿é€ï¼Œç±»æ¯”ä¸ºä¸€æ¬¡å‡½æ•°çš„æ‰§è¡Œå’Œå“åº”</p>
<p>å‡è®¾ç”µæ¢¯æœ‰ä¸¤ç§è¿è¡Œç­–ç•¥ debounce å’Œ throttleï¼Œè¶…æ—¶è®¾å®šä¸º 15 ç§’ï¼Œä¸è€ƒè™‘å®¹é‡é™åˆ¶</p>
<p>ç”µæ¢¯ç¬¬ä¸€ä¸ªäººè¿›æ¥åï¼Œ15 ç§’åå‡†æ—¶è¿é€ä¸€æ¬¡ï¼Œè¿™æ˜¯èŠ‚æµ</p>
<p>ç”µæ¢¯ç¬¬ä¸€ä¸ªäººè¿›æ¥åï¼Œç­‰å¾… 15 ç§’ã€‚å¦‚æœè¿‡ç¨‹ä¸­åˆæœ‰äººè¿›æ¥ï¼Œ15 ç§’ç­‰å¾…é‡æ–°è®¡æ—¶ï¼Œç›´åˆ° 15 ç§’åå¼€å§‹è¿é€ï¼Œè¿™æ˜¯é˜²æŠ–</p>
<h3 id="2-ä»£ç å®ç°"><a href="#2-ä»£ç å®ç°" class="headerlink" title="2.ä»£ç å®ç°"></a>2.ä»£ç å®ç°</h3><p><strong>èŠ‚æµ</strong></p>
<p>å®ŒæˆèŠ‚æµå¯ä»¥ä½¿ç”¨æ—¶é—´æˆ³ä¸å®šæ—¶å™¨çš„å†™æ³•</p>
<p>ä½¿ç”¨æ—¶é—´æˆ³å†™æ³•ï¼Œäº‹ä»¶ä¼šç«‹å³æ‰§è¡Œï¼Œåœæ­¢è§¦å‘åæ²¡æœ‰åŠæ³•å†æ¬¡æ‰§è¡Œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttled1</span>(<span class="params">fn, delay = <span class="number">500</span></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> oldtime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">...args</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> newtime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    <span class="keyword">if</span> (newtime - oldtime &gt;= delay) &#123;</span><br><span class="line">      fn.<span class="title function_">apply</span>(<span class="literal">null</span>, args)</span><br><span class="line">      oldtime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨å®šæ—¶å™¨å†™æ³•ï¼Œ<code>delay</code>æ¯«ç§’åç¬¬ä¸€æ¬¡æ‰§è¡Œï¼Œç¬¬äºŒæ¬¡äº‹ä»¶åœæ­¢è§¦å‘åä¾ç„¶ä¼šå†ä¸€æ¬¡æ‰§è¡Œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttled2</span>(<span class="params">fn, delay = <span class="number">500</span></span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">...args</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!timer) &#123;</span><br><span class="line">      timer = <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        fn.<span class="title function_">apply</span>(<span class="variable language_">this</span>, args)</span><br><span class="line">        timer = <span class="literal">null</span></span><br><span class="line">      &#125;, delay)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥å°†æ—¶é—´æˆ³å†™æ³•çš„ç‰¹æ€§ä¸å®šæ—¶å™¨å†™æ³•çš„ç‰¹æ€§ç›¸ç»“åˆï¼Œå®ç°ä¸€ä¸ªæ›´åŠ ç²¾ç¡®çš„èŠ‚æµã€‚å®ç°å¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">throttled</span>(<span class="params">fn, delay</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span></span><br><span class="line">  <span class="keyword">let</span> starttime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> curTime = <span class="title class_">Date</span>.<span class="title function_">now</span>() <span class="comment">// å½“å‰æ—¶é—´</span></span><br><span class="line">    <span class="keyword">let</span> remaining = delay - (curTime - starttime) <span class="comment">// ä»ä¸Šä¸€æ¬¡åˆ°ç°åœ¨ï¼Œè¿˜å‰©ä¸‹å¤šå°‘å¤šä½™æ—¶é—´</span></span><br><span class="line">    <span class="keyword">let</span> context = <span class="variable language_">this</span></span><br><span class="line">    <span class="keyword">let</span> args = <span class="variable language_">arguments</span></span><br><span class="line">    <span class="built_in">clearTimeout</span>(timer)</span><br><span class="line">    <span class="keyword">if</span> (remaining &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">      fn.<span class="title function_">apply</span>(context, args)</span><br><span class="line">      starttime = <span class="title class_">Date</span>.<span class="title function_">now</span>()</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      timer = <span class="built_in">setTimeout</span>(fn, remaining)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>é˜²æŠ–</strong></p>
<p>ç®€å•ç‰ˆæœ¬çš„å®ç°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">func, wait</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> timeout</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> context = <span class="variable language_">this</span> <span class="comment">// ä¿å­˜thisæŒ‡å‘</span></span><br><span class="line">    <span class="keyword">let</span> args = <span class="variable language_">arguments</span> <span class="comment">// æ‹¿åˆ°eventå¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">clearTimeout</span>(timeout)</span><br><span class="line">    timeout = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">      func.<span class="title function_">apply</span>(context, args)</span><br><span class="line">    &#125;, wait)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é˜²æŠ–å¦‚æœéœ€è¦ç«‹å³æ‰§è¡Œï¼Œå¯åŠ å…¥ç¬¬ä¸‰ä¸ªå‚æ•°ç”¨äºåˆ¤æ–­ï¼Œå®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">func, wait, immediate</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> timeout</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> context = <span class="variable language_">this</span></span><br><span class="line">    <span class="keyword">let</span> args = <span class="variable language_">arguments</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (timeout) <span class="built_in">clearTimeout</span>(timeout) <span class="comment">// timeout ä¸ä¸ºnull</span></span><br><span class="line">    <span class="keyword">if</span> (immediate) &#123;</span><br><span class="line">      <span class="keyword">let</span> callNow = !timeout <span class="comment">// ç¬¬ä¸€æ¬¡ä¼šç«‹å³æ‰§è¡Œï¼Œä»¥ååªæœ‰äº‹ä»¶æ‰§è¡Œåæ‰ä¼šå†æ¬¡è§¦å‘</span></span><br><span class="line">      timeout = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        timeout = <span class="literal">null</span></span><br><span class="line">      &#125;, wait)</span><br><span class="line">      <span class="keyword">if</span> (callNow) &#123;</span><br><span class="line">        func.<span class="title function_">apply</span>(context, args)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      timeout = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        func.<span class="title function_">apply</span>(context, args)</span><br><span class="line">      &#125;, wait)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-åŒºåˆ«-1"><a href="#3-åŒºåˆ«-1" class="headerlink" title="3.åŒºåˆ«"></a>3.åŒºåˆ«</h3><p>ç›¸åŒç‚¹:</p>
<li>éƒ½å¯ä»¥é€šè¿‡ä½¿ç”¨ setTimeout å®ç°</li>
<li>ç›®çš„éƒ½æ˜¯ï¼Œé™ä½å›è°ƒæ‰§è¡Œé¢‘ç‡ã€‚èŠ‚çœè®¡ç®—èµ„æº</li>

<p>ä¸åŒç‚¹:</p>
<li>å‡½æ•°é˜²æŠ–ï¼Œåœ¨ä¸€æ®µè¿ç»­æ“ä½œç»“æŸåï¼Œå¤„ç†å›è°ƒï¼Œåˆ©ç”¨clearTimeoutå’Œ setTimeoutå®ç°ã€‚å‡½æ•°èŠ‚æµï¼Œåœ¨ä¸€æ®µè¿ç»­æ“ä½œä¸­ï¼Œæ¯ä¸€æ®µæ—¶é—´åªæ‰§è¡Œä¸€æ¬¡ï¼Œé¢‘ç‡è¾ƒé«˜çš„äº‹ä»¶ä¸­ä½¿ç”¨æ¥æé«˜æ€§èƒ½</li>
<li>å‡½æ•°é˜²æŠ–å…³æ³¨ä¸€å®šæ—¶é—´è¿ç»­è§¦å‘çš„äº‹ä»¶ï¼Œåªåœ¨æœ€åæ‰§è¡Œä¸€æ¬¡ï¼Œè€Œå‡½æ•°èŠ‚æµä¸€æ®µæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡</li>

<p>ä¾‹å¦‚ï¼Œéƒ½è®¾ç½®æ—¶é—´é¢‘ç‡ä¸º 500msï¼Œåœ¨ 2 ç§’æ—¶é—´å†…ï¼Œé¢‘ç¹è§¦å‘å‡½æ•°ï¼ŒèŠ‚æµï¼Œæ¯éš” 500ms å°±æ‰§è¡Œä¸€æ¬¡ã€‚é˜²æŠ–ï¼Œåˆ™ä¸ç®¡è°ƒåŠ¨å¤šå°‘æ¬¡æ–¹æ³•ï¼Œåœ¨ 2s åï¼Œåªä¼šæ‰§è¡Œä¸€æ¬¡</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤º<br><div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/é˜²æŠ–èŠ‚æµåŒºåˆ«1.png"/></div></div></p>
<h3 id="4-åº”ç”¨åœºæ™¯"><a href="#4-åº”ç”¨åœºæ™¯" class="headerlink" title="4.åº”ç”¨åœºæ™¯"></a>4.åº”ç”¨åœºæ™¯</h3><p>é˜²æŠ–åœ¨è¿ç»­çš„äº‹ä»¶ï¼Œåªéœ€è§¦å‘ä¸€æ¬¡å›è°ƒçš„åœºæ™¯æœ‰ï¼š</p>
<li>æœç´¢æ¡†æœç´¢è¾“å…¥ã€‚åªéœ€ç”¨æˆ·æœ€åä¸€æ¬¡è¾“å…¥å®Œï¼Œå†å‘é€è¯·æ±‚</li>
<li>æ‰‹æœºå·ã€é‚®ç®±éªŒè¯è¾“å…¥æ£€æµ‹</li>
<li>çª—å£å¤§å°resizeã€‚åªéœ€çª—å£è°ƒæ•´å®Œæˆåï¼Œè®¡ç®—çª—å£å¤§å°ã€‚é˜²æ­¢é‡å¤æ¸²æŸ“ã€‚</li>

<p>èŠ‚æµåœ¨é—´éš”ä¸€æ®µæ—¶é—´æ‰§è¡Œä¸€æ¬¡å›è°ƒçš„åœºæ™¯æœ‰ï¼š</p>
<li>æ»šåŠ¨åŠ è½½ï¼ŒåŠ è½½æ›´å¤šæˆ–æ»šåˆ°åº•éƒ¨ç›‘å¬</li>
<li>æœç´¢æ¡†ï¼Œæœç´¢è”æƒ³åŠŸèƒ½</li>

<h2 id="å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨å¯è§†åŒºåŸŸå†…"><a href="#å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨å¯è§†åŒºåŸŸå†…" class="headerlink" title="å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨å¯è§†åŒºåŸŸå†…"></a>å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨å¯è§†åŒºåŸŸå†…</h2><h3 id="1-ç”¨é€”"><a href="#1-ç”¨é€”" class="headerlink" title="1.ç”¨é€”"></a>1.ç”¨é€”</h3><p>å¯è§†åŒºåŸŸå³æˆ‘ä»¬æµè§ˆç½‘é¡µçš„è®¾å¤‡è‚‰çœ¼å¯è§çš„åŒºåŸŸï¼Œå¦‚ä¸‹å›¾<br><div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/å¯è§†åŒº1.png"/></div></div></p>
<p>åœ¨æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åˆ¤æ–­ç›®æ ‡å…ƒç´ æ˜¯å¦åœ¨è§†çª—ä¹‹å†…æˆ–è€…å’Œè§†çª—çš„è·ç¦»å°äºä¸€ä¸ªå€¼ï¼ˆä¾‹å¦‚ 100 pxï¼‰ï¼Œä»è€Œå®ç°ä¸€äº›å¸¸ç”¨çš„åŠŸèƒ½ï¼Œä¾‹å¦‚</p>
<li>å›¾ç‰‡çš„æ‡’åŠ è½½</li>
<li>åˆ—è¡¨çš„æ— é™æ»šåŠ¨</li>
<li>è®¡ç®—å¹¿å‘Šå…ƒç´ çš„æ›å…‰æƒ…å†µ</li>
<li>å¯ç‚¹å‡»é“¾æ¥çš„é¢„åŠ è½½</li>

<h3 id="2-å®ç°æ–¹å¼-1"><a href="#2-å®ç°æ–¹å¼-1" class="headerlink" title="2.å®ç°æ–¹å¼"></a>2.å®ç°æ–¹å¼</h3><p>åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨å¯è§†åŒºåŸŸï¼Œæˆ‘ä»¬å¸¸ç”¨çš„æœ‰ä¸‰ç§åŠæ³•ï¼š</p>
<li>offsetTopã€scrollTop</li>
<li>getBoundingClientRect</li>
<li>Intersection Observer</li>

<p><strong>offsetTopã€scrollTop</strong></p>
<p><code>offsetTop</code>ï¼Œå…ƒç´ çš„ä¸Šå¤–è¾¹æ¡†è‡³åŒ…å«å…ƒç´ çš„ä¸Šå†…è¾¹æ¡†ä¹‹é—´çš„åƒç´ è·ç¦»ï¼Œå…¶ä»– offset å±æ€§å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<br><div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/offsetåç§»é‡1.png"/></div></div></p>
<p>ä¸‹é¢å†æ¥äº†è§£ä¸‹<code>clientWidth</code>ã€<code>clientHeight</code>ï¼š</p>
<li>clientWidthï¼šå…ƒç´ å†…å®¹åŒºå®½åº¦åŠ ä¸Šå·¦å³å†…è¾¹è·å®½åº¦ï¼Œå³clientWidth = content + padding</li>
<li>clientHeightï¼šå…ƒç´ å†…å®¹åŒºé«˜åº¦åŠ ä¸Šä¸Šä¸‹å†…è¾¹è·é«˜åº¦ï¼Œå³clientHeight = content + padding</li>

<p>è¿™é‡Œå¯ä»¥çœ‹åˆ° client å…ƒç´ éƒ½ä¸åŒ…æ‹¬å¤–è¾¹è·</p>
<p>æœ€åï¼Œå…³äº scroll ç³»åˆ—çš„å±æ€§å¦‚ä¸‹ï¼š</p>
<li>scrollWidth å’Œ scrollHeight ä¸»è¦ç”¨äºç¡®å®šå…ƒç´ å†…å®¹çš„å®é™…å¤§å°</li>
<li>scrollLeft å’Œ scrollTop å±æ€§æ—¢å¯ä»¥ç¡®å®šå…ƒç´ å½“å‰æ»šåŠ¨çš„çŠ¶æ€ï¼Œä¹Ÿå¯ä»¥è®¾ç½®å…ƒç´ çš„æ»šåŠ¨ä½ç½®</li>
<li>å‚ç›´æ»šåŠ¨ scrollTop > 0 ,æ°´å¹³æ»šåŠ¨ scrollLeft > 0</li>
<li>å°†å…ƒç´ çš„ scrollLeft å’Œ scrollTop è®¾ç½®ä¸º 0ï¼Œå¯ä»¥é‡ç½®å…ƒç´ çš„æ»šåŠ¨ä½ç½®</li>

<p><strong>æ³¨æ„</strong></p>
<li>ä¸Šè¿°å±æ€§éƒ½æ˜¯åªè¯»çš„ï¼Œæ¯æ¬¡è®¿é—®éƒ½è¦é‡æ–°å¼€å§‹</li>

<p>ä¸‹é¢å†çœ‹çœ‹å¦‚ä½•å®ç°åˆ¤æ–­:</p>
<p>å…¬å¼å¦‚ä¸‹:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">el.<span class="property">offsetTop</span> - <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span> &lt;= viewPortHeight</span><br></pre></td></tr></table></figure>
<p>ä»£ç å®ç°:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isInViewPortOfOne</span>(<span class="params">el</span>) &#123;</span><br><span class="line">  <span class="comment">// viewPortHeight å…¼å®¹æ‰€æœ‰æµè§ˆå™¨å†™æ³•</span></span><br><span class="line">  <span class="keyword">const</span> viewPortHeight =</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">innerHeight</span> ||</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span> ||</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">clientHeight</span></span><br><span class="line">  <span class="keyword">const</span> offsetTop = el.<span class="property">offsetTop</span></span><br><span class="line">  <span class="keyword">const</span> scrollTop = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span></span><br><span class="line">  <span class="keyword">const</span> top = offsetTop - scrollTop</span><br><span class="line">  <span class="keyword">return</span> top &lt;= viewPortHeight</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>getBoundingClientRect</strong></p>
<p>è¿”å›å€¼æ˜¯ä¸€ä¸ª DOMRect å¯¹è±¡ï¼Œæ‹¥æœ‰ left, top, right, bottom, x, y, width, å’Œ height å±æ€§</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> target = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.target&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> clientRect = target.<span class="title function_">getBoundingClientRect</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(clientRect)</span><br><span class="line"></span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//   bottom: 556.21875,</span></span><br><span class="line"><span class="comment">//   height: 393.59375,</span></span><br><span class="line"><span class="comment">//   left: 333,</span></span><br><span class="line"><span class="comment">//   right: 1017,</span></span><br><span class="line"><span class="comment">//   top: 162.625,</span></span><br><span class="line"><span class="comment">//   width: 684</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>
<p>å±æ€§å¯¹åº”çš„å…³ç³»å›¾å¦‚ä¸‹æ‰€ç¤º ï¼š<br><div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/getBoundingClientRect.png"/></div></div></p>
<p>å½“é¡µé¢å‘ç”Ÿæ»šåŠ¨çš„æ—¶å€™ï¼Œ<code>top</code>ä¸<code>left</code>å±æ€§å€¼éƒ½ä¼šéšä¹‹æ”¹å˜</p>
<p>å¦‚æœä¸€ä¸ªå…ƒç´ åœ¨è§†çª—ä¹‹å†…çš„è¯ï¼Œé‚£ä¹ˆå®ƒä¸€å®šæ»¡è¶³ä¸‹é¢å››ä¸ªæ¡ä»¶ï¼š</p>
<li>top å¤§äºç­‰äº 0</li>
<li>left å¤§äºç­‰äº 0</li>
<li>bottom å°äºç­‰äºè§†çª—é«˜åº¦</li>
<li>right å°äºç­‰äºè§†çª—å®½åº¦</li>

<p>å®ç°ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isInViewPort</span>(<span class="params">element</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> viewWidth = <span class="variable language_">window</span>.<span class="property">innerWidth</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientWidth</span></span><br><span class="line">  <span class="keyword">const</span> viewHeight = <span class="variable language_">window</span>.<span class="property">innerHeight</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span></span><br><span class="line">  <span class="keyword">const</span> &#123; top, right, bottom, left &#125; = element.<span class="title function_">getBoundingClientRect</span>()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> top &gt;= <span class="number">0</span> &amp;&amp; left &gt;= <span class="number">0</span> &amp;&amp; right &lt;= viewWidth &amp;&amp; bottom &lt;= viewHeight</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>Intersection Observer</strong></p>
<p><code>Intersection Observer</code> å³é‡å è§‚å¯Ÿè€…ï¼Œä»è¿™ä¸ªå‘½åå°±å¯ä»¥çœ‹å‡ºå®ƒç”¨äºåˆ¤æ–­ä¸¤ä¸ªå…ƒç´ æ˜¯å¦é‡å ï¼Œå› ä¸ºä¸ç”¨è¿›è¡Œäº‹ä»¶çš„ç›‘å¬ï¼Œæ€§èƒ½æ–¹é¢ç›¸æ¯” getBoundingClientRect ä¼šå¥½å¾ˆå¤š</p>
<p>ä½¿ç”¨æ­¥éª¤ä¸»è¦åˆ†ä¸ºä¸¤æ­¥ï¼šåˆ›å»ºè§‚å¯Ÿè€…å’Œä¼ å…¥è¢«è§‚å¯Ÿè€…</p>
<p><strong>åˆ›å»ºè§‚å¯Ÿè€…</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> options = &#123;</span><br><span class="line">  <span class="comment">// è¡¨ç¤ºé‡å é¢ç§¯å è¢«è§‚å¯Ÿè€…çš„æ¯”ä¾‹ï¼Œä» 0 - 1 å–å€¼ï¼Œ</span></span><br><span class="line">  <span class="comment">// 1 è¡¨ç¤ºå®Œå…¨è¢«åŒ…å«</span></span><br><span class="line">  <span class="attr">threshold</span>: <span class="number">1.0</span>,</span><br><span class="line">  <span class="attr">root</span>:<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#scrollArea&#x27;</span>) <span class="comment">// å¿…é¡»æ˜¯ç›®æ ‡å…ƒç´ çš„çˆ¶çº§å…ƒç´ </span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">callback</span> = (<span class="params">entries, observer</span>) =&gt; &#123; ....&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> observer = <span class="keyword">new</span> <span class="title class_">IntersectionObserver</span>(callback, options);</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡<code>new IntersectionObserver</code>åˆ›å»ºäº†è§‚å¯Ÿè€… <code>observer</code>ï¼Œä¼ å…¥çš„å‚æ•° <code>callback</code> åœ¨é‡å æ¯”ä¾‹è¶…è¿‡ <code>threshold</code> æ—¶ä¼šè¢«æ‰§è¡Œ`</p>
<p>å…³äº<code>callback</code>å›è°ƒå‡½æ•°å¸¸ç”¨å±æ€§å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸Šæ®µä»£ç ä¸­è¢«çœç•¥çš„ callback</span></span><br><span class="line"><span class="keyword">const</span> callback = <span class="keyword">function</span> (<span class="params">entries, observer</span>) &#123;</span><br><span class="line">  entries.<span class="title function_">forEach</span>(<span class="function">(<span class="params">entry</span>) =&gt;</span> &#123;</span><br><span class="line">    entry.<span class="property">time</span> <span class="comment">// è§¦å‘çš„æ—¶é—´</span></span><br><span class="line">    entry.<span class="property">rootBounds</span> <span class="comment">// æ ¹å…ƒç´ çš„ä½ç½®çŸ©å½¢ï¼Œè¿™ç§æƒ…å†µä¸‹ä¸ºè§†çª—ä½ç½®</span></span><br><span class="line">    entry.<span class="property">boundingClientRect</span> <span class="comment">// è¢«è§‚å¯Ÿè€…çš„ä½ç½®ä¸¾è¡Œ</span></span><br><span class="line">    entry.<span class="property">intersectionRect</span> <span class="comment">// é‡å åŒºåŸŸçš„ä½ç½®çŸ©å½¢</span></span><br><span class="line">    entry.<span class="property">intersectionRatio</span> <span class="comment">// é‡å åŒºåŸŸå è¢«è§‚å¯Ÿè€…é¢ç§¯çš„æ¯”ä¾‹ï¼ˆè¢«è§‚å¯Ÿè€…ä¸æ˜¯çŸ©å½¢æ—¶ä¹ŸæŒ‰ç…§çŸ©å½¢è®¡ç®—ï¼‰</span></span><br><span class="line">    entry.<span class="property">target</span> <span class="comment">// è¢«è§‚å¯Ÿè€…</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ä¼ å…¥è¢«è§‚å¯Ÿè€…</strong></p>
<p>é€šè¿‡ <code>observer.observe(target)</code> è¿™ä¸€è¡Œä»£ç å³å¯ç®€å•çš„æ³¨å†Œè¢«è§‚å¯Ÿè€…</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> target = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.target&#x27;</span>)</span><br><span class="line">observer.<span class="title function_">observe</span>(target)</span><br></pre></td></tr></table></figure>
<h3 id="3-æ¡ˆä¾‹åˆ†æ"><a href="#3-æ¡ˆä¾‹åˆ†æ" class="headerlink" title="3.æ¡ˆä¾‹åˆ†æ"></a>3.æ¡ˆä¾‹åˆ†æ</h3><p>å®ç°ï¼šåˆ›å»ºäº†ä¸€ä¸ªåä¸‡ä¸ªèŠ‚ç‚¹çš„é•¿åˆ—è¡¨ï¼Œå½“èŠ‚ç‚¹æ»šå…¥åˆ°è§†çª—ä¸­æ—¶ï¼ŒèƒŒæ™¯å°±ä¼šä»çº¢è‰²å˜ä¸ºé»„è‰²</p>
<p><code>Html</code>ç»“æ„å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>css</code>æ ·å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.target</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">5px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¾€<code>container</code>æ’å…¥ 1000 ä¸ªå…ƒç´ </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> $container = $(<span class="string">&#x27;.container&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ’å…¥ 100000 ä¸ª &lt;div class=&quot;target&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">createTargets</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> htmlString = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">100000</span>)</span><br><span class="line">    .<span class="title function_">fill</span>(<span class="string">&#x27;&lt;div class=&quot;target&quot;&gt;&lt;/div&gt;&#x27;</span>)</span><br><span class="line">    .<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">  $container.<span class="title function_">html</span>(htmlString)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œï¼Œé¦–å…ˆä½¿ç”¨<code>getBoundingClientRect</code>æ–¹æ³•è¿›è¡Œåˆ¤æ–­å…ƒç´ æ˜¯å¦åœ¨å¯è§†åŒºåŸŸ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isInViewPort</span>(<span class="params">element</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> viewWidth = <span class="variable language_">window</span>.<span class="property">innerWidth</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientWidth</span></span><br><span class="line">  <span class="keyword">const</span> viewHeight = <span class="variable language_">window</span>.<span class="property">innerHeight</span> || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span></span><br><span class="line">  <span class="keyword">const</span> &#123; top, right, bottom, left &#125; = element.<span class="title function_">getBoundingClientRect</span>()</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> top &gt;= <span class="number">0</span> &amp;&amp; left &gt;= <span class="number">0</span> &amp;&amp; right &lt;= viewWidth &amp;&amp; bottom &lt;= viewHeight</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åå¼€å§‹ç›‘å¬<code>scroll</code>äº‹ä»¶ï¼Œåˆ¤æ–­é¡µé¢ä¸Šå“ªäº›å…ƒç´ åœ¨å¯è§†åŒºåŸŸä¸­ï¼Œå¦‚æœåœ¨å¯è§†åŒºåŸŸä¸­åˆ™å°†èƒŒæ™¯é¢œè‰²è®¾ç½®ä¸º<code>yellow</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="variable language_">window</span>).<span class="title function_">on</span>(<span class="string">&#x27;scroll&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;scroll !&#x27;</span>)</span><br><span class="line">  $targets.<span class="title function_">each</span>(<span class="function">(<span class="params">index, element</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="title function_">isInViewPort</span>(element)) &#123;</span><br><span class="line">      $(element).<span class="title function_">css</span>(<span class="string">&#x27;background-color&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ä¸Šè¿°æ–¹å¼ï¼Œå¯ä»¥çœ‹åˆ°å¯è§†åŒºåŸŸé¢œè‰²ä¼šå˜æˆé»„è‰²äº†ï¼Œä½†æ˜¯å¯ä»¥æ˜æ˜¾çœ‹åˆ°æœ‰å¡é¡¿çš„ç°è±¡ï¼ŒåŸå› åœ¨äºæˆ‘ä»¬ç»‘å®šäº†<code>scroll</code>äº‹ä»¶ï¼Œ<code>scroll</code>äº‹ä»¶ä¼´éšäº†å¤§é‡çš„è®¡ç®—ï¼Œä¼šé€ æˆèµ„æºæ–¹é¢çš„æµªè´¹</p>
<p>ä¸‹é¢é€šè¿‡<code>Intersection Observer</code>çš„å½¢å¼åŒæ ·å®ç°ç›¸åŒçš„åŠŸèƒ½</p>
<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªè§‚å¯Ÿè€…</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> observer = <span class="keyword">new</span> <span class="title class_">IntersectionObserver</span>(getYellow, &#123; <span class="attr">threshold</span>: <span class="number">1.0</span> &#125;)</span><br></pre></td></tr></table></figure>
<p><code>getYellow</code>å›è°ƒå‡½æ•°å®ç°å¯¹èƒŒæ™¯é¢œè‰²æ”¹å˜ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getYellow</span>(<span class="params">entries, observer</span>) &#123;</span><br><span class="line">  entries.<span class="title function_">forEach</span>(<span class="function">(<span class="params">entry</span>) =&gt;</span> &#123;</span><br><span class="line">    $(entry.<span class="property">target</span>).<span class="title function_">css</span>(<span class="string">&#x27;background-color&#x27;</span>, <span class="string">&#x27;yellow&#x27;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æœ€åä¼ å…¥è§‚å¯Ÿè€…ï¼Œå³<code>.target</code>å…ƒç´ </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$targets.<span class="title function_">each</span>(<span class="function">(<span class="params">index, element</span>) =&gt;</span> &#123;</span><br><span class="line">  observer.<span class="title function_">observe</span>(element)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="string">``</span></span><br><span class="line">å¯ä»¥çœ‹åˆ°åŠŸèƒ½åŒæ ·å®Œæˆï¼Œå¹¶ä¸”é¡µé¢ä¸ä¼šå‡ºç°å¡é¡¿çš„æƒ…å†µ</span><br></pre></td></tr></table></figure>
<h2 id="å¤§æ–‡ä»¶å¦‚ä½•åšæ–­ç‚¹ç»­ä¼ "><a href="#å¤§æ–‡ä»¶å¦‚ä½•åšæ–­ç‚¹ç»­ä¼ " class="headerlink" title="å¤§æ–‡ä»¶å¦‚ä½•åšæ–­ç‚¹ç»­ä¼ "></a>å¤§æ–‡ä»¶å¦‚ä½•åšæ–­ç‚¹ç»­ä¼ </h2><h3 id="1-æ˜¯ä»€ä¹ˆ-9"><a href="#1-æ˜¯ä»€ä¹ˆ-9" class="headerlink" title="1.æ˜¯ä»€ä¹ˆ"></a>1.æ˜¯ä»€ä¹ˆ</h3><p>ä¸ç®¡æ€æ ·ç®€å•çš„éœ€æ±‚ï¼Œåœ¨é‡çº§è¾¾åˆ°ä¸€å®šå±‚æ¬¡æ—¶ï¼Œéƒ½ä¼šå˜å¾—å¼‚å¸¸å¤æ‚</p>
<p>æ–‡ä»¶ä¸Šä¼ ç®€å•ï¼Œæ–‡ä»¶å˜å¤§å°±å¤æ‚</p>
<p>ä¸Šä¼ å¤§æ–‡ä»¶æ—¶ï¼Œä»¥ä¸‹å‡ ä¸ªå˜é‡ä¼šå½±å“æˆ‘ä»¬çš„ç”¨æˆ·ä½“éªŒ</p>
<li>æœåŠ¡å™¨å¤„ç†æ•°æ®çš„èƒ½åŠ›</li>
<li>è¯·æ±‚è¶…æ—¶</li>
<li>ç½‘ç»œæ³¢åŠ¨</li>

<p>ä¸Šä¼ æ—¶é—´ä¼šå˜é•¿ï¼Œé«˜é¢‘æ¬¡æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼Œå¤±è´¥ååˆéœ€è¦é‡æ–°ä¸Šä¼ ç­‰ç­‰</p>
<p>ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å¤§æ–‡ä»¶ä¸Šä¼ å•ç‹¬å¤„ç†</p>
<p>è¿™é‡Œæ¶‰åŠåˆ°åˆ†ç‰‡ä¸Šä¼ åŠæ–­ç‚¹ç»­ä¼ ä¸¤ä¸ªæ¦‚å¿µ</p>
<p><strong>åˆ†ç‰‡ä¸Šä¼ </strong><br>åˆ†ç‰‡ä¸Šä¼ ï¼Œå°±æ˜¯å°†æ‰€è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼ŒæŒ‰ç…§ä¸€å®šçš„å¤§å°ï¼Œå°†æ•´ä¸ªæ–‡ä»¶åˆ†éš”æˆå¤šä¸ªæ•°æ®å—ï¼ˆPartï¼‰æ¥è¿›è¡Œåˆ†ç‰‡ä¸Šä¼ <br>å¦‚ä¸‹å›¾<br><div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/åˆ†ç‰‡ä¸Šä¼ .png"/></div></div></p>
<p>ä¸Šä¼ å®Œä¹‹åå†ç”±æœåŠ¡ç«¯å¯¹æ‰€æœ‰ä¸Šä¼ çš„æ–‡ä»¶è¿›è¡Œæ±‡æ€»æ•´åˆæˆåŸå§‹çš„æ–‡ä»¶</p>
<p>å¤§è‡´æµç¨‹å¦‚ä¸‹ï¼š</p>
<ol>
<li>å°†éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶æŒ‰ç…§ä¸€å®šçš„åˆ†å‰²è§„åˆ™ï¼Œåˆ†å‰²æˆç›¸åŒå¤§å°çš„æ•°æ®å—ï¼›</li>
<li>åˆå§‹åŒ–ä¸€ä¸ªåˆ†ç‰‡ä¸Šä¼ ä»»åŠ¡ï¼Œè¿”å›æœ¬æ¬¡åˆ†ç‰‡ä¸Šä¼ å”¯ä¸€æ ‡è¯†ï¼›</li>
<li>æŒ‰ç…§ä¸€å®šçš„ç­–ç•¥ï¼ˆä¸²è¡Œæˆ–å¹¶è¡Œï¼‰å‘é€å„ä¸ªåˆ†ç‰‡æ•°æ®å—ï¼›</li>
<li>å‘é€å®Œæˆåï¼ŒæœåŠ¡ç«¯æ ¹æ®åˆ¤æ–­æ•°æ®ä¸Šä¼ æ˜¯å¦å®Œæ•´ï¼Œå¦‚æœå®Œæ•´ï¼Œåˆ™è¿›è¡Œæ•°æ®å—åˆæˆå¾—åˆ°åŸå§‹æ–‡ä»¶</li>
</ol>
<p><strong>æ–­ç‚¹ç»­ä¼ </strong></p>
<p>æ–­ç‚¹ç»­ä¼ æŒ‡çš„æ˜¯åœ¨ä¸‹è½½æˆ–ä¸Šä¼ æ—¶ï¼Œå°†ä¸‹è½½æˆ–ä¸Šä¼ ä»»åŠ¡äººä¸ºçš„åˆ’åˆ†ä¸ºå‡ ä¸ªéƒ¨åˆ†</p>
<p>æ¯ä¸€ä¸ªéƒ¨åˆ†é‡‡ç”¨ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œä¸Šä¼ æˆ–ä¸‹è½½ï¼Œå¦‚æœç¢°åˆ°ç½‘ç»œæ•…éšœï¼Œå¯ä»¥ä»å·²ç»ä¸Šä¼ æˆ–ä¸‹è½½çš„éƒ¨åˆ†å¼€å§‹ç»§ç»­ä¸Šä¼ ä¸‹è½½æœªå®Œæˆçš„éƒ¨åˆ†ï¼Œè€Œæ²¡æœ‰å¿…è¦ä»å¤´å¼€å§‹ä¸Šä¼ ä¸‹è½½ã€‚ç”¨æˆ·å¯ä»¥èŠ‚çœæ—¶é—´ï¼Œæé«˜é€Ÿåº¦</p>
<p>ä¸€èˆ¬å®ç°æ–¹å¼æœ‰ä¸¤ç§</p>
<li>æœåŠ¡å™¨ç«¯è¿”å›ï¼Œå‘ŠçŸ¥ä»å“ªå¼€å§‹</li>
<li>æµè§ˆå™¨ç«¯è‡ªè¡Œå¤„ç†</li>

<p>ä¸Šä¼ è¿‡ç¨‹ä¸­å°†æ–‡ä»¶åœ¨æœåŠ¡å™¨å†™ä¸ºä¸´æ—¶æ–‡ä»¶ï¼Œç­‰å…¨éƒ¨å†™å®Œäº†ï¼ˆæ–‡ä»¶ä¸Šä¼ å®Œï¼‰ï¼Œå°†æ­¤ä¸´æ—¶æ–‡ä»¶é‡å‘½åä¸ºæ­£å¼æ–‡ä»¶å³å¯</p>
<p>å¦‚æœä¸­é€”ä¸Šä¼ ä¸­æ–­è¿‡ï¼Œä¸‹æ¬¡ä¸Šä¼ çš„æ—¶å€™æ ¹æ®å½“å‰ä¸´æ—¶æ–‡ä»¶å¤§å°ï¼Œä½œä¸ºåœ¨å®¢æˆ·ç«¯è¯»å–æ–‡ä»¶çš„åç§»é‡ï¼Œä»æ­¤ä½ç½®ç»§ç»­è¯»å–æ–‡ä»¶æ•°æ®å—ï¼Œä¸Šä¼ åˆ°æœåŠ¡å™¨ä»æ­¤åç§»é‡ç»§ç»­å†™å…¥æ–‡ä»¶å³å¯</p>
<h3 id="3-ä½¿ç”¨åœºæ™¯"><a href="#3-ä½¿ç”¨åœºæ™¯" class="headerlink" title="3.ä½¿ç”¨åœºæ™¯"></a>3.ä½¿ç”¨åœºæ™¯</h3><li>å¤§æ–‡ä»¶åŠ é€Ÿä¸Šä¼ ï¼šå½“æ–‡ä»¶å¤§å°è¶…è¿‡é¢„æœŸå¤§å°æ—¶ï¼Œä½¿ç”¨åˆ†ç‰‡ä¸Šä¼ å¯å®ç°å¹¶è¡Œä¸Šä¼ å¤šä¸ª Partï¼Œ ä»¥åŠ å¿«ä¸Šä¼ é€Ÿåº¦</li>
<li>ç½‘ç»œç¯å¢ƒè¾ƒå·®ï¼šå»ºè®®ä½¿ç”¨åˆ†ç‰‡ä¸Šä¼ ã€‚å½“å‡ºç°ä¸Šä¼ å¤±è´¥çš„æ—¶å€™ï¼Œä»…éœ€é‡ä¼ å¤±è´¥çš„Part</li>
<li>æµå¼ä¸Šä¼ ï¼šå¯ä»¥åœ¨éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶å¤§å°è¿˜ä¸ç¡®å®šçš„æƒ…å†µä¸‹å¼€å§‹ä¸Šä¼ ã€‚è¿™ç§åœºæ™¯åœ¨è§†é¢‘ç›‘æ§ç­‰è¡Œä¸šåº”ç”¨ä¸­æ¯”è¾ƒå¸¸è§</li>

<h2 id="å¦‚ä½•å®ç°ä¸Šæ‹‰åŠ è½½ï¼Œä¸‹æ‹‰åˆ·æ–°"><a href="#å¦‚ä½•å®ç°ä¸Šæ‹‰åŠ è½½ï¼Œä¸‹æ‹‰åˆ·æ–°" class="headerlink" title="å¦‚ä½•å®ç°ä¸Šæ‹‰åŠ è½½ï¼Œä¸‹æ‹‰åˆ·æ–°"></a>å¦‚ä½•å®ç°ä¸Šæ‹‰åŠ è½½ï¼Œä¸‹æ‹‰åˆ·æ–°</h2><h3 id="1-å‰è¨€"><a href="#1-å‰è¨€" class="headerlink" title="1.å‰è¨€"></a>1.å‰è¨€</h3><p>ä¸‹æ‹‰åˆ·æ–°å’Œä¸Šæ‹‰åŠ è½½è¿™ä¸¤ç§äº¤äº’æ–¹å¼é€šå¸¸å‡ºç°åœ¨ç§»åŠ¨ç«¯ä¸­</p>
<p>æœ¬è´¨ä¸Šç­‰åŒäº PC ç½‘é¡µä¸­çš„åˆ†é¡µï¼Œåªæ˜¯äº¤äº’å½¢å¼ä¸åŒ</p>
<p>å¼€æºç¤¾åŒºä¹Ÿæœ‰å¾ˆå¤šä¼˜ç§€çš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚ iscrollã€better-scrollã€pulltorefresh.js åº“ç­‰ç­‰</p>
<p>è¿™äº›ç¬¬ä¸‰æ–¹åº“ä½¿ç”¨èµ·æ¥éå¸¸ä¾¿æ·</p>
<p>æˆ‘ä»¬é€šè¿‡åŸç”Ÿçš„æ–¹å¼å®ç°ä¸€æ¬¡ä¸Šæ‹‰åŠ è½½ï¼Œä¸‹æ‹‰åˆ·æ–°ï¼Œæœ‰åŠ©äºå¯¹ç¬¬ä¸‰æ–¹åº“æœ‰æ›´å¥½çš„ç†è§£ä¸ä½¿ç”¨</p>
<h3 id="2-å®ç°åŸç†"><a href="#2-å®ç°åŸç†" class="headerlink" title="2.å®ç°åŸç†"></a>2.å®ç°åŸç†</h3><p>ä¸Šæ‹‰åŠ è½½åŠä¸‹æ‹‰åˆ·æ–°éƒ½ä¾èµ–äºç”¨æˆ·äº¤äº’</p>
<p>æœ€é‡è¦çš„æ˜¯è¦ç†è§£åœ¨ä»€ä¹ˆåœºæ™¯ï¼Œä»€ä¹ˆæ—¶æœºä¸‹è§¦å‘äº¤äº’åŠ¨ä½œ</p>
<p><strong>ä¸Šæ‹‰åŠ è½½</strong><br>é¦–å…ˆå¯ä»¥çœ‹ä¸€å¼ å›¾<br><div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/ä¸Šæ‹‰åŠ è½½1.png"/></div></div></p>
<p>ä¸Šæ‹‰åŠ è½½çš„æœ¬è´¨æ˜¯é¡µé¢è§¦åº•ï¼Œæˆ–è€…å¿«è¦è§¦åº•æ—¶çš„åŠ¨ä½œ</p>
<p>åˆ¤æ–­é¡µé¢è§¦åº•æˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹ä¸‹é¢å‡ ä¸ªå±æ€§</p>
<li>scrollTopï¼šæ»šåŠ¨è§†çª—çš„é«˜åº¦è·ç¦»windowé¡¶éƒ¨çš„è·ç¦»ï¼Œå®ƒä¼šéšç€å¾€ä¸Šæ»šåŠ¨è€Œä¸æ–­å¢åŠ ï¼Œåˆå§‹å€¼æ˜¯0ï¼Œå®ƒæ˜¯ä¸€ä¸ªå˜åŒ–çš„å€¼</li>
<li>clientHeight:å®ƒæ˜¯ä¸€ä¸ªå®šå€¼ï¼Œè¡¨ç¤ºå±å¹•å¯è§†åŒºåŸŸçš„é«˜åº¦ï¼›</li>
<li>scrollHeightï¼šé¡µé¢ä¸èƒ½æ»šåŠ¨æ—¶ä¹Ÿæ˜¯å­˜åœ¨çš„,æ­¤æ—¶scrollHeightç­‰äºclientHeightã€‚scrollHeightè¡¨ç¤ºbodyæ‰€æœ‰å…ƒç´ çš„æ€»é•¿åº¦(åŒ…æ‹¬bodyå…ƒç´ è‡ªèº«çš„padding)</li>

<p>ç»¼ä¸Šæˆ‘ä»¬å¾—å‡ºä¸€ä¸ªè§¦åº•å…¬å¼ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scrollTop + clientHeight &gt;= scrollHeight</span><br></pre></td></tr></table></figure>
<p>ç®€å•å®ç°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> clientHeight = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">clientHeight</span> <span class="comment">//æµè§ˆå™¨é«˜åº¦</span></span><br><span class="line"><span class="keyword">let</span> scrollHeight = <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">scrollHeight</span></span><br><span class="line"><span class="keyword">let</span> scrollTop = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">scrollTop</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> distance = <span class="number">50</span> <span class="comment">//è·ç¦»è§†çª—è¿˜ç”¨50çš„æ—¶å€™ï¼Œå¼€å§‹è§¦å‘ï¼›</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (scrollTop + clientHeight &gt;= scrollHeight - distance) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å¼€å§‹åŠ è½½æ•°æ®&#x27;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>ä¸‹æ‹‰åˆ·æ–°</strong><br>ä¸‹æ‹‰åˆ·æ–°çš„æœ¬è´¨æ˜¯é¡µé¢æœ¬èº«ç½®äºé¡¶éƒ¨æ—¶ï¼Œç”¨æˆ·ä¸‹æ‹‰æ—¶éœ€è¦è§¦å‘çš„åŠ¨ä½œ</p>
<p>å…³äºä¸‹æ‹‰åˆ·æ–°çš„åŸç”Ÿå®ç°ï¼Œä¸»è¦åˆ†æˆä¸‰æ­¥ï¼š</p>
<li>ç›‘å¬åŸç”Ÿtouchstartäº‹ä»¶ï¼Œè®°å½•å…¶åˆå§‹ä½ç½®çš„å€¼ï¼Œe.touches[0].pageYï¼›</li>
<li>ç›‘å¬åŸç”Ÿtouchmoveäº‹ä»¶ï¼Œè®°å½•å¹¶è®¡ç®—å½“å‰æ»‘åŠ¨çš„ä½ç½®å€¼ä¸åˆå§‹ä½ç½®å€¼çš„å·®å€¼ï¼Œå¤§äº0è¡¨ç¤ºå‘ä¸‹æ‹‰åŠ¨ï¼Œå¹¶å€ŸåŠ©CSS3çš„translateYå±æ€§ä½¿å…ƒç´ è·Ÿéšæ‰‹åŠ¿å‘ä¸‹æ»‘åŠ¨å¯¹åº”çš„å·®å€¼ï¼ŒåŒæ—¶ä¹Ÿåº”è®¾ç½®ä¸€ä¸ªå…è®¸æ»‘åŠ¨çš„æœ€å¤§å€¼ï¼›</li>
<li>ç›‘å¬åŸç”Ÿtouchendäº‹ä»¶ï¼Œè‹¥æ­¤æ—¶å…ƒç´ æ»‘åŠ¨è¾¾åˆ°æœ€å¤§å€¼ï¼Œåˆ™è§¦å‘callbackï¼ŒåŒæ—¶å°†translateYé‡è®¾ä¸º0ï¼Œå…ƒç´ å›åˆ°åˆå§‹ä½ç½®</li>

<p>ä¸¾ä¸ªä¾‹å­:<br><code>html</code> ç»“æ„å¦‚ä¸‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;main&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;refreshText&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;refreshContainer&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>111<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>222<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>333<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>444<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>555<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    ...</span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line">&lt;/main&gt;</span><br></pre></td></tr></table></figure>
<p>ç›‘å¬<code>touchstart</code>äº‹ä»¶ï¼Œè®°å½•åˆå§‹çš„å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _element = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;refreshContainer&#x27;</span>),</span><br><span class="line">  _refreshText = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.refreshText&#x27;</span>),</span><br><span class="line">  _startPos = <span class="number">0</span>, <span class="comment">// åˆå§‹çš„å€¼</span></span><br><span class="line">  _transitionHeight = <span class="number">0</span> <span class="comment">// ç§»åŠ¨çš„è·ç¦»</span></span><br><span class="line"></span><br><span class="line">_element.<span class="title function_">addEventListener</span>(</span><br><span class="line">  <span class="string">&#x27;touchstart&#x27;</span>,</span><br><span class="line">  <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    _startPos = e.<span class="property">touches</span>[<span class="number">0</span>].<span class="property">pageY</span> <span class="comment">// è®°å½•åˆå§‹ä½ç½®</span></span><br><span class="line">    _element.<span class="property">style</span>.<span class="property">position</span> = <span class="string">&#x27;relative&#x27;</span></span><br><span class="line">    _element.<span class="property">style</span>.<span class="property">transition</span> = <span class="string">&#x27;transform 0s&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="literal">false</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>ç›‘å¬<code>touchmove</code>ç§»åŠ¨äº‹ä»¶ï¼Œè®°å½•æ»‘åŠ¨å·®å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">_element.<span class="title function_">addEventListener</span>(</span><br><span class="line">  <span class="string">&#x27;touchmove&#x27;</span>,</span><br><span class="line">  <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="comment">// e.touches[0].pageY å½“å‰ä½ç½®</span></span><br><span class="line">    _transitionHeight = e.<span class="property">touches</span>[<span class="number">0</span>].<span class="property">pageY</span> - _startPos <span class="comment">// è®°å½•å·®å€¼</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (_transitionHeight &gt; <span class="number">0</span> &amp;&amp; _transitionHeight &lt; <span class="number">60</span>) &#123;</span><br><span class="line">      _refreshText.<span class="property">innerText</span> = <span class="string">&#x27;ä¸‹æ‹‰åˆ·æ–°&#x27;</span></span><br><span class="line">      _element.<span class="property">style</span>.<span class="property">transform</span> = <span class="string">&#x27;translateY(&#x27;</span> + _transitionHeight + <span class="string">&#x27;px)&#x27;</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (_transitionHeight &gt; <span class="number">55</span>) &#123;</span><br><span class="line">        _refreshText.<span class="property">innerText</span> = <span class="string">&#x27;é‡Šæ”¾æ›´æ–°&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="literal">false</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>æœ€åï¼Œå°±æ˜¯ç›‘å¬<code>touchend</code>ç¦»å¼€çš„äº‹ä»¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">_element.<span class="title function_">addEventListener</span>(</span><br><span class="line">  <span class="string">&#x27;touchend&#x27;</span>,</span><br><span class="line">  <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">    _element.<span class="property">style</span>.<span class="property">transition</span> = <span class="string">&#x27;transform 0.5s ease 1s&#x27;</span></span><br><span class="line">    _element.<span class="property">style</span>.<span class="property">transform</span> = <span class="string">&#x27;translateY(0px)&#x27;</span></span><br><span class="line">    _refreshText.<span class="property">innerText</span> = <span class="string">&#x27;æ›´æ–°ä¸­...&#x27;</span></span><br><span class="line">    <span class="comment">// todo...</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="literal">false</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ä¸‹æ‹‰åˆ°æ¾æ‰‹çš„è¿‡ç¨‹ä¸­ï¼Œç»å†äº†ä¸‰ä¸ªé˜¶æ®µï¼š</p>
<li>å½“å‰æ‰‹åŠ¿æ»‘åŠ¨ä½ç½®ä¸åˆå§‹ä½ç½®å·®å€¼å¤§äºé›¶æ—¶ï¼Œæç¤ºæ­£åœ¨è¿›è¡Œä¸‹æ‹‰åˆ·æ–°æ“ä½œ</li>
<li>ä¸‹æ‹‰åˆ°ä¸€å®šå€¼æ—¶ï¼Œæ˜¾ç¤ºæ¾æ‰‹é‡Šæ”¾åçš„æ“ä½œæç¤º</li>
<li>ä¸‹æ‹‰åˆ°è¾¾è®¾å®šæœ€å¤§å€¼æ¾æ‰‹æ—¶ï¼Œæ‰§è¡Œå›è°ƒï¼Œæç¤ºæ­£åœ¨è¿›è¡Œæ›´æ–°æ“ä½œ</li>

<h3 id="3-æ¡ˆä¾‹"><a href="#3-æ¡ˆä¾‹" class="headerlink" title="3.æ¡ˆä¾‹"></a>3.æ¡ˆä¾‹</h3><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æ›´å¤šçš„æ˜¯ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ï¼Œä¸‹é¢ä»¥<code>better-scroll</code>è¿›è¡Œä¸¾ä¾‹ï¼š</p>
<p>HTML ç»“æ„</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;position-wrapper&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;refresh&quot;</span>&gt;</span>ä¸‹æ‹‰åˆ·æ–°<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;position-list&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--åˆ—è¡¨å†…å®¹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;more&quot;</span>&gt;</span>æŸ¥çœ‹æ›´å¤š<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>å®ä¾‹åŒ–ä¸Šæ‹‰ä¸‹æ‹‰æ’ä»¶ï¼Œé€šè¿‡<code>use</code>æ¥æ³¨å†Œæ’ä»¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">BScroll</span> <span class="keyword">from</span> <span class="string">&#x27;@better-scroll/core&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">PullDown</span> <span class="keyword">from</span> <span class="string">&#x27;@better-scroll/pull-down&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">PullUp</span> <span class="keyword">from</span> <span class="string">&#x27;@better-scroll/pull-up&#x27;</span></span><br><span class="line"><span class="title class_">BScroll</span>.<span class="title function_">use</span>(<span class="title class_">PullDown</span>)</span><br><span class="line"><span class="title class_">BScroll</span>.<span class="title function_">use</span>(<span class="title class_">PullUp</span>)</span><br></pre></td></tr></table></figure>
<p>å®ä¾‹åŒ–<code>BetterScroll</code>ï¼Œå¹¶ä¼ å…¥ç›¸å…³çš„å‚æ•°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pageNo = <span class="number">1</span>,pageSize = <span class="number">10</span>,dataList = [],isMore = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> scroll= <span class="keyword">new</span> <span class="title class_">BScroll</span>(<span class="string">&quot;#position-wrapper&quot;</span>,&#123;</span><br><span class="line">    <span class="attr">scrollY</span>:<span class="literal">true</span>,<span class="comment">//å‚ç›´æ–¹å‘æ»šåŠ¨</span></span><br><span class="line">    <span class="attr">click</span>:<span class="literal">true</span>,<span class="comment">//é»˜è®¤ä¼šé˜»æ­¢æµè§ˆå™¨çš„åŸç”Ÿclickäº‹ä»¶ï¼Œå¦‚æœéœ€è¦ç‚¹å‡»ï¼Œè¿™é‡Œè¦è®¾ä¸ºtrue</span></span><br><span class="line">    <span class="attr">pullUpLoad</span>:<span class="literal">true</span>,<span class="comment">//ä¸Šæ‹‰åŠ è½½æ›´å¤š</span></span><br><span class="line">    <span class="attr">pullDownRefresh</span>:&#123;</span><br><span class="line">        <span class="attr">threshold</span>:<span class="number">50</span>,<span class="comment">//è§¦å‘pullingDownäº‹ä»¶çš„ä½ç½®</span></span><br><span class="line">        <span class="attr">stop</span>:<span class="number">0</span><span class="comment">//ä¸‹æ‹‰å›å¼¹ååœç•™çš„ä½ç½®</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//ç›‘å¬ä¸‹æ‹‰åˆ·æ–°</span></span><br><span class="line">scroll.<span class="title function_">on</span>(<span class="string">&quot;pullingDown&quot;</span>,pullingDownHandler);</span><br><span class="line"><span class="comment">//ç›‘æµ‹å®æ—¶æ»šåŠ¨</span></span><br><span class="line">scroll.<span class="title function_">on</span>(<span class="string">&quot;scroll&quot;</span>,scrollHandler);</span><br><span class="line"><span class="comment">//ä¸Šæ‹‰åŠ è½½æ›´å¤š</span></span><br><span class="line">scroll.<span class="title function_">on</span>(<span class="string">&quot;pullingUp&quot;</span>,pullingUpHandler);</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">pullingDownHandler</span>(<span class="params"></span>)&#123;</span><br><span class="line">    dataList=[];</span><br><span class="line">    pageNo=<span class="number">1</span>;</span><br><span class="line">    isMore=<span class="literal">true</span>;</span><br><span class="line">    $(<span class="string">&quot;.more&quot;</span>).<span class="title function_">text</span>(<span class="string">&quot;æŸ¥çœ‹æ›´å¤š&quot;</span>);</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">getlist</span>();<span class="comment">//è¯·æ±‚æ•°æ®</span></span><br><span class="line">    scroll.<span class="title function_">finishPullDown</span>();<span class="comment">//æ¯æ¬¡ä¸‹æ‹‰ç»“æŸåï¼Œéœ€è¦æ‰§è¡Œè¿™ä¸ªæ“ä½œ</span></span><br><span class="line">    scroll.<span class="title function_">refresh</span>();<span class="comment">//å½“æ»šåŠ¨åŒºåŸŸçš„domç»“æ„æœ‰å˜åŒ–æ—¶ï¼Œéœ€è¦æ‰§è¡Œè¿™ä¸ªæ“ä½œ</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">pullingUpHandler</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(!isMore)&#123;</span><br><span class="line">        $(<span class="string">&quot;.more&quot;</span>).<span class="title function_">text</span>(<span class="string">&quot;æ²¡æœ‰æ›´å¤šæ•°æ®äº†&quot;</span>);</span><br><span class="line">        scroll.<span class="title function_">finishPullUp</span>();<span class="comment">//æ¯æ¬¡ä¸Šæ‹‰ç»“æŸåï¼Œéœ€è¦æ‰§è¡Œè¿™ä¸ªæ“ä½œ</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    pageNo++;</span><br><span class="line">    <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">getlist</span>();<span class="comment">//è¯·æ±‚æ•°æ®</span></span><br><span class="line">    scroll.<span class="title function_">finishPullUp</span>();<span class="comment">//æ¯æ¬¡ä¸Šæ‹‰ç»“æŸåï¼Œéœ€è¦æ‰§è¡Œè¿™ä¸ªæ“ä½œ</span></span><br><span class="line">    scroll.<span class="title function_">refresh</span>();<span class="comment">//å½“æ»šåŠ¨åŒºåŸŸçš„domç»“æ„æœ‰å˜åŒ–æ—¶ï¼Œéœ€è¦æ‰§è¡Œè¿™ä¸ªæ“ä½œ</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">scrollHandler</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">y</span>&gt;<span class="number">50</span>) $(<span class="string">&#x27;.refresh&#x27;</span>).<span class="title function_">text</span>(<span class="string">&quot;æ¾æ‰‹å¼€å§‹åŠ è½½&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span> $(<span class="string">&#x27;.refresh&#x27;</span>).<span class="title function_">text</span>(<span class="string">&quot;ä¸‹æ‹‰åˆ·æ–°&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getlist</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">//è¿”å›çš„æ•°æ®</span></span><br><span class="line">    <span class="keyword">let</span> result=....;</span><br><span class="line">    dataList=dataList.<span class="title function_">concat</span>(result);</span><br><span class="line">    <span class="comment">//åˆ¤æ–­æ˜¯å¦å·²åŠ è½½å®Œ</span></span><br><span class="line">    <span class="keyword">if</span>(result.<span class="property">length</span>&lt;pageSize) isMore=<span class="literal">false</span>;</span><br><span class="line">    <span class="comment">//å°†dataListæ¸²æŸ“åˆ°htmlå†…å®¹ä¸­</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ³¨æ„ç‚¹:<br>ä½¿ç”¨<code>better-scroll</code>å®ç°ä¸‹æ‹‰åˆ·æ–°ã€ä¸Šæ‹‰åŠ è½½æ—¶è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<li>wrapperé‡Œå¿…é¡»åªæœ‰ä¸€ä¸ªå­å…ƒç´ </li>
<li>å­å…ƒç´ çš„é«˜åº¦è¦æ¯”wrapperè¦é«˜</li>
<li>ä½¿ç”¨çš„æ—¶å€™ï¼Œè¦ç¡®å®šDOMå…ƒç´ æ˜¯å¦å·²ç»ç”Ÿæˆï¼Œå¿…é¡»è¦ç­‰åˆ°DOMæ¸²æŸ“å®Œæˆåï¼Œå†new BScroll()</li>
<li>æ»šåŠ¨åŒºåŸŸçš„DOMå…ƒç´ ç»“æ„æœ‰å˜åŒ–åï¼Œéœ€è¦æ‰§è¡Œåˆ·æ–° refresh()</li>
<li>ä¸Šæ‹‰æˆ–è€…ä¸‹æ‹‰ï¼Œç»“æŸåï¼Œéœ€è¦æ‰§è¡ŒfinishPullUp()æˆ–è€…finishPullDown()ï¼Œå¦åˆ™å°†ä¸ä¼šæ‰§è¡Œä¸‹æ¬¡æ“ä½œ</li>
<li>better-scrollï¼Œé»˜è®¤ä¼šé˜»æ­¢æµè§ˆå™¨çš„åŸç”Ÿclickäº‹ä»¶ï¼Œå¦‚æœæ»šåŠ¨å†…å®¹åŒºè¦æ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œéœ€è¦åœ¨å®ä¾‹åŒ–å±æ€§é‡Œè®¾ç½®click:true</li>

<h2 id="ä»€ä¹ˆæ˜¯å•ç‚¹ç™»å½•"><a href="#ä»€ä¹ˆæ˜¯å•ç‚¹ç™»å½•" class="headerlink" title="ä»€ä¹ˆæ˜¯å•ç‚¹ç™»å½•"></a>ä»€ä¹ˆæ˜¯å•ç‚¹ç™»å½•</h2><h3 id="1-æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#1-æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1.æ˜¯ä»€ä¹ˆï¼Ÿ"></a>1.æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>å•ç‚¹ç™»å½•ï¼ˆSingle Sign Onï¼‰ï¼Œç®€ç§°ä¸º SSOï¼Œæ˜¯ç›®å‰æ¯”è¾ƒæµè¡Œçš„ä¼ä¸šä¸šåŠ¡æ•´åˆçš„è§£å†³æ–¹æ¡ˆä¹‹ä¸€</p>
<p>SSO çš„å®šä¹‰æ˜¯åœ¨å¤šä¸ªåº”ç”¨ç³»ç»Ÿä¸­ï¼Œç”¨æˆ·åªéœ€è¦ç™»å½•ä¸€æ¬¡å°±å¯ä»¥è®¿é—®æ‰€æœ‰ç›¸äº’ä¿¡ä»»çš„åº”ç”¨ç³»ç»Ÿ</p>
<p>SSO ä¸€èˆ¬éƒ½éœ€è¦ä¸€ä¸ªç‹¬ç«‹çš„è®¤è¯ä¸­å¿ƒï¼ˆpassportï¼‰ï¼Œå­ç³»ç»Ÿçš„ç™»å½•å‡å¾—é€šè¿‡ passportï¼Œå­ç³»ç»Ÿæœ¬èº«å°†ä¸å‚ä¸ç™»å½•æ“ä½œ</p>
<p>å½“ä¸€ä¸ªç³»ç»ŸæˆåŠŸç™»å½•ä»¥åï¼Œ<code>passport</code>å°†ä¼šé¢å‘ä¸€ä¸ªä»¤ç‰Œç»™å„ä¸ªå­ç³»ç»Ÿï¼Œå­ç³»ç»Ÿå¯ä»¥æ‹¿ç€ä»¤ç‰Œä¼šè·å–å„è‡ªçš„å—ä¿æŠ¤èµ„æºï¼Œä¸ºäº†å‡å°‘é¢‘ç¹è®¤è¯ï¼Œå„ä¸ªå­ç³»ç»Ÿåœ¨è¢«<code>passport</code>æˆæƒä»¥åï¼Œä¼šå»ºç«‹ä¸€ä¸ªå±€éƒ¨ä¼šè¯ï¼Œåœ¨ä¸€å®šæ—¶é—´å†…å¯ä»¥æ— éœ€å†æ¬¡å‘<code>passport</code>å‘èµ·è®¤è¯</p>
<div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/å•ç‚¹ç™»å½•1.png"/></div></div>
<p>ä¸Šå›¾æœ‰å››ä¸ªç³»ç»Ÿï¼Œåˆ†åˆ«æ˜¯<code>Application1</code>ã€<code>Application2</code>ã€<code>Application3</code>ã€å’Œ<code>SSO</code>ï¼Œå½“<code>Application1</code>ã€<code>Application2</code>ã€<code>Application3</code>éœ€è¦ç™»å½•æ—¶ï¼Œå°†è·³åˆ°<code>SSO</code>ç³»ç»Ÿï¼Œ<code>SSO</code>ç³»ç»Ÿå®Œæˆç™»å½•ï¼Œå…¶ä»–çš„åº”ç”¨ç³»ç»Ÿä¹Ÿå°±éšä¹‹ç™»å½•äº†</p>
<p>æ·˜å®ã€å¤©çŒ«éƒ½å±äºé˜¿é‡Œæ——ä¸‹ï¼Œå½“ç”¨æˆ·ç™»å½•æ·˜å®åï¼Œå†æ‰“å¼€å¤©çŒ«ï¼Œç³»ç»Ÿä¾¿è‡ªåŠ¨å¸®ç”¨æˆ·ç™»å½•äº†å¤©çŒ«ï¼Œè¿™ç§ç°è±¡å°±å±äºå•ç‚¹ç™»å½•</p>
<h3 id="2-å¦‚ä½•å®ç°"><a href="#2-å¦‚ä½•å®ç°" class="headerlink" title="2.å¦‚ä½•å®ç°"></a>2.å¦‚ä½•å®ç°</h3><p><strong>åŒåŸŸåä¸‹çš„å•ç‚¹ç™»å½•</strong></p>
<p><code>cookie</code>çš„<code>domain</code>å±æ€§è®¾ç½®ä¸ºå½“å‰åŸŸçš„çˆ¶åŸŸï¼Œå¹¶ä¸”çˆ¶åŸŸçš„<code>cookie</code>ä¼šè¢«å­åŸŸæ‰€å…±äº«ã€‚<code>path</code>å±æ€§é»˜è®¤ä¸º<code>web</code>åº”ç”¨çš„ä¸Šä¸‹æ–‡è·¯å¾„</p>
<p>åˆ©ç”¨ <code>Cookie</code>çš„è¿™ä¸ªç‰¹ç‚¹ï¼Œæ²¡é”™ï¼Œæˆ‘ä»¬åªéœ€è¦å°†<code>Cookie</code>çš„<code>domain</code>å±æ€§è®¾ç½®ä¸ºçˆ¶åŸŸçš„åŸŸåï¼ˆä¸»åŸŸåï¼‰ï¼ŒåŒæ—¶å°†<code>Cookie</code>çš„<code>path</code>å±æ€§è®¾ç½®ä¸ºæ ¹è·¯å¾„ï¼Œå°† <code>Session IDï¼ˆæˆ– Tokenï¼‰</code>ä¿å­˜åˆ°çˆ¶åŸŸä¸­ã€‚è¿™æ ·æ‰€æœ‰çš„å­åŸŸåº”ç”¨å°±éƒ½å¯ä»¥è®¿é—®åˆ°è¿™ä¸ª<code>Cookie</code></p>
<p>ä¸è¿‡è¿™è¦æ±‚åº”ç”¨ç³»ç»Ÿçš„åŸŸåéœ€å»ºç«‹åœ¨ä¸€ä¸ªå…±åŒçš„ä¸»åŸŸåä¹‹ä¸‹ï¼Œå¦‚ <code>tieba.baidu.com</code> å’Œ <code>map.baidu.com</code>ï¼Œå®ƒä»¬éƒ½å»ºç«‹åœ¨ <code>baidu.com</code>è¿™ä¸ªä¸»åŸŸåä¹‹ä¸‹ï¼Œé‚£ä¹ˆå®ƒä»¬å°±å¯ä»¥é€šè¿‡è¿™ç§æ–¹å¼æ¥å®ç°å•ç‚¹ç™»å½•</p>
<p><strong>ä¸åŒåŸŸåä¸‹çš„å•ç‚¹ç™»å½•(ä¸€)</strong></p>
<p>å¦‚æœæ˜¯ä¸åŒåŸŸçš„æƒ…å†µä¸‹ï¼Œ<code>Cookie</code>æ˜¯ä¸å…±äº«çš„ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥éƒ¨ç½²ä¸€ä¸ªè®¤è¯ä¸­å¿ƒï¼Œç”¨äºä¸“é—¨å¤„ç†ç™»å½•è¯·æ±‚çš„ç‹¬ç«‹çš„<code>Web</code>æœåŠ¡</p>
<p>ç”¨æˆ·ç»Ÿä¸€åœ¨è®¤è¯ä¸­å¿ƒè¿›è¡Œç™»å½•ï¼Œç™»å½•æˆåŠŸåï¼Œè®¤è¯ä¸­å¿ƒè®°å½•ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ï¼Œå¹¶å°† <code>token</code> å†™å…¥ <code>Cookie</code>ï¼ˆæ³¨æ„è¿™ä¸ª <code>Cookie</code>æ˜¯è®¤è¯ä¸­å¿ƒçš„ï¼Œåº”ç”¨ç³»ç»Ÿæ˜¯è®¿é—®ä¸åˆ°çš„ï¼‰</p>
<p>åº”ç”¨ç³»ç»Ÿæ£€æŸ¥å½“å‰è¯·æ±‚æœ‰æ²¡æœ‰ Tokenï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¯´æ˜ç”¨æˆ·åœ¨å½“å‰ç³»ç»Ÿä¸­å°šæœªç™»å½•ï¼Œé‚£ä¹ˆå°±å°†é¡µé¢è·³è½¬è‡³è®¤è¯ä¸­å¿ƒ</p>
<p>ç”±äºè¿™ä¸ªæ“ä½œä¼šå°†è®¤è¯ä¸­å¿ƒçš„ <code>Cookie</code> è‡ªåŠ¨å¸¦è¿‡å»ï¼Œå› æ­¤ï¼Œè®¤è¯ä¸­å¿ƒèƒ½å¤Ÿæ ¹æ® <code>Cookie</code> çŸ¥é“ç”¨æˆ·æ˜¯å¦å·²ç»ç™»å½•è¿‡äº†</p>
<p>å¦‚æœè®¤è¯ä¸­å¿ƒå‘ç°ç”¨æˆ·å°šæœªç™»å½•ï¼Œåˆ™è¿”å›ç™»å½•é¡µé¢ï¼Œç­‰å¾…ç”¨æˆ·ç™»å½•</p>
<p>å¦‚æœå‘ç°ç”¨æˆ·å·²ç»ç™»å½•è¿‡äº†ï¼Œå°±ä¸ä¼šè®©ç”¨æˆ·å†æ¬¡ç™»å½•äº†ï¼Œè€Œæ˜¯ä¼šè·³è½¬å›ç›®æ ‡ <code>URL</code>ï¼Œå¹¶åœ¨è·³è½¬å‰ç”Ÿæˆä¸€ä¸ª <code>Token</code>ï¼Œæ‹¼æ¥åœ¨ç›®æ ‡ <code>URL</code>çš„åé¢ï¼Œå›ä¼ ç»™ç›®æ ‡åº”ç”¨ç³»ç»Ÿ</p>
<p>åº”ç”¨ç³»ç»Ÿæ‹¿åˆ° <code>Token</code>ä¹‹åï¼Œè¿˜éœ€è¦å‘è®¤è¯ä¸­å¿ƒç¡®è®¤ä¸‹ <code>Token</code> çš„åˆæ³•æ€§ï¼Œé˜²æ­¢ç”¨æˆ·ä¼ªé€ ã€‚ç¡®è®¤æ— è¯¯åï¼Œåº”ç”¨ç³»ç»Ÿè®°å½•ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ï¼Œå¹¶å°†<code>Token</code>å†™å…¥ <code>Cookie</code>ï¼Œç„¶åç»™æœ¬æ¬¡è®¿é—®æ”¾è¡Œã€‚ï¼ˆæ³¨æ„è¿™ä¸ª <code>Cookie</code> æ˜¯å½“å‰åº”ç”¨ç³»ç»Ÿçš„ï¼‰å½“ç”¨æˆ·å†æ¬¡è®¿é—®å½“å‰åº”ç”¨ç³»ç»Ÿæ—¶ï¼Œå°±ä¼šè‡ªåŠ¨å¸¦ä¸Šè¿™ä¸ª <code>Token</code>ï¼Œåº”ç”¨ç³»ç»ŸéªŒè¯ <code>Token</code> å‘ç°ç”¨æˆ·å·²ç™»å½•ï¼Œäºæ˜¯å°±ä¸ä¼šæœ‰è®¤è¯ä¸­å¿ƒä»€ä¹ˆäº‹äº†</p>
<p>æ­¤ç§å®ç°æ–¹å¼ç›¸å¯¹å¤æ‚ï¼Œæ”¯æŒè·¨åŸŸï¼Œæ‰©å±•æ€§å¥½ï¼Œæ˜¯å•ç‚¹ç™»å½•çš„æ ‡å‡†åšæ³•</p>
<p><strong>ä¸åŒåŸŸåä¸‹çš„å•ç‚¹ç™»å½•(äºŒ)</strong><br>å¯ä»¥é€‰æ‹©å°† <code>Session ID ï¼ˆæˆ– Token ï¼‰</code>ä¿å­˜åˆ°æµè§ˆå™¨çš„ <code>LocalStorage</code> ä¸­ï¼Œè®©å‰ç«¯åœ¨æ¯æ¬¡å‘åç«¯å‘é€è¯·æ±‚æ—¶ï¼Œä¸»åŠ¨å°†<code>LocalStorage</code>çš„æ•°æ®ä¼ é€’ç»™æœåŠ¡ç«¯</p>
<p>è¿™äº›éƒ½æ˜¯ç”±å‰ç«¯æ¥æ§åˆ¶çš„ï¼Œåç«¯éœ€è¦åšçš„ä»…ä»…æ˜¯åœ¨ç”¨æˆ·ç™»å½•æˆåŠŸåï¼Œå°† <code>Session IDï¼ˆæˆ– Tokenï¼‰</code>æ”¾åœ¨å“åº”ä½“ä¸­ä¼ é€’ç»™å‰ç«¯</p>
<p>å•ç‚¹ç™»å½•å®Œå…¨å¯ä»¥åœ¨å‰ç«¯å®ç°ã€‚å‰ç«¯æ‹¿åˆ° <code>Session IDï¼ˆæˆ– Token ï¼‰</code>åï¼Œé™¤äº†å°†å®ƒå†™å…¥è‡ªå·±çš„ <code>LocalStorage</code> ä¸­ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡ç‰¹æ®Šæ‰‹æ®µå°†å®ƒå†™å…¥å¤šä¸ªå…¶ä»–åŸŸä¸‹çš„ <code>LocalStorage</code> ä¸­</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å– token</span></span><br><span class="line"><span class="keyword">var</span> token = result.<span class="property">data</span>.<span class="property">token</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åŠ¨æ€åˆ›å»ºä¸€ä¸ªä¸å¯è§çš„iframeï¼Œåœ¨iframeä¸­åŠ è½½ä¸€ä¸ªè·¨åŸŸHTML</span></span><br><span class="line"><span class="keyword">var</span> iframe = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;iframe&#x27;</span>)</span><br><span class="line">iframe.<span class="property">src</span> = <span class="string">&#x27;http://app1.com/localstorage.html&#x27;</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">append</span>(iframe)</span><br><span class="line"><span class="comment">// ä½¿ç”¨postMessage()æ–¹æ³•å°†tokenä¼ é€’ç»™iframe</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  iframe.<span class="property">contentWindow</span>.<span class="title function_">postMessage</span>(token, <span class="string">&#x27;http://app1.com&#x27;</span>)</span><br><span class="line">&#125;, <span class="number">4000</span>)</span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  iframe.<span class="title function_">remove</span>()</span><br><span class="line">&#125;, <span class="number">6000</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨è¿™ä¸ªiframeæ‰€åŠ è½½çš„HTMLä¸­ç»‘å®šä¸€ä¸ªäº‹ä»¶ç›‘å¬å™¨ï¼Œå½“äº‹ä»¶è¢«è§¦å‘æ—¶ï¼ŒæŠŠæ¥æ”¶åˆ°çš„tokenæ•°æ®å†™å…¥localStorage</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(</span><br><span class="line">  <span class="string">&#x27;message&#x27;</span>,</span><br><span class="line">  <span class="keyword">function</span> (<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;token&#x27;</span>, event.<span class="property">data</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="literal">false</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>å‰ç«¯é€šè¿‡ <code>iframe+postMessage()</code> æ–¹å¼ï¼Œå°†åŒä¸€ä»½<code>Token</code>å†™å…¥åˆ°äº†å¤šä¸ªåŸŸä¸‹çš„ <code>LocalStorage</code> ä¸­ï¼Œå‰ç«¯æ¯æ¬¡åœ¨å‘åç«¯å‘é€è¯·æ±‚ä¹‹å‰ï¼Œéƒ½ä¼šä¸»åŠ¨ä» <code>LocalStorage</code> ä¸­è¯»å–<code>Token</code>å¹¶åœ¨è¯·æ±‚ä¸­æºå¸¦ï¼Œè¿™æ ·å°±å®ç°äº†åŒä¸€ä»½<code>Token</code>è¢«å¤šä¸ªåŸŸæ‰€å…±äº«</p>
<p>æ­¤ç§å®ç°æ–¹å¼å®Œå…¨ç”±å‰ç«¯æ§åˆ¶ï¼Œå‡ ä¹ä¸éœ€è¦åç«¯å‚ä¸ï¼ŒåŒæ ·æ”¯æŒè·¨åŸŸ</p>
<h3 id="3-æµç¨‹"><a href="#3-æµç¨‹" class="headerlink" title="3.æµç¨‹"></a>3.æµç¨‹</h3><p>å•ç‚¹ç™»å½•çš„æµç¨‹å›¾å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="img-wrap"><div class="img-bg"><img class="img" src="../image/article/å‰ç«¯md/å•ç‚¹ç™»å½•æµç¨‹.png"/></div></div>
<p>ç”¨æˆ·è®¿é—®ç³»ç»Ÿ 1 çš„å—ä¿æŠ¤èµ„æºï¼Œç³»ç»Ÿ 1 å‘ç°ç”¨æˆ·æœªç™»å½•ï¼Œè·³è½¬è‡³ sso è®¤è¯ä¸­å¿ƒï¼Œå¹¶å°†è‡ªå·±çš„åœ°å€ä½œä¸ºå‚æ•°</p>
<p>sso è®¤è¯ä¸­å¿ƒå‘ç°ç”¨æˆ·æœªç™»å½•ï¼Œå°†ç”¨æˆ·å¼•å¯¼è‡³ç™»å½•é¡µé¢</p>
<p>ç”¨æˆ·è¾“å…¥ç”¨æˆ·åå¯†ç æäº¤ç™»å½•ç”³è¯·</p>
<p>sso è®¤è¯ä¸­å¿ƒæ ¡éªŒç”¨æˆ·ä¿¡æ¯ï¼Œåˆ›å»ºç”¨æˆ·ä¸ sso è®¤è¯ä¸­å¿ƒä¹‹é—´çš„ä¼šè¯ï¼Œç§°ä¸ºå…¨å±€ä¼šè¯ï¼ŒåŒæ—¶åˆ›å»ºæˆæƒä»¤ç‰Œ</p>
<p>sso è®¤è¯ä¸­å¿ƒå¸¦ç€ä»¤ç‰Œè·³è½¬ä¼šæœ€åˆçš„è¯·æ±‚åœ°å€ï¼ˆç³»ç»Ÿ 1ï¼‰</p>
<p>ç³»ç»Ÿ 1 æ‹¿åˆ°ä»¤ç‰Œï¼Œå» sso è®¤è¯ä¸­å¿ƒæ ¡éªŒä»¤ç‰Œæ˜¯å¦æœ‰æ•ˆ</p>
<p>sso è®¤è¯ä¸­å¿ƒæ ¡éªŒä»¤ç‰Œï¼Œè¿”å›æœ‰æ•ˆï¼Œæ³¨å†Œç³»ç»Ÿ 1</p>
<p>ç³»ç»Ÿ 1 ä½¿ç”¨è¯¥ä»¤ç‰Œåˆ›å»ºä¸ç”¨æˆ·çš„ä¼šè¯ï¼Œç§°ä¸ºå±€éƒ¨ä¼šè¯ï¼Œè¿”å›å—ä¿æŠ¤èµ„æº</p>
<p>ç”¨æˆ·è®¿é—®ç³»ç»Ÿ 2 çš„å—ä¿æŠ¤èµ„æº</p>
<p>ç³»ç»Ÿ 2 å‘ç°ç”¨æˆ·æœªç™»å½•ï¼Œè·³è½¬è‡³ sso è®¤è¯ä¸­å¿ƒï¼Œå¹¶å°†è‡ªå·±çš„åœ°å€ä½œä¸ºå‚æ•°</p>
<p>sso è®¤è¯ä¸­å¿ƒå‘ç°ç”¨æˆ·å·²ç™»å½•ï¼Œè·³è½¬å›ç³»ç»Ÿ 2 çš„åœ°å€ï¼Œå¹¶é™„ä¸Šä»¤ç‰Œ</p>
<p>ç³»ç»Ÿ 2 æ‹¿åˆ°ä»¤ç‰Œï¼Œå» sso è®¤è¯ä¸­å¿ƒæ ¡éªŒä»¤ç‰Œæ˜¯å¦æœ‰æ•ˆ</p>
<p>sso è®¤è¯ä¸­å¿ƒæ ¡éªŒä»¤ç‰Œï¼Œè¿”å›æœ‰æ•ˆï¼Œæ³¨å†Œç³»ç»Ÿ 2</p>
<p>ç³»ç»Ÿ 2 ä½¿ç”¨è¯¥ä»¤ç‰Œåˆ›å»ºä¸ç”¨æˆ·çš„å±€éƒ¨ä¼šè¯ï¼Œè¿”å›å—ä¿æŠ¤èµ„æº</p>
<p>ç”¨æˆ·ç™»å½•æˆåŠŸä¹‹åï¼Œä¼šä¸<code>sso</code>è®¤è¯ä¸­å¿ƒåŠå„ä¸ªå­ç³»ç»Ÿå»ºç«‹ä¼šè¯ï¼Œç”¨æˆ·ä¸<code>sso</code>è®¤è¯ä¸­å¿ƒå»ºç«‹çš„ä¼šè¯ç§°ä¸ºå…¨å±€ä¼šè¯</p>
<p>ç”¨æˆ·ä¸å„ä¸ªå­ç³»ç»Ÿå»ºç«‹çš„ä¼šè¯ç§°ä¸ºå±€éƒ¨ä¼šè¯ï¼Œå±€éƒ¨ä¼šè¯å»ºç«‹ä¹‹åï¼Œç”¨æˆ·è®¿é—®å­ç³»ç»Ÿå—ä¿æŠ¤èµ„æºå°†ä¸å†é€šè¿‡<code>sso</code>è®¤è¯ä¸­å¿ƒ</p>
<p>å…¨å±€ä¼šè¯ä¸å±€éƒ¨ä¼šè¯æœ‰å¦‚ä¸‹çº¦æŸå…³ç³»ï¼š</p>
<li>å±€éƒ¨ä¼šè¯å­˜åœ¨ï¼Œå…¨å±€ä¼šè¯ä¸€å®šå­˜åœ¨</li>
<li>å…¨å±€ä¼šè¯å­˜åœ¨ï¼Œå±€éƒ¨ä¼šè¯ä¸ä¸€å®šå­˜åœ¨</li>
<li>å…¨å±€ä¼šè¯é”€æ¯ï¼Œå±€éƒ¨ä¼šè¯å¿…é¡»é”€æ¯</li>

<p>123456789</p>
</article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>èµå£é¥­åƒâ”­â”®ï¹â”­â”®</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://demo.bobovo.cc/posts/056.html">https://demo.bobovo.cc/posts/056.html</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>ä½œè€…</h><div class="post-copyright-cc-info"><h>BoBOvO</h></div></div><div class="post-copyright-c"><h>å‘å¸ƒäº</h><div class="post-copyright-cc-info"><h>2023-03-15</h></div></div><div class="post-copyright-u"><h>æ›´æ–°äº</h><div class="post-copyright-cc-info"><h>2023-03-15</h></div></div><div class="post-copyright-c"><h>è®¸å¯åè®®</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%F0%9F%96%A5%EF%B8%8F%E4%BB%A3%E7%A0%81/">ğŸ–¥ï¸ä»£ç </a></div><div class="post_share"><div class="social-share" data-image="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/å‰ç«¯.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/056454.html" title="TypeScriptçš„å­¦ä¹ "><img class="cover" src="/../image/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2/typescript.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">TypeScriptçš„å­¦ä¹ </div></div></a></div><div class="next-post pull-right"><a href="/posts/52e0f7b3.html" title="footerè‡ªå®šä¹‰å’Œå¾½æ ‡çš„åˆ¶ä½œ"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">footerè‡ªå®šä¹‰å’Œå¾½æ ‡çš„åˆ¶ä½œ</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/posts/e563214.html" title="Markdownè¯­æ³•(è‡ªç”¨)"><img class="cover" src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/markdown.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-07</div><div class="title">Markdownè¯­æ³•(è‡ªç”¨)</div></div></a></div><div><a href="/posts/52e0f7b3.html" title="footerè‡ªå®šä¹‰å’Œå¾½æ ‡çš„åˆ¶ä½œ"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-08</div><div class="title">footerè‡ªå®šä¹‰å’Œå¾½æ ‡çš„åˆ¶ä½œ</div></div></a></div><div><a href="/posts/056454.html" title="TypeScriptçš„å­¦ä¹ "><img class="cover" src="/../image/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2/typescript.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-20</div><div class="title">TypeScriptçš„å­¦ä¹ </div></div></a></div><div><a href="/posts/0.html" title="èµå£é¥­åƒâ”­â”®ï¹â”­â”®"><img class="cover" src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/å‰ç«¯.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-08</div><div class="title">èµå£é¥­åƒâ”­â”®ï¹â”­â”®</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><!--.avatar-img  æœ¬èº«ä¸æ³¨é‡Šé‚£ä¸€ä¸ªç¼©è¿›ç›¸åŒimg(src=url_for(theme.avatar.img) onerror=`this.onerror=null;this.src='` + url_for(theme.error_img.flink) + `'` alt="avatar")--><div class="card-info-avatar"><div class="avatar-img"><img src="/image/%E5%A4%B4%E5%83%8F.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-status-box"><div class="author-status"><g-emoji class="g-emoji" alias="palm_tree" fallback-src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/1675585138487.jpg">âœ¨</g-emoji><span>å†²å†²å†²ï¼ï¼</span></div></div></div><div class="author-info__name">BoBOvO</div><div class="author-info__description">è‡ªå·±çš„å°çª</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">10</div></a><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">4</div></a></div><a id="card-info-btn" href="/about/"><!--å¤´å‘ä¸‹æŒ‰é’® å‰å›¾æ ‡--><!--i(class=theme.aside.card_author.button.icon)--><span>ğŸ­ğŸ­å‰å¾€å°å®¶ğŸ­ğŸ­</span></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/bob-bzh" target="_blank" title="Github"><svg class="social_icon" aria-hidden="true"><use xlink:href="#icon-bloggithub"></use></svg></a><a class="social-icon faa-parent animated-hover" href="mailto:2950253898@qq.com" target="_blank" title="Email"><svg class="social_icon" aria-hidden="true"><use xlink:href="#icon-blogmail"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://leetcode.cn/" target="_blank" title="leetcode"><svg class="social_icon" aria-hidden="true"><use xlink:href="#icon-blogleetcode"></use></svg></a><a class="social-icon faa-parent animated-hover" href="/image/WeChat.jpg" target="_blank" title="WeChat"><svg class="social_icon" aria-hidden="true"><use xlink:href="#icon-blogweixin"></use></svg></a><a class="social-icon faa-parent animated-hover" href="https://res.abeim.cn/api/qq/?qq=2950253898" target="_blank" title="QQ"><svg class="social_icon" aria-hidden="true"><use xlink:href="#icon-blogqq"></use></svg></a></div></div><div class="card-widget card-announcement"><div id="welcome-info"></div><div class="item-headline"><span>BoBOvOã®ç•™è¨€</span></div><div class="announcement_content">æ¬¢è¿å…‰ä¸´!æœ‰é—®é¢˜è¯„è®ºåŒºäº¤æµï¼</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript-%E7%B3%BB%E5%88%97"><span class="toc-text">JavaScript ç³»åˆ—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript-%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-%E5%AD%98%E5%82%A8%E5%B7%AE%E5%88%AB"><span class="toc-text">JavaScript ä¸­çš„æ•°æ®ç±»å‹ å­˜å‚¨å·®åˆ«</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-text">å‰è¨€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B"><span class="toc-text">1.åŸºæœ¬ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="toc-text">2.å¼•ç”¨ç±»å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%AD%98%E5%82%A8%E5%8C%BA%E5%88%AB"><span class="toc-text">3.å­˜å‚¨åŒºåˆ«</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B"><span class="toc-text">åŸºæœ¬ç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B"><span class="toc-text">å¼•ç”¨ç±»å‹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-text">å°ç»“</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-text">æ•°ç»„çš„å¸¸ç”¨æ–¹æ³•æœ‰å“ªäº›</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95"><span class="toc-text">1.æ“ä½œæ–¹æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A2%9E"><span class="toc-text">å¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0"><span class="toc-text">åˆ </span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%B9"><span class="toc-text">æ”¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5"><span class="toc-text">æŸ¥</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%8E%92%E5%BA%8F%E6%96%B9%E6%B3%95"><span class="toc-text">2.æ’åºæ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%BD%AC%E6%8D%A2%E6%96%B9%E6%B3%95"><span class="toc-text">3.è½¬æ¢æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E8%BF%AD%E4%BB%A3%E6%96%B9%E6%B3%95"><span class="toc-text">4.è¿­ä»£æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript-%E4%B8%AD%E7%9A%84%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E6%9C%BA%E5%88%B6"><span class="toc-text">JavaScript ä¸­çš„ç±»å‹è½¬æ¢æœºåˆ¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%A6%82%E8%BF%B0"><span class="toc-text">1.æ¦‚è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%98%BE%E7%A4%BA%E8%BD%AC%E6%8D%A2"><span class="toc-text">2.æ˜¾ç¤ºè½¬æ¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%9A%90%E5%BC%8F%E8%BD%AC%E6%8D%A2"><span class="toc-text">3.éšå¼è½¬æ¢</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%9F%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%EF%BC%9F"><span class="toc-text">æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«ï¼Ÿå¦‚ä½•å®ç°ï¼Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E5%AD%98%E5%82%A8"><span class="toc-text">1.æ•°æ®ç±»å‹å­˜å‚¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%B5%85%E6%8B%B7%E8%B4%9D"><span class="toc-text">2.æµ…æ‹·è´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="toc-text">3.æ·±æ‹·è´</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%8C%BA%E5%88%AB"><span class="toc-text">4.åŒºåˆ«</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-1"><span class="toc-text">å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E9%97%AD%E5%8C%85%E7%9A%84%E7%90%86%E8%A7%A3%EF%BC%8C%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">å¯¹é—­åŒ…çš„ç†è§£ï¼Œä½¿ç”¨åœºæ™¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-text">1.æ˜¯ä»€ä¹ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">2.ä½¿ç”¨åœºæ™¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-text">3.æ³¨æ„äº‹é¡¹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-text">å¯¹ä½œç”¨åŸŸé“¾çš„ç†è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">1.ä½œç”¨åŸŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%AF%8D%E6%B3%95%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-text">2.è¯æ³•ä½œç”¨åŸŸ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%BD%9C%E7%94%A8%E5%9F%9F%E9%93%BE"><span class="toc-text">3.ä½œç”¨åŸŸé“¾</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript-%E5%8E%9F%E5%9E%8B%EF%BC%8C%E5%8E%9F%E5%9E%8B%E9%93%BE%EF%BC%8C%E6%9C%89%E4%BB%80%E4%B9%88%E7%89%B9%E7%82%B9"><span class="toc-text">JavaScript åŸå‹ï¼ŒåŸå‹é“¾ï¼Œæœ‰ä»€ä¹ˆç‰¹ç‚¹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%8E%9F%E5%9E%8B"><span class="toc-text">1.åŸå‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8E%9F%E5%9E%8B%E9%93%BE"><span class="toc-text">2.åŸå‹é“¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%80%BB%E7%BB%93"><span class="toc-text">3.æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript-%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0%E7%BB%A7%E6%89%BF"><span class="toc-text">JavaScript æ€ä¹ˆå®ç°ç»§æ‰¿</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%98%AF%E4%BB%80%E4%B9%88-1"><span class="toc-text">1.æ˜¯ä»€ä¹ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F"><span class="toc-text">2.å®ç°æ–¹å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%80%BB%E7%BB%93-1"><span class="toc-text">3.æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B0%88%E8%B0%88-this-%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-text">è°ˆè°ˆ this å¯¹è±¡çš„ç†è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%AE%9A%E4%B9%89"><span class="toc-text">1.å®šä¹‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BB%91%E5%AE%9A%E8%A7%84%E5%88%99"><span class="toc-text">2.ç»‘å®šè§„åˆ™</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0"><span class="toc-text">3.ç®­å¤´å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E4%BC%98%E5%85%88%E7%BA%A7"><span class="toc-text">4.ä¼˜å…ˆçº§</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%90%E5%BC%8F%E7%BB%91%E5%AE%9A-VS-%E6%98%BE%E7%A4%BA%E7%BB%91%E5%AE%9A"><span class="toc-text">éšå¼ç»‘å®š VS æ˜¾ç¤ºç»‘å®š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#new-%E7%BB%91%E5%AE%9A-VS-%E9%9A%90%E5%BC%8F%E7%BB%91%E5%AE%9A"><span class="toc-text">new ç»‘å®š VS éšå¼ç»‘å®š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#new-%E7%BB%91%E5%AE%9A-VS-%E6%98%BE%E5%BC%8F%E7%BB%91%E5%AE%9A"><span class="toc-text">new ç»‘å®š VS æ˜¾å¼ç»‘å®š</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript-%E4%B8%AD%E6%89%A7%E8%A1%8C%E4%B8%8A%E4%B8%8B%E6%96%87%E5%92%8C%E6%89%A7%E8%A1%8C%E6%A0%88"><span class="toc-text">JavaScript ä¸­æ‰§è¡Œä¸Šä¸‹æ–‡å’Œæ‰§è¡Œæ ˆ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript-%E4%BA%8B%E4%BB%B6%E6%A8%A1%E5%9E%8B"><span class="toc-text">JavaScript äº‹ä»¶æ¨¡å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BA%8B%E4%BB%B6%E4%B8%8E%E4%BA%8B%E4%BB%B6%E6%B5%81"><span class="toc-text">1.äº‹ä»¶ä¸äº‹ä»¶æµ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BA%8B%E4%BB%B6%E6%A8%A1%E5%9E%8B"><span class="toc-text">2.äº‹ä»¶æ¨¡å‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#typeof-%E4%B8%8E-instanceof-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">typeof ä¸ instanceof çš„åŒºåˆ«</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-typeof"><span class="toc-text">1.typeof</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-instanceof"><span class="toc-text">2.instanceof</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%8C%BA%E5%88%AB"><span class="toc-text">3.åŒºåˆ«</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%8B%E4%BB%B6%E4%BB%A3%E7%90%86%EF%BC%9F%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">ä»€ä¹ˆæ˜¯äº‹ä»¶ä»£ç†ï¼Ÿåº”ç”¨åœºæ™¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%98%AF%E4%BB%80%E4%B9%88-2"><span class="toc-text">1.æ˜¯ä»€ä¹ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">2.åº”ç”¨åœºæ™¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%80%BB%E7%BB%93-2"><span class="toc-text">3.æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#new-%E6%93%8D%E4%BD%9C%E7%AC%A6%E5%85%B7%E4%BD%93%E5%B9%B2%E4%BA%86%E4%BB%80%E4%B9%88"><span class="toc-text">new æ“ä½œç¬¦å…·ä½“å¹²äº†ä»€ä¹ˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%98%AF%E4%BB%80%E4%B9%88-3"><span class="toc-text">1.æ˜¯ä»€ä¹ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%B5%81%E7%A8%8B"><span class="toc-text">2.æµç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%89%8B%E5%86%99-new-%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="toc-text">3.æ‰‹å†™ new æ“ä½œç¬¦</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ajax-%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0"><span class="toc-text">ajax åŸç†æ˜¯ä»€ä¹ˆï¼Ÿå¦‚ä½•å®ç°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%98%AF%E4%BB%80%E4%B9%88-4"><span class="toc-text">1.æ˜¯ä»€ä¹ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%9E%E7%8E%B0%E8%BF%87%E7%A8%8B"><span class="toc-text">2.å®ç°è¿‡ç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%B0%81%E8%A3%85"><span class="toc-text">3.å°è£…</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bind-call-apply-%E5%8C%BA%E5%88%AB"><span class="toc-text">bind,call,apply åŒºåˆ«</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E4%BD%9C%E7%94%A8"><span class="toc-text">1.ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8C%BA%E5%88%AB"><span class="toc-text">åŒºåˆ«</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%AE%9E%E7%8E%B0"><span class="toc-text">3.å®ç°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E7%9A%84%E7%90%86%E8%A7%A3-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">æ­£åˆ™è¡¨è¾¾å¼çš„ç†è§£ åº”ç”¨åœºæ™¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%98%AF%E4%BB%80%E4%B9%88-5"><span class="toc-text">1.æ˜¯ä»€ä¹ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8C%B9%E9%85%8D%E8%A7%84%E5%88%99"><span class="toc-text">2.åŒ¹é…è§„åˆ™</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-text">å¯¹äº‹ä»¶å¾ªç¯çš„ç†è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%98%AF%E4%BB%80%E4%B9%88-6"><span class="toc-text">1.æ˜¯ä»€ä¹ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%8F%E4%BB%BB%E5%8A%A1%E4%B8%8E%E5%BE%AE%E4%BB%BB%E5%8A%A1"><span class="toc-text">2.å®ä»»åŠ¡ä¸å¾®ä»»åŠ¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#async-%E4%B8%8E-await"><span class="toc-text">async ä¸ await</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90"><span class="toc-text">4.æµç¨‹åˆ†æ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript-%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F"><span class="toc-text">JavaScript å†…å­˜æ³„æ¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%98%AF%E4%BB%80%E4%B9%88-7"><span class="toc-text">1.æ˜¯ä»€ä¹ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6"><span class="toc-text">2.åƒåœ¾å›æ”¶æœºåˆ¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript-%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F-%E5%8C%BA%E5%88%AB%E5%8F%8A%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">JavaScript æœ¬åœ°å­˜å‚¨æ–¹å¼ åŒºåˆ«åŠåº”ç”¨åœºæ™¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%96%B9%E5%BC%8F"><span class="toc-text">1.æ–¹å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%8C%BA%E5%88%AB"><span class="toc-text">2.åŒºåˆ«</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">3.åº”ç”¨åœºæ™¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JavaScript-%E6%95%B0%E5%AD%97%E7%B2%BE%E5%BA%A6%E4%B8%A2%E5%A4%B1%E7%9A%84%E9%97%AE%E9%A2%98-%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3"><span class="toc-text">JavaScript æ•°å­—ç²¾åº¦ä¸¢å¤±çš„é—®é¢˜,å¦‚ä½•è§£å†³</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%9C%BA%E6%99%AF%E5%A4%8D%E7%8E%B0"><span class="toc-text">1.åœºæ™¯å¤ç°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%B5%AE%E7%82%B9%E6%95%B0"><span class="toc-text">2.æµ®ç‚¹æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90"><span class="toc-text">3.é—®é¢˜åˆ†æ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-text">4.è§£å†³æ–¹æ¡ˆ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81"><span class="toc-text">ä»€ä¹ˆæ˜¯é˜²æŠ–å’ŒèŠ‚æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%98%AF%E4%BB%80%E4%B9%88-8"><span class="toc-text">1.æ˜¯ä»€ä¹ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-text">2.ä»£ç å®ç°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E5%8C%BA%E5%88%AB-1"><span class="toc-text">3.åŒºåˆ«</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">4.åº”ç”¨åœºæ™¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%88%A4%E6%96%AD%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0%E6%98%AF%E5%90%A6%E5%9C%A8%E5%8F%AF%E8%A7%86%E5%8C%BA%E5%9F%9F%E5%86%85"><span class="toc-text">å¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨å¯è§†åŒºåŸŸå†…</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%94%A8%E9%80%94"><span class="toc-text">1.ç”¨é€”</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F-1"><span class="toc-text">2.å®ç°æ–¹å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90"><span class="toc-text">3.æ¡ˆä¾‹åˆ†æ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%A7%E6%96%87%E4%BB%B6%E5%A6%82%E4%BD%95%E5%81%9A%E6%96%AD%E7%82%B9%E7%BB%AD%E4%BC%A0"><span class="toc-text">å¤§æ–‡ä»¶å¦‚ä½•åšæ–­ç‚¹ç»­ä¼ </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%98%AF%E4%BB%80%E4%B9%88-9"><span class="toc-text">1.æ˜¯ä»€ä¹ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">3.ä½¿ç”¨åœºæ™¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E4%B8%8A%E6%8B%89%E5%8A%A0%E8%BD%BD%EF%BC%8C%E4%B8%8B%E6%8B%89%E5%88%B7%E6%96%B0"><span class="toc-text">å¦‚ä½•å®ç°ä¸Šæ‹‰åŠ è½½ï¼Œä¸‹æ‹‰åˆ·æ–°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%89%8D%E8%A8%80"><span class="toc-text">1.å‰è¨€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-text">2.å®ç°åŸç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%A1%88%E4%BE%8B"><span class="toc-text">3.æ¡ˆä¾‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95"><span class="toc-text">ä»€ä¹ˆæ˜¯å•ç‚¹ç™»å½•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">1.æ˜¯ä»€ä¹ˆï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0"><span class="toc-text">2.å¦‚ä½•å®ç°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%B5%81%E7%A8%8B"><span class="toc-text">3.æµç¨‹</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/0001.html" title="ä»Šæ—¥ä¹¦æ‘˜"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ä»Šæ—¥ä¹¦æ‘˜"/></a><div class="content"><a class="title" href="/posts/0001.html" title="ä»Šæ—¥ä¹¦æ‘˜">ä»Šæ—¥ä¹¦æ‘˜</a><time datetime="2023-06-20T00:00:00.000Z" title="å‘è¡¨äº 2023-06-20 00:00:00">2023-06-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/056454.html" title="TypeScriptçš„å­¦ä¹ "><img src="/../image/%E6%96%87%E7%AB%A0%E5%B0%81%E9%9D%A2/typescript.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="TypeScriptçš„å­¦ä¹ "/></a><div class="content"><a class="title" href="/posts/056454.html" title="TypeScriptçš„å­¦ä¹ ">TypeScriptçš„å­¦ä¹ </a><time datetime="2023-03-20T00:00:00.000Z" title="å‘è¡¨äº 2023-03-20 00:00:00">2023-03-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/056.html" title="èµå£é¥­åƒâ”­â”®ï¹â”­â”®"><img src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/å‰ç«¯.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="èµå£é¥­åƒâ”­â”®ï¹â”­â”®"/></a><div class="content"><a class="title" href="/posts/056.html" title="èµå£é¥­åƒâ”­â”®ï¹â”­â”®">èµå£é¥­åƒâ”­â”®ï¹â”­â”®</a><time datetime="2023-03-15T00:00:00.000Z" title="å‘è¡¨äº 2023-03-15 00:00:00">2023-03-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/52e0f7b3.html" title="footerè‡ªå®šä¹‰å’Œå¾½æ ‡çš„åˆ¶ä½œ"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="footerè‡ªå®šä¹‰å’Œå¾½æ ‡çš„åˆ¶ä½œ"/></a><div class="content"><a class="title" href="/posts/52e0f7b3.html" title="footerè‡ªå®šä¹‰å’Œå¾½æ ‡çš„åˆ¶ä½œ">footerè‡ªå®šä¹‰å’Œå¾½æ ‡çš„åˆ¶ä½œ</a><time datetime="2023-02-08T00:00:00.000Z" title="å‘è¡¨äº 2023-02-08 00:00:00">2023-02-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/0.html" title="èµå£é¥­åƒâ”­â”®ï¹â”­â”®"><img src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/å‰ç«¯.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="èµå£é¥­åƒâ”­â”®ï¹â”­â”®"/></a><div class="content"><a class="title" href="/posts/0.html" title="èµå£é¥­åƒâ”­â”®ï¹â”­â”®">èµå£é¥­åƒâ”­â”®ï¹â”­â”®</a><time datetime="2023-02-08T00:00:00.000Z" title="å‘è¡¨äº 2023-02-08 00:00:00">2023-02-08</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="ft"><div class="ft-item-1"><div class="t-top"><div class="t-t-l"><p class="ft-t t-l-t">æ ¼è¨€ğŸ§¬</p><div class="bg-ad"><div>å†çœ‹çœ‹é‚£ä¸ªå…‰ç‚¹ï¼Œå®ƒå°±åœ¨è¿™é‡Œï¼Œè¿™æ˜¯å®¶å›­ï¼Œè¿™æ˜¯æˆ‘ä»¬ â€”â€” ä½ æ‰€çˆ±çš„æ¯ä¸€ä¸ªäººï¼Œä½ è®¤è¯†çš„ä¸€ä¸ªäººï¼Œä½ å¬è¯´è¿‡çš„æ¯ä¸€ä¸ªäººï¼Œæ›¾ç»æœ‰è¿‡çš„æ¯ä¸€ä¸ªäººï¼Œéƒ½åœ¨å®ƒä¸Šé¢åº¦è¿‡ä»–ä»¬çš„ä¸€ç”Ÿâœ¨</div><div class="btn-xz-box"><a class="btn-xz" target="_blank" rel="noopener" href="https://stellarium.org/">ç‚¹å‡»å¼€å¯æ˜Ÿè¾°ä¹‹æ—…</a></div></div></div><div class="t-t-r"><p class="ft-t t-l-t">çŒœä½ æƒ³çœ‹ğŸ’¡</p><ul class="ft-links"><li><a href="/tags/Butterfly">é­”æ”¹æŒ‡å—</a><a href="/box/nav/">ç½‘å€å¯¼èˆª</a></li><li><a href="/link/">æˆ‘çš„æœ‹å‹</a><a href="/comments/">ç•™ç‚¹ä»€ä¹ˆ</a></li><li><a href="/about/">å…³äºä½œè€…</a><a href="/archives/">æ–‡ç« å½’æ¡£</a></li><li><a href="/categories/">æ–‡ç« åˆ†ç±»</a><a href="/tags/">æ–‡ç« æ ‡ç­¾</a></li><li><a href="/changelog/">æ›´æ–°æ—¥å¿—</a><a href="/talks/">æˆ‘çš„å” å¨</a></li><li><a href="/box/Gallery/">æˆ‘çš„ç”»å»Š</a><a target="_blank" rel="noopener" href="https://v6.51.la/report/overview?comId=233144">ç½‘ç«™ç»Ÿè®¡</a></li></ul></div></div></div><div class="ft-item-2"><p class="ft-t">æ¨èå‹é“¾âŒ›</p><div class="ft-img-group"><div class="img-group-item"><a target="_blank" rel="noopener" href="https://ichika.cc/" title="ichikaã®å°çª"><img src="https://ichika.cc/img/Page/HeadIcon.jpg" alt=""/></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://www.qcqx.cn/" title="è½»ç¬‘Chuckle"><img src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/è½»ç¬‘Chuckle.webp" alt=""/></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://tzy1997.com/" title="å”å¿—è¿œã®åšå®¢"><img src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/tangzhiyuan.jpg" alt=""/></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="å®‰çŸ¥é±¼"><img src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/anzhiyu.png" alt=""/></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://akilar.top/" title="Akilarã®ç³–æœå±‹"><img src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/akilar.top.jpg" alt=""/></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://www.imcharon.com/" title="å°NåŒå­¦"><img src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/nesxc.webp" alt=""/></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://www.yunyoujun.cn/" title="äº‘æ¸¸å›"><img src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/yunyoujun.webp" alt=""/></a></div><div class="img-group-item"><a target="_blank" rel="noopener" href="https://butterfly.zhheo.com/" title="Butterflyä¸»é¢˜ç¾åŒ–æ•™ç¨‹"><img src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/logo.png" alt=""/></a></div></div></div></div><div class="copyright"><span><b>&copy;2022 - 2023</b></span><span><b>&nbsp;&nbsp;By BoBOvO</b></span></div><div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="åšå®¢æ¡†æ¶ä¸ºHexo_v6.3.0"><img src="https://sourcebucket.s3.ladydaily.com/badge/Frame-Hexo-blue.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="ä¸»é¢˜ç‰ˆæœ¬Butterfly_v4.3.1"><img src="https://sourcebucket.s3.ladydaily.com/badge/Theme-Butterfly-6513df.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" title="æœ¬ç«™é‡‡ç”¨å¤šçº¿éƒ¨ç½²ï¼Œä¸»çº¿è·¯æ‰˜ç®¡äºVercel"><img src="https://sourcebucket.s3.ladydaily.com/badge/Hosted-Vercel-brightgreen.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://user.51.la/" style="margin-inline:5px" title="æœ¬ç«™æ•°æ®åˆ†æå¾—ç›Šäº51laæŠ€æœ¯æ”¯æŒ"><img src="https://sourcebucket.s3.ladydaily.com/badge/Analytics-51la-3db1eb.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://bitiful.dogecast.com/buckets" style="margin-inline:5px" title="æœ¬ç½‘ç«™ç»Service Workeråˆ†æµè‡³ç¼¤çº·äº‘å¯¹è±¡å­˜å‚¨"><img src=" https://sourcebucket.s3.ladydaily.com/badge/Bucket-ç¼¤çº·äº‘-9c62da.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://www.netdun.net/" style="margin-inline:5px" title="æœ¬ç«™ä½¿ç”¨ç½‘ç›¾æ˜Ÿçƒæä¾›CDNåŠ é€Ÿä¸é˜²æŠ¤"><img src="https://sourcebucket.s3.ladydaily.com/badge/CDN-ç½‘ç›¾æ˜Ÿçƒ-fff2cc.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="æœ¬ç½‘ç«™æºç ç”±Githubæä¾›å­˜å‚¨ä»“åº“"><img src=" https://sourcebucket.s3.ladydaily.com/badge/Source-Github-d021d6.svg" alt=""/></a></p></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button><button id="go-down" type="button" title="ç›´è¾¾åº•éƒ¨" onclick="btf.scrollToDest(document.body.scrollHeight, 500)"><i class="fas fa-arrow-down"></i></button></div></div><div id="nav-music"><meting-js id="8111656844" server="netease" fixed="true" type="playlist" mini="true" mutex="true" listfolded="true" preload="none" theme="#ad7a86" data-lrctype="0" order="list"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://comment.bobovo.cc/',
      region: '',
      onCommentLoaded: function () {
        btf.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://comment.bobovo.cc/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init()
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.jsdelivr.net/npm/twikoo/dist/twikoo.all.min.js').then(runFn)
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) btf.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script></div><script src="/js/runtime.js"></script><script type="text/javascript" src="https://unpkg.zhimg.com/jquery@latest/dist/jquery.min.js"></script><script async data-pjax  src="/js/location.js"></script><script src="/js/randomblog.js"></script><script data-pjax src="/js/nav.js"></script><script src="https://widget.qweather.net/simple/static/js/he-simple-common.js?v=2.0"></script><script src="/js/weather.js"></script><canvas id="universe"></canvas><script defer src="/js/universe.js"></script><script async src="//at.alicdn.com/t/c/font_3722848_fkc0hwsdxsc.js"></script><script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script><script>LA.init({id:"JxhjNEg3AkRtKlWN",ck:"JxhjNEg3AkRtKlWN",hashMode:true})</script><script async data-pjax src="/js/custom.js"></script><script async data-pjax src="/js/waterfall/waterfall.js"></script><script src="/js/title.js"></script><script async data-pjax src="/js/music.js"></script><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><div class="aplayer no-destroy" data-id="8111656844" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false" data-lrcType="-1"> </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://picbed.saop.cc/js/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"]):not([href="/music/"]):not([href="/no-pjax/"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_swiper_injector_config(){
    var parent_div_git = document.getElementById('recent-posts');
    var item_html = '<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms;"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/056.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/å‰ç«¯.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-03-15</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/056.html&quot;);" href="javascript:void(0);" alt="">èµå£é¥­åƒâ”­â”®ï¹â”­â”®</a><div class="blog-slider__text">é¢ç»js</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/056.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/0.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/å‰ç«¯.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-02-08</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/0.html&quot;);" href="javascript:void(0);" alt="">èµå£é¥­åƒâ”­â”®ï¹â”­â”®</a><div class="blog-slider__text">é¢ç»</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/0.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/056454.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="../image/æ–‡ç« å°é¢/typescript.webp" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-03-20</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/056454.html&quot;);" href="javascript:void(0);" alt="">TypeScriptçš„å­¦ä¹ </a><div class="blog-slider__text">TS</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/056454.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/1151b7bc.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/js.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-17</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/1151b7bc.html&quot;);" href="javascript:void(0);" alt="">jsä¸€äº›æ–¹æ³•</a><div class="blog-slider__text">ç¬¬2ç¬¬2</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/1151b7bc.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/470f1c7e.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/å¾®ä¿¡å›¾ç‰‡_20230130010348.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-17</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/470f1c7e.html&quot;);" href="javascript:void(0);" alt="">HEXOé›¶æ˜Ÿé­”æ”¹</a><div class="blog-slider__text">æŠ€æœ¯æ¬ ä½³ï¼Œå¸Œæœ›èƒ½å’Œå¤§å®¶ä¸€èµ·æˆé•¿ï¼ï¼ï¼</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/470f1c7e.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/52e0f7b3.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-02-08</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/52e0f7b3.html&quot;);" href="javascript:void(0);" alt="">footerè‡ªå®šä¹‰å’Œå¾½æ ‡çš„åˆ¶ä½œ</a><div class="blog-slider__text">å†æ€ä¹ˆçœ‹æˆ‘ä¹Ÿä¸çŸ¥é“æ€ä¹ˆæè¿°å®ƒçš„å•¦ï¼</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/52e0f7b3.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/51b1ea0a.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/css.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-01-17</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/51b1ea0a.html&quot;);" href="javascript:void(0);" alt="">cssä»£ç </a><div class="blog-slider__text">æ²¡è§è¿‡æ²¡è§è¿‡ğŸ˜­</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/51b1ea0a.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/86920a4a.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/å¾®ä¿¡å›¾ç‰‡_20230130010348.jpg" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-02-04</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/86920a4a.html&quot;);" href="javascript:void(0);" alt="">å…³äºæˆ‘-é¡µé¢é­”æ”¹</a><div class="blog-slider__text">æŠ€æœ¯æ¬ ä½³ï¼Œå¸Œæœ›èƒ½å’Œå¤§å®¶ä¸€èµ·æˆé•¿ï¼ï¼ï¼</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/86920a4a.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms;"><a class="blog-slider__img" onclick="pjax.loadUrl(&quot;posts/e563214.html&quot;);" href="javascript:void(0);" alt=""><img width="48" height="48" src="https://cdn.staticaly.com/gh/bob-bzh/picgo_pic@main/img/markdown.png" alt="" onerror="this.src=https://unpkg.zhimg.com/akilar-candyassets/image/loading.gif; this.onerror = null;"/></a><div class="blog-slider__content"><span class="blog-slider__code">2023-02-07</span><a class="blog-slider__title" onclick="pjax.loadUrl(&quot;posts/e563214.html&quot;);" href="javascript:void(0);" alt="">Markdownè¯­æ³•(è‡ªç”¨)</a><div class="blog-slider__text">å¸¸ç”¨çš„ä¸€äº›æ ‡ç­¾</div><a class="blog-slider__button" onclick="pjax.loadUrl(&quot;posts/e563214.html&quot;);" href="javascript:void(0);" alt="">è¯¦æƒ…       </a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';
    console.log('å·²æŒ‚è½½butterfly_swiper')
    parent_div_git.insertAdjacentHTML("afterbegin",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = '/';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_swiper_injector_config();
  }
  else if (epage === cpage){
    butterfly_swiper_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js"></script><script async src="//at.alicdn.com/t/font_2032782_8d5kxvn09md.js"></script><!-- hexo injector body_end end --></body></html>